<!--#include file=tablestart.html -->
<P>
<I>
This document is a one-page compilation of the on-device userguide
intended for printing out for use as a reference.
</I>
<P>
<A NAME="index.html"/>

<H2>
	Tasker Userguide 
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>
	
<UL>
	<LI>Profiles
		<UL>
			<LI><A HREF="#activity_main.html">Main Screen</A></LI>
		</UL>
			
	<UL>
	<LI>Contexts
		<UL>
			<LI><A HREF="#appcontext.html">Application</A></LI>
			<LI><A HREF="#timecontext.html">Time</A></LI>
			<LI><A HREF="#daycontext.html">Day</A></LI>
			<LI><A HREF="#loccontext.html">Location</A>
			<UL>
				<LI><A HREF="#activity_locselect.html">Location Edit</A>
			</UL>
			<LI><A HREF="#activity_stateedit.html">State</A>
			<UL>
				<LI><A HREF="#help/sh_index.html">A-Z</A>
			</UL>
			<LI><A HREF="#eventcontext.html">Event</A>
			<UL>
				<LI><A HREF="#activity_eventedit.html">Event Edit</A>
				<LI><A HREF="#help/eh_index.html">A-Z</A>
			</UL>
		</UL>
	</LI>
	</UL>

	<LI>Tasks
		<UL>
			<LI><A HREF="#tasks.html">General</A>
			<LI><A HREF="#activity_taskedit.html">Task Edit</A>
			<LI><A HREF="#flowcontrol.html">Flow Control</A></LI>
			<LI><A HREF="#app_widgets.html">Task Widgets / Shortcuts</A>
				<UL>
					<LI><A HREF="#activity_widget_configure.html">Configuration</A>
				</UL>
			<LI>Actions<BR>
			<UL>
				<LI><A HREF="#activity_actionedit.html">Action Edit</A>
				<LI><A HREF="#settings.html">Settings</A></LI>
				<LI><A HREF="#help/ah_index.html">A-Z</A></LI>
			</UL>
			
		</UL>
		</LI>
	<LI>Scenes
		<UL>
			<LI><A HREF="#scenes.html">General</A></LI>
			<LI><A HREF="#activity_sceneedit.html">Scene Edit</A></LI>
			<LI><A HREF="#activity_scenepropertiesedit.html">Scene Properties</A></LI>
			<LI>Scene Elements<BR></LI>
			<UL>
				<LI>
				<A HREF="#element_button.html">Button</A>
				<A HREF="#element_checkbox.html">CheckBox</A>
				<A HREF="#element_doodle.html">Doodle</A>
				<A HREF="#element_textedit.html">EditText</A>
				<A HREF="#element_image.html">Image</A>
				<A HREF="#element_map.html">Map</A>
				<A HREF="#element_menu.html">Menu</A>
				<A HREF="#element_picker.html">Number Picker</A>
				<A HREF="#element_shape.html">Oval</A>
				<A HREF="#element_shape.html">Rectangle</A>
				<A HREF="#element_slider.html">Slider</A>
				<A HREF="#element_spinner.html">Spinner</A>
				<A HREF="#element_text.html">Text</A>
				<A HREF="#element_toggle.html">Toggle</A>
				<A HREF="#element_video.html">Video</A>
				<A HREF="#element_web.html">Web</A>
				<LI><A HREF="#activity_elementedit.html">Element Edit</A></LI>
			</UL>
		</UL>
	<LI>Variables
		<UL>
			<LI><A HREF="#variables.html">General</A></LI>
		</UL>	
	<LI>Miscellaneous
		<UL>
			<LI><A HREF="#androidpowermanagement.html">Android System Power Management</A></LI>
			<LI><A HREF="#appcreation.html">App Creation</A></LI>
			<LI><A HREF="#cpu.html">CPU Control</A></LI>
			<LI><A HREF="#encryption.html">Encryption</A></LI>
			<LI><A HREF="#gestures.html">Gestures</A></LI>					
			<LI><A HREF="#intents.html">Intents</A></LI>					
			<LI><A HREF="#java.html">Java</A></LI>					
			<LI><A HREF="#javascript.html">JavaScript</A></LI>					
			<LI><A HREF="#icons.html">Icons</A></LI>
			<LI><A HREF="#loctears.html">Location Without Tears</A></LI>
			<LI><A HREF="#maths.html">Maths</A></LI>
			<LI><A HREF="#matching.html">Pattern Matching</A></LI>
			<LI><A HREF="#midi.html">MIDI</A></LI>
			<LI><A HREF="#power.html">Power Usage</A></LI>
			<LI><A HREF="#activity_runlog.html">Run Log</A></LI>
		</UL>
	</LI>
	<LI>FAQs
	<UL>
		<LI><A HREF="#faqs/faq-how.html">How Do I... / Can I... ?</A>
       		 <LI><A HREF="#faqs/faq-problem.html">Usage Problems</A>
       		 <LI><A HREF="#faqs/faq-why.html">Why... ?</A>
       		 <LI><A HREF="#faqs/faq-appcreation.html">App Creation</A>
       		 <LI><A HREF="#faqs/faq-other.html">Other</A>
	</UL>
	</LI>

	<LI>Web Links
	<UL>
		<LI><A HREF="http://tasker.wikidot.com">Wiki (Step-throughs, Recipes)</A>
		<LI><A HREF="http://tasker.dinglisch.net/tour.html">Tour</A>
		<LI><A HREF="http://tasker.dinglisch.net/bugs.html">Bugs / Limitations</A>
		<LI><A HREF="http://tasker.dinglisch.net/todo.html">Plans</A>
		<LI><A HREF="http://tasker.dinglisch.net/developers.html">Developers</A>
		<LI><A HREF="http://tasker.dinglisch.net/changes.html">Release Notes</A>
	</UL>
</UL>
<A NAME="activity_main.html"/>

<H2>
	Main Screen
	<IMG style="float:right;" SRC="icon_tasker.png"/>
</H2>

This is the first screen shown when you startup Tasker. It allows you
to organize and configure Tasker's four main 'building blocks':
<I>Profiles, Tasks, Scenes</I> and <I>Variables</I>.

<UL>
	<LI>Main Tabs
	<UL>
		<LI><A HREF="#profiles">Profiles</A>
		<LI><A HREF="#tasks">Tasks</A>
		<LI><A HREF="#scenes">Scenes</A>
		<LI><A HREF="#variables">Variables</A>
	</UL>
	<LI><A HREF="#action">Action Bar</A>
	<LI><A HREF="#menus">Menus</A>
	<LI><A HREF="#projects">Projects</A>
</UL>

<H3>Main Tabs</H3>

Displayed in the action bar on most devices.

<UL>
	<LI><B>Click</B> on a tab to view a list of the relevant things
	<LI><B>Click</B> on an <b>already selected</b> tab to get options for it
</UL>

<!-- __________________________ PROFILES _________________________ -->

<A NAME="profiles" />
<H4><I>Profiles</I></H4>

Each item in the list represents a profile. The profile links contexts (conditions) on
the left to tasks which should be run on the right. The profile name is green if
the profile is active. There are three main parts to each profile.
</P>

<H5><I>1. Title Bar</I></H5>

<P>
This shows the profile name (or description if it has no name) and a
switch on the right shows whether the profile is enabled or not.
</P>
<P>
<UL>
	<LI><B>Click</B> on the name to expand / collapse the profile. When expanded, the contexts and tasks (described below), are visible.
	<LI><B>Long-click</B> on the profile name to get profile options or to drag  profile(s) around
	<LI><B>Click</B> on the switch to control whether the profile is enabled or not.
</UL>

<P>Important: the switch being set to <B>on</B> does <B>not</B> mean the profile is <B>active</B>
(will run its tasks), it means that the profile <B>can</B> become active
<B>if</B> its conditions are met.
</P>

<H5><I>2. Contexts</I></H5>

<P>
On the left hand side of the profile are an icon and text for each context in the
profile. The contexts dictate when the profile should become active. When <B>all</B> contexts
are active then the profile will be active.
</P>

<UL>
	<LI><B>Click</B> on the context to edit it
	<LI><B>Long-click</B> to show management options, such as editing or adding a new context
</UL>

<P>
You can configure what clicks and long-clicks on contexts do in <CODE>Menu / Prefs / UI</CODE>.
</P>

<H5><I>3. Tasks</I></H5>
<P>
On the right hand side of the profile are one or two tasks to
carry out based on its activation status.
</P>
<UL>
	<LI><B>Click</B> on the task to edit it
	<LI><B>Long-click</B> to show management options. 
</UL>
<P>
A task indicated with a <B>green, right-pointing</B> arrow is an
<I>entry</I> task, executed when the profile first becomes active.
</P>
<P>
A task indicated with a <B>red, left-pointing</B> arrow is an
<I>exit</I> task, executed when the profile becomes inactive again.
</P>
<P>Exception: a profile containing an event context or a repeating
or non-ranged time context has two green
arrows, to denote that both tasks are executed immediately because
the profile activation and deactivation is instantaneous.
</P>

<P>Click on the <B>Profiles</B> tab when it is already selected for
general profile-related options such as sorting.
</P>

<!-- __________________________ TASKS  _________________________ -->

<A NAME="tasks" />
<H4>Tasks</H4>

The task list shows the named <A HREF="#tasks.html">tasks</A> which have been created.
<UL>
	<LI><B>Click</B> on a task to edit it
	<LI><B>Long-click</B> for options or to drag task(s) around
</UL>
<P>
Note that a profile can be assigned an <I>anonymous</I> task (one without
a name) which is not accessible in the task list, only via the
relevent profile in the profile list.
</P>

<P>Click on the <B>Tasks</B> tab when it is already selected for
general task-related options such as sorting.
</P>

<!-- __________________________ SCENES  _________________________ -->

<A NAME="scenes" />
<H4>Scenes</H4>

The scene list shows the <A HREF="#scenes.html">scenes</A> which have been created.
<UL>
	<LI><B>Click</B> on a scene to edit it
	<LI><B>Long-click</B> for options or to drag scene(s) around
</UL>

<P>Scenes with a green name have been created but may be invisible (hidden).</P>

<P>Click on the <B>Scenes</B> tab when it is already selected for
general scene-related options such as sorting.
</P>

<!-- __________________________ VARIABLES  _________________________ -->

<A NAME="variables" />
<H4>Variables</H4>

<P>By default, all global <A HREF="#variables.html">user-variables</A> that Tasker knows about are listed, which includes any that have a value set or are mentioned somewhere in a profile, task or scene.
</P>
<UL>
	<LI><B>Click</B> on a variable to edit it
	<LI><B>Long-click</B> for options
</UL>
<P>
Note that variables whose names are all lower-case are <I>local</I> variables and not shown because they are only valid within the task that refers to them.
</P>

<P>Click on the <B>Vars</B> tab when it is already selected for
general variable-related options such as sorting and filtering.
</P>

<P>
The filter controls function as follows:
</P>

<UL>
        <LI><B>Indexed</B> (button)<BR>includes variables whose names end in a number e.g. <CODE>%LOC3</CODE>, otherwise they are excluded.
        <LI><B>Empty</B> (button)<BR>includes variables which have currently have no value assigned, deselect to show only variables that have a value.
        <LI><B>Referenced</B> (button,home project only)<BR>includes variables which are referenced in profiles, tasks or scenes.<BR>Deselect to show only 'orphan' variables.
        <LI><B>Filter</B> (textbox)<BR>excludes variables which don't contain the specified text somewhere in their name (case-sensitive)
</UL>

<P>In a user-created project, only variables referenced by that project are shown.</P>

<P>
Unlike most screens in Tasker, changes made in the variable list cannot be cancelled.
</P>


<!-- -------------------------- ACTION BAR --------------------- -->
<A NAME="action" />
<H4>Action Bar</H4>

<H5><I>Apply</I> Button</H5>

<P>
Save and apply any changes which have been made <B>without</B>
exiting the UI.
</P>
<P>
This is unnecessary prior to leaving the UI via
the back button or home key, it's just for convenience
when testing changes.
</P>

<H5><I>Overflow</I> Button</H5>

Click to access <A HREF="#menus">menu options</A> if no menu hard-key is available on the device.

<!-- -------------------------- MENUS --------------------- -->
<A NAME="menus"/>
<H3>Menus</H3>

<H4>Menu Item: Browse Examples</H4>

Links to websites with projects, profiles etc offering solutions for common 
problems.  Important: once downloaded you need to import the file into
your active user data. For example, profiles are imported by long-clicking
the profile tab and selecting Import.

<H4>Menu Items: Data</H4>

<H5>Clear</H5>

Removes all data that has been created to that point. Does
not remove preferences (use <CODE>Menu / Preferences</CODE> and click <B>Defaults</B> for
that) or variables (long-click on the Variables tab for that).

<H5>Backup</H5>

Saves the existing user data to a backup file on external storage.

<H5>Restore</H5>

Options for restoring backups of various types.

<!-- -------------------------- PROJECT TABS --------------------- -->
<A NAME="projects"/>
<H3>Projects</H3>

<P>
Tasker allows organisation of profiles, tasks, scenes and variables
into groups called <I>Projects</I>, each with a separate <I>Project Tab</I>.
</P>

<UL>
	<LI><B>Click</B> on a project tab to switch to viewing only
things in that project
	<LI><B>Long-click</B>  on a project tab for options, including
adding a new tab. Options can also be accessed by a single click on the
selected project tab.
	<LI><B>Long-click and Select</B>, then drag to a project tab, any items you 
want to move to that project
</UL>

<P>The first tab has a slightly special status, it cannot be removed
and anything which is not a member of another project is placed there.
</P>

<A NAME="appcontext.html"/>

<H2>
	Application Context
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<P>
An <I>Application Context</I> is activated when selected parts of one or more application are
running.
<P>
<P>
Important: in Android versions after (and including) L, app detection is much less accurate.
For some apps it may not work at all, for others it may activate and never deactivate.
</P>

<H4>Controls</H4>

<H5><I>App</I> button</H5>

When checked, indicates that the context will become active if any of the selected applications
is in the <I>foreground</I>, meaning it is currently being displayed to the user.

<H5><I>Services</I> button</H5>

When checked, indicates that the context will also become active if a service
associated with any of the selected applications is running.
<P>
Note that services other than the obvious ones may be running. For example,
the default Play Music app may have a download service running even when not playing
music at a particular time.</P>


<H5><I>Invert</I> button</H5>

When the context is <I>inverted</I>, it will become active when any
application <B>apart from</B> the selected ones is matched

<H5><I>All</I> button</H5>

Usually only applications are shown for selection which would usually be shown
in the launcher. The All button shows certain other launchable activities.

<P>This button in no way affects how the context behaves.</P>

<H4>Application Checking</H4>

<P>
When any profiles have application contexts specified, Tasker checks frequently
to see if one of those applications has been launched. The default is every
1.5 seconds.
</P>
<P>
If you would like quicker response, or you suspect this is severely increasing
your battery usage, you can change this value in preferences
(select <CODE>Menu / Preferences / Monitor</CODE> from the main screen).
</P>
<A NAME="timecontext.html"/>

<H2>
	Time Context
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<P>
A <I>Time Context</I> specifies a particular range, or one (or more) points in time.
There are three major components, at least one of which must be selected (by enabling
its checkbox on the left):
</P>

<UL>
	<LI><B>From Time</B>: the starting time of the range. If it's not specified,
	<B>00:00</B> is assumed.
	<LI><B>To Time</B>: the end time of the range, inclusive. The context will deactivate
	after the <B>end</B> of the specified minute.<BR>If To Time is not specified then
	<B>23:59</B> is assumed i.e. the context deactivates at midnight.
	<LI><B>Repeat</B>: if no repeat is selected, the context is assumed to be
	a continuous range which starts at <I>From Time</I> and ends at <I>To Time</I>.
	If a repeat <B>is</B> specified, the first occurrence is at <I>From Time</I> and then
	every X hours or minutes until <I>End Time</I>.
</UL>

<P>
It's possible to specify a <A HREF="#variables.html">global user variable</A> as the source of the <CODE>From Time</CODE> or <CODE>To Time</CODE> by
clicking on one of the rotating-arrow icons.
</P>
<P>
The variable contents must specify the hours and minutes in <B>24-hour format</B> and
separated by a <B>period</B> (dot) or <B>colon</B> e.g. <I>13.45</I>. Leading 0s can be ommited
e.g. <I>9.7</I> for seven-minutes-past-nine-in-the-morning.
</P>
<P>Alternatively, the time can be specified in seconds-since-the-epoch format, in which case
only the hour and minute part of the specification are used.
</P>
<P>
When the variable value changes, the time context is reevaluated which may result in
it activating or deactivating. If the variable value does not specify a valid time then the profile will
deactivate (if it's already activated).
</P>
<P>Note: in some cases it may be wise to disable the profile (via the <I>Profile Status</I> action) before
changing the associated variable values. For example, if your time context is from 16.00 to 16.00 (i.e. acting
as an event) and it should be changed to 17.00,17.00, if you don't disable it first then as soon as 
you change the first value the time context will become a 23 hour range (17.00-16.00) and probably
activate.
</P>


<P>
Notes:
</P>
<UL>
	<LI>to specify a precise time, set <I>From</I> and <I>To</I> times the same. In that case, the context is treated as an instant event,
	it it only active for a fraction of a second, so no setting restoration is done.
	<LI>each repeat (if <I>Repeat</I> is set) is also treated like an instant event.
</UL>
<A NAME="daycontext.html"/>
<H2>
	Day Context
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

A <I>Day Context</I> allows specification of one or more months and/or days of the
week/month.

<H4>Month Specification</H4>

The months are listed at the top, any of which can be selected. Selecting <B>no</B>
month has the same meaning as selecting <B>every</B> month i.e. has no restriction
on when the profile will become active.

<H4>Day of Week/Month Specification</H4>

Days of the week (<I>Sunday, Monday</I> etc) and/or month (<I>1st, 9th</I> etc) can be selected
independently with the pulldown centre-right. This will initially be for Week Days if
there are any defined, otherwise Month Days.
<P>
Selecting <B>no</B> day has the same meaning as selecting <B>every</B> day.
</P>
<P>
If you select <b>both</b> days of the week <B>and</B> days of the month, it requires both
conditions to be fulfilled for the profile to become active 
e.g. selecting <I>Mon,Tue</I> and <I>11th</I> means the profile will become active when the
day is a <I>Mon</I> or <I>Tuesday</I> and <B>simultaneously</B> the <I>11th</I> day of the month.
</P>

<P>
If you are unsure if you have specified the day(s) you require, click the <B>Done</B>
button and you will see a verbal description at the top of the Profile Edit screen.
You can click on this to try again if it's not correct.
</P>

<A NAME="loccontext.html"/>

<H2>
	Location Context
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<P>
A <I>location context</I> specifies a circular geographical area in which
it is active. It is formed by a centre point (<I>latitude, longitude</I>) plus
a <I>radius</I> around that point.
</P>

<H4>Location Providers</H4>

A location provider is a method of supplying geographical coordinates. Tasker must
use one or more location providers to be able to decide when a location context
should become active or inactive.

<A NAME="gps"/>
<H5>GPS</H5>

<P>
The most accurate provider available (around +-10m), but its performance degrades quickly
indoors and it uses a relatively large amount of power. 
</P>
<P>
To set the frequency of GPS fixes, see <CODE>Menu / Preferences / Monitor</CODE>.
<I>GPS Check Time</I> determines the check frequency in seconds while the device
is awake, <I>Off Check Time</I> while the device is asleep.
</P>
<P>
GPS will only be used for a particular context if it is specified in the location
edit screen.
</P>

<A NAME="net"/>
<H5>Network</H5>

This provider uses a combination of cell-towers
and WiFi information (if wifi is enabled) to determine the device's geographical location. It is
less power-hungry than GPS, but also less accurate (sometimes +- several kilometres)
 and requires data network availability.
<P>
Network will only be used for a particular context if it is specified in the location
edit screen.
</P>

See also:

<UL>
	<LI><A HREF="#activity_locselect.html">Location Edit Screen</A>
	<LI><A HREF="#loctears.html">Location Without Tears</A> (guidance for choosing a location method)
</UL>

<A NAME="activity_locselect.html"/>
<H2>
	Location Edit
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

This screen allows configuration of a <A HREF="#loccontext.html">Location Context</A>.

<H4>Map Display</H4>

The map shows the location (base of the flag icon), radius and names of all defined location contexts

<P>
The location currently being defined has a yellow base, other location contexts have a blue base.
</P>

<H4>Map Controls</H4>

<UL>
	<LI><B>long-click</B> on the map to select a location for this context.
	<LI><B>long-click then drag</B> on the flag for the current location to drag it
</UL>

<P>
Use the pull-down selector under the map to specify the radius for this context.
</P>
<P>
<B>Important:</B> if your radius is too small compared to the accuracy of
the fixes you are receiving, your context may never go active. If you can't get
a fix, try increasing the radius. Typically, a good radius would be around twice the
accuracy of the fixes you are receiving.
</P>
<P>
If you have no internet available in order to retrieve the map tiles, you can still use
the <B>Get Fix</B> button (see below) to specify your current location.
</P>

<H4>Action Bar Options</H4>

<H5>Grab ('My Location') Button</H5>
<P>
Acquires a location fix using the enabled and available providers (make sure the GPS
Button is clicked first if you want to use GPS).
</P>
<P>
Once a fix is acquired, the latitude, longitude and radius of this location context
are set according to it. If you reduce the radius after a fix, Tasker may no longer
accurately detect whether you are in or out of the context.
</P>
<P>
When trying to determine current location, Tasker will keep going with fixes until they stop improving (e.g. as the
GPS locks on to more satellites). If you get impatient you can press the Get Fix button
again to stop the process (its label is changed to <B>Stop</B> while a fix is being
acquired).
</P>

<H5>Address Menu Item</H5>

Allows entry of an address for which this location context should be active.

<H4>Bottom Buttons</H4>

<H5>Net Button</H5>

The Net toggle button specifies whether to use the 
<A HREF="#net">Network</A> location provider
to monitor for this location 

<H5>GPS Button</H5>

The GPS toggle button specifies whether to use 
<A HREF="#gps">GPS</A>
 to monitor for this location
(assuming it is available on the device). If GPS is not used, the network will need
to be available in order to query for location fixes based on cell-towers or WiFi
data.

<A NAME="activity_stateedit.html"/>
<H2>
	State Context
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

A <I>State Context</I> allows specification of the continuing state
of a software or hardware entity.
<P>
The State Edit screen allows configuration of the state and its
parameters.
</P>

<H4>State Name</H4>

The name of the state is given at the top of the screen.
Clicking on it allows changing to another state type.
<P>
Next to the name is a button to show help for the
displayed state type and its parameters. Be sure to check the 
help text if you have trouble with a particular state.
<P>

<H4>State Parameters</H4>

<H5>General Parameters</H5>

All states have parameters to specify more details about the state.

<P>
Text parameters are treated as <A HREF="#matching.html">pattern matches</A>.
</P>

<H5>Invert Parameter</H5>

All states have an <I>invert</I> parameter, which specifies that the context should
become active when it would usually be inactive, and vice-versa.

<A NAME="eventcontext.html"/>
<H2>
	Event Context
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

An <I>Event Context</I> allows specification of an event
which is needed to activate its profile e.g. SMS received,
screen has gone off.
<P>
Events are a little different to other contexts because they
are <I>instantaneous</I> whereas other contexts usually have
a duration.
</P>
<P>
This means that it is nonsensical to specify that e.g. the
screen brightness should be set to X for the duration of the
event, so Tasker assumes that all <A HREF="#settings.html">settings</A>
actions should persist beyond the event.
</P>
<P>
For more information about specifying events, see
the <A HREF="#activity_eventedit.html">Event Edit screen</A>.
</P>

<H4>Event Parameters</H4>

When a task is triggered by an event, the parameters of the event that
ocurred are passed to the task so that it can make decisions based
on the event details.
<P>
The parameters are passed in the <A HREF="#arrays">array</A>
<I>%evtprm</I>.
</P>
<P>
The order of elements of the array have values which match the order
of the parameters of the event.
</P>

<P>Example: if an event's second parameter is an Application, %evtprm2 
in the launched task will be set to the label of the application 
which triggered the event.
</P>

<A NAME="activity_eventedit.html"/>
<H2>
	Event Edit
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

This screen allows configuration of an <A HREF="#eventcontext.html">Event Context</A>.

<H4>Event Name</H4>

The name of the event is given at the top of the screen.
Clicking on it allows changing to another event type.
<P>
In the top right is a button to show help for the
displayed event type.
<P>

<H4>Priority</H4>

Only present for relevant events.
<P>
Selects the priority at which this event will be detected.
An event can be processed by other Tasker Profiles, other
installed applications and system processes.
</P>
<P>
If priority is high, then this profile will be more likely
to detect the event before other processes, and vice versa.
</P>

<H4>Stop Event</H4>

Only present for relevant events.
<P>
If checked, then once this profile has dealt with the event,
other user or system applications will no longer be able to
see it.
<P>
You can achieve different effects by combining <I>Priority</I>
and <I>Stop Event</I>. For instance, if you want to show a Tasker menu
when the camera button is pressed, you would set <I>Priority</I> <B>High</B>
and check the <I>Stop Flag</I>, because you do not want the 
camera application to appear afterwards.

<H4>Event Parameters</H4>

<P>
Some events have paramaters to specify more details about the event.
To get help on particular parameters, click the question-mark icon
at top right.
</P>

<P>
Text parameters are treated as <A HREF="#matching.html">pattern matches</A>.
</P>

<P>
If you would like to make more complex comparions (e.g. mathematical expressions), leave the event parameter
blank and instead put a <A HREF="#condition">condition</A> on the first
action of the task you execute with the profile.
</P>

<A NAME="tasks.html"/>

<H2>
	Tasks
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

A task is simply a set of actions which are performed one after the other.

<H4>Named / Anonymous Tasks</H4>

A task can be given a name. This allows:
<UL>
	<LI>the same task to be used in more than one profile</LI>
	<LI>easier identification of what the task does</LI>
	<LI>in the case of a <A NAME="app_widgets.html">task widget/shortcut</A>, 
	it provides a label	for the icon on the home screen.</LI>
</UL>

<P>
When creating a profile, widget or shortcut, 
often the associated task will consist only of one or two actions which will not
be reused. For this case, Tasker allows you to create a task without a name
(an <I>Anonymous</I> task).
</P>

<H4>Task Visibility</H4>

Anonymous tasks are only visible when editing the profile that they are associated
with. 
<P>
Named tasks are visible on any screen that allows task editing.
Any changes made to the set of tasks in any screen is reflected in all the other
screens.

<H4>Task Icon</H4>

Each task has an associated icon, by default a question mark. The icon is used

<UL>
	<LI>to represent the task on the home screen when it is used as a
<A NAME="widgets.html">widget or shortcut</A>
	<LI>when the task is <A HREF="#appcreation.html">turned into and app</A>
	<LI>for easier identification of the task within the Tasker UI
</UL>

<H4>Deleting Tasks</H4>

Named tasks can only be deleted via the <I>Delete</I> button on the
<A HREF="#activity_taskedit.html">Task Edit</A> screen. Unnamed tasks
are deleted automatically when the profile they are part of is deleted,
or a named task is selected for that profile.

<P>
Named tasks cannot be deleted while a profile still refers to them.
</P>
<P>
When a task is deleted that is referred to by a previously created named
widget or task, the widget will stop working.
</P>
<P>
Android does not allow Tasker to automatically remove the widget from the
Home Screen.
</P>

<A NAME="scheduling"></A>
<H4>Task Scheduling</H4>

When there is a single task waiting to be executed, it's actions are executed one-by-one
until finished.

<P>
When there are several tasks in the queue at once, it's important to understand
how they are handled:
</P>
<UL>
	<LI>only <B>one action</B> from the same <A HREF="#actiongroups">action group</A> can be executed at once to
	prevent interference
	<LI>the task in the queue with the <B>highest priority</B> goes first and blocks lower priority tasks
	<LI>tasks with the <B>same priority</B> take turns executing an action
	each, starting with the most recent addition to the queue <B>unless</B> one task is a child of the 
other (started via <A HREF="#help/ah_run_task.html">Perform Task</A>), in which case the child executes first.
</UL>

<P>
Task priority, 0 to 50 inclusive with 0 being lowest, is determined according to whatever causes the task to run.

<UL>
<LI>enter tasks run by profiles have the priority specified in Profile Properties, the default is 5.
<LI>exit tasks run by profiles have the priority specified in Profile Properties <B>plus 1001</B>, the default is therefore 1016
<LI>tasks run by <B>widgets</B> or <B>shortcuts</B> can be set in Task Properties when the widget/shortcut is created, the default is 7
<LI>tasks run from scene elements have priority <B>one more</B> than the task which showed the scene
<LI>tasks run from the <B>Test</B> button in the task edit screen have priority 100 by default, long-click the play buttin to choose a different one.
</UL>
 
</P>
A couple of guidelines are:
<UL>
<LI>if you want a particular task to always interrupt other tasks that may be
executing, give it a high priority
<LI>if you have a task that lasts for a while,
you probably want to give it a low priority so it doesn't block other tasks
from being executed.
</UL>

<A NAME="actiongroups"></A>
<H4>Action Groups</H4>

Actions are divided into groups for scheduling based on how long the action takes to execute and what it
interferes with:

<UL>
	<LI><B>Speech</B>: <CODE>Say, Say To File</CODE>
	<LI><B>Javascript</B>: <CODE>Javascript</CODE>
	<LI><B>Fix</B>: <CODE>Get Location</CODE>
	<LI><B>Voice</B>: <CODE>Get Voice</CODE>
	<LI><B>Proxy</B>: <CODE>Display Brightness, Query Action, Photo, Photo Series, Photo Series Time</CODE>
	<LI><B>Proxy Scene</B> Enter Key, Menu, Popup, Popup Task Buttons, Variable Query
	<LI><B>Other Scenes</B>: the name of the scene being shown
	<LI><B>Normal</B>: all other actions
</UL>

<H4>Wait Actions</H4>
<P>
<CODE>Wait</CODE> and <CODE>Wait Until</CODE> are special cases. The rules for handling them are complicated
and try to do the 'best thing' dependent on the situation.
</P>

<H4>Same-Profile Tasks</H4>

Tasks launched by the same profile by default always execute in the order in which they are launched. Other tasks from the same profile remain completely inactive until any previous task from the same profile is complete. The main purpose of this rule is to correctly handle rapid changes in a profile's activation state.
<P>
This behaviour can be disabled by deselecting <I>Enforce Task Order</I> in the Profile Properties dialog.
</P>

<H5>Example</H5>

This example demonstrates the effect of Enforce Task Order and shows also how sub-tasks launched by
<A HREF="#help/ah_run_task.html">Perform Task</A> are handled.
<PRE>
Profile: Example
Enter Task: Enter1
   Perform Task, Enter2
Exit Task: Exit1
   Perform Task, Exit2
</PRE>

<B>With</B> Enforce Task Order:

<P>
Enter1 and Enter2 are both guaranteed to finish before either of Exit1 or Exit2. Whether Enter1 or
Enter2 finishes first depends on their relative priority. Same for Exit1 and Exit2.
All 4 tasks compete based on priority against tasks from other profiles. Exit tasks have a higher base
priority so will finish before Enter tasks.
</P>

<B>Without</B> Enforce Task Order:

<P>
If the profile goes active and inactive quickly, Enter1, Enter2, Exit1 and Exit2 will all compete
purely on priority. Since Exit tasks have higher base priority, Exit1 and Exit2 will probably finish first.
</P>

<A NAME="collisions"></A>
<H4>Collisions</H4>

Sometimes a task needs to be executed of which a copy is already executing.
This can happen quite often e.g. when a task widget button is pressed twice quickly,
or a task contains a Wait action or shows a dialog.
<P>
The way in which a collision is resolved is specified by the user. There are
3 options:
</P>

<UL>
	<LI>the <B>new</B> task is ignored (the default)
	<LI>the <B>existing</B> task is aborted and the new one starts from its first action.
	The current action of the previous task is finished if it is already being carried out.
	<LI>both tasks run simultaneously
</UL>

<P>
Note that the last option can lead to several copies of a task all running at once.
</P>

<A NAME="stayawake"></A>
<H4>Behaviour When Device Off</H4>

By default, after a few seconds of the screen being off Android will power down the device and thus running
tasks will be paused.
<P>
In the Task Properties dialog, it can be specified that a task should keep running.
</P>

<H5>Dialogs</H5>

An action that shows some kind of dialog (such as a lock screen, popup, menu) 
blocks execution of any other action, even one of higher priority, until it is completed.

<H5>Wait / Wait Until</H5>

These are exceptions. A wait action can be interrupted by another task's action and
will resume (if necessary) when the other task's action is finished.

<H4>Killing Tasks</H4>

If you have a problem with a task that never ends, you can manually end tasks
with the <B>Kill</B> button in the Task Edit screen.

<A NAME="activity_taskedit.html"/>
<H2>
	Task Edit
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<P>
This dialog allows editing of the actions in a task, and various properties
of the task.
</P>

<H4>Action List</H4>

The main part of the screen is a list of the actions contained in the currently
selected task.

<UL>
	<LI><B>Click</B> on an action to edit it
	<LI><B>Long-click</B> on an action to enter multi-select mode and for options
	<LI><B>Click-and-drag</B> at the right hand side of the action to move it around e.g. to the trash bin
</UL>

<P>If a particular action is a <A HREF="#settings.html">setting</A>, that will be indicated on
the right-hand side of the action.
</P>

<H5>Condition and Block Colours</H5>

<P>If an action has had a condition set for it, the condition is shown with
a red or green bar next to it; <B>green</B> indicates that the condition is currently met (the action will execute), <B>red</B> indicates the opposite. Of course, when the task is executed it could be that it changes things so that the condition is then met.
</P>

<P>If an action is within an <CODE>If / End If</CODE> block it is displayed
indented with a red or green margin. The colours have the same significance
as for individual action conditions described above.
</P>

<P>
If an action is within a <A HREF="#for">For loop</A> it
is displayed indented with a <B>grey</B> margin. If the <CODE>For</CODE> 
action has a condition on it which is not met, the margin will be <B>red</B>
(because the actions in the loop will never execute, like an <CODE>If / End If</CODE> block).
</P>

<H4>Task Control Row</H4>

Directly underneath the action list is a row of buttons with icons.

<H5>Play/Step Buttons</H5>

<P>Run the task.</P>

<P>
The Play button will run the task right through till the end, the Step
button will run a single task each time it's pressed.
</P>

<P>
During tasting, the current action is shown with an arrow and
the next task with a faded arrow.
<P>
The success of each action is shown when it finishes with a 
green (action OK) or red (action failed) circle.
</P>

<P>
Tasks run via the Play or Step button have priority <B>10</B>.
</P>
<P>Long-click the Play or Test button to manually set the priority 
of the task when it runs
<b>during the test</b>.  Please be aware that
setting a lower priority can result in interference from other tasks running
which are e.g. triggered by profiles.
</P>

<P>
Tip: pressing the Step button while a task is playing will cause
the task to switch to stepping mode when the current action finishes.
</P>

<H5>Add Action Button</H5>

Add an action to the end of the task. When in multi-select mode, adds an action
after the current selected item, if only one item is selected.

<H5>Task Properties</H5>

Show extended properties for the task.

<H5>Task Icon</H5>

Shows the icon associated with the task. Clicking on it allows changing of the icon.

<H4>Menu Items</H4>

<H5>Action Labels</H5>

Toggle display of action labels (which are specified in the <A HREF="#activity_actionedit.html">Action Edit</a> screen).

<H5>Param Names</H5>

Toggle display of the name of each action parameter.

<H5>Icons</H5>

Toggle display of the setting/action indicator icon for each action.

<A NAME="activity_actionedit.html"/>
<H2>
	Action Edit
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

This screen allows configuration of a single action in a Task.

<H4>General</H4>

At top left is the name of the action. Tapping on this allows it
to be changed.
<P>
Bottom-right is a help button. Please be sure to read the action help
of every action before you use it for the first time, there may be e.g. device specific restrictions you should know about.
</P>

<H4>Action Parameters</H4>

A <I>parameter</I> gives extra detail about how the action is to be carried out.

<H5>Text Parameters</H5>

<UL>
	<LI>are sometimes optional: in that case the text <I>Optional</I>
will appear as a hint unless the entry box has already been filled in
	<LI>sometimes have a dialog to help you fill in a value
	which you can access by clicking the magnifying glass icon next to them
	<LI>can have <A HREF="#variables.html">variables</A> automatically inserted by clicking the tag
	icon next to them.
</UL>

<H5>Numeric Slider Parameters</H5>

Clicking the arrows icon next to numeric sliders allows you to specify the
number textually or use a <A HREF="#variables.html">variable</A> for the parameter instead, if the value
will not be known until the action is actually executed.

<H5><I>If</I> (Condition) Parameter</H5>

<I>(most actions)</I>

<P>
Allows specification of one or more conditions which must match if this action is to execute.
</P>

<P>Single conditions consist of a <I>left-hand side</I>  (usually a variable name), an <I>operator</I> and a <I>right-hand-side</I> for example
<CODE>%number, Equals, 1</CODE> indicates that the action will be executed
if the variable %number has the value 1.
<P>

<P>
When more than one condition is specified, they must be combined via <I>And</I> (all conditions
must be true), <I>Or</I> (at least one condition must be true) or <I>Xor</I> (exactly one must be true). These 'combiners' are called <I>boolean operators</I>.
</P>

<P>Usually, 2 or 3 conditions will be combined with all <I>And</I>s or all <I>Or</I>s, but in order to allow more complicated logic, Tasker also offers <I>And</I> and <I>Or</I> in high-precedence versions.
Of the 4 boolean operators which are available, the selection goes from low to high precedence ones.
</P>
<P>
The higher the precedence of a boolean operator, the further to the right it is shown. This enables the
logical groups to be visualised.
</P>

<P>
Examples:
</P>

<P>
<CODE>True | False & True | False</CODE> is the same as <CODE>( True | False ) & ( True | False )</CODE>
so is <B>True</B>.
</P>
<P>
<CODE>True & False | True & False</CODE> is the same as <CODE>True & ( False |  True ) & False</CODE>
so is <B>False</B>.
</P>

<P>
<CODE>True & False | True |+ False</CODE> is the same as <CODE>True & ( False | ( True | False ) )</CODE>
so is <B>True</B>.
</P>

<P>Note that the order of the conditions can mean that some conditions are never evaluated. For instance, when two conditions
are present and the one above an <I>And</I> is <B>false</B> then the condition below it will never be evaluated.
This can be advantageous if the second condition takes relatively more resources e.g. involves matching against 
a lot of text.
</P>

<P>Please see the section on <A HREF="#flowcontrol.html">Flow Control</A> for more information.
</P>

<H5><I>Continue Task After Error</I> Parameter</H5>

<I>(selected actions only)</I>
<P>
By default, if an action fails with an error (e.g. the user specified to delete a file that doesn't exist)
Tasker will stop the task immediately and the remaining actions will never be executed.
</P>
<P>
This parameter specifies that the task should continue even if this action fails.
</P>
<P>
In addition, if it's checked, errors will be logged in the system log as diagnostics instead of errors
and error popups will be surpressed.
</P>

<H5><I>Label</I> Parameter</H5>

<I>(all actions)</I>

<P>
A label for the action which is shown on the Task Edit screen. This parameter
could also be used to add comments to actions to help understand 
how the task works.
</P>
<P>
Labels are also used with <CODE>Goto</CODE> actions to jump from one part of
the task to another.
<P>

<H4>Menu Options</H4>

<H5><I>Search</I></H5>

<P>
Search for and jump to a specified action. The entered term is searched against action
properties in the following order:
</P>

<OL>
	<LI>the action number
	<LI>the action label if present
	<LI>the action name
	<LI>the action description, including the action parameter contents
</OL>

<P>
The matching is case-insensitive. Searching starts from the current action and
wraps around. Only the header action (<LI>If</LI> or <I>For</I>) of closed
blocks is searched.
</P>


<A NAME="scenes.html"/>
<H2>
	Scenes
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H3>Introduction</H3>

<P>
A <I>scene</I> is a graphical user-interface consisting of a collection of <I>elements</I> to which tasks can be attached to be run when the user interacts with them e.g. by tapping them.
</P>

<P>
Tasker uses scenes for things like popup dialogs, menus and getting input from the
user but scenes can actually be displayed by the user whenever desired, meaning
they can be used for things like creating simple user-designed applications or showing extra controls over the top of (selected) existing applications.
</P>

<P>
Scenes are completely user-customisable via a drag-and-drop graphical <A HREF="#activity_sceneedit.html">editor</A>.
</P>

<H3>Displaying Scenes</H3>

<H4>Actions: <CODE>Enter Key, HTML Popup, Lock, Menu, Popup, Popup Task Buttons</CODE> and 
<CODE>Variable Query</CODE></H4>

These actions use a <B>built-in scene</B> with the same name as their action.
After creating a task with such an action, the associated scene can be found
under the <B>Scenes</B> tab on the main Tasker screen. That scene can be edited so that
e.g. all <CODE>Popup</CODE> actions have the same style because they all use the same scene.
</P>

<P>The parameters specified in the action are applied to the scene before it
is show. For instance, if the scene has a <I>Title</I> element it will be
set to the title specified in the action and the scene resized appropriately.
</P>

<P>
It might be desirable to have a different style for e.g. some <CODE>Popup</CODE> actions, in which case:
</P>

<OL>
<LI>clone the built-in scene long-clicking on it in the <B>Scenes</B> tab 
<LI>edit the clone to change the contents
<LI>in a <CODE>Popup</CODE> action, specify that the cloned scene should be used
by clicking on the <B>Layout</B> parameter in the action edit screen.
</OL>
</P>

<H4>Scene Category Actions: <CODE>Create Scene, Show Scene, Hide Scene, Destroy Scene</CODE></H4>

These allow a completely free hand over when a scene should be displayed and it's
life-cycle. They all act on scenes pre-designed in the <B>Scenes</B> tab.

<P>
Usually, only <CODE>Show Scene</CODE> and <CODE>Destroy Scene</CODE> will be
used, however sometimes it's useful for a scene to be created but not visible to
the user:
</P>

<UL>
<LI>by hiding a scene instead of completely destroying it, the settings of the elements
are retained for next time it is shown
<LI>the values of the elements in the scene can be changed to track certain
events so that the scene can be immediately displayed when required without any
configuration
</UL>

<H3>Scene Elements</H3>

Each scene is comprised of a number of elements.

<P>
An element has three main components:

<H4>Geometry</H4>

It's size and position on the screen. An element's geometry is specified in 
the <A HREF="#activity_sceneedit.html">scene editor</A>.

<H4>Content</H4>

How it looks on the screen. 

<P>
Specified under the <B>UI</B> tab in the element editor. Some
elements also have a Background tab. A Menu element has an additional Items tab.
<P>

<H4>Event Tasks</H4>

What should happen when the user interacts with the element.

<P>
Specified under the right-most tabs after clicking on the element in the element editor.
There are different events depending on the type of element. For instance, a Button has
tap and long-tap events while a Slider has a value-set event.
</P>

<P>Event tasks are run at priority one higher than the task which displayed the scene
</P>
<P>Local variables set by event tasks are visible to all tasks in the same scene.</P>

<H3>Scene Element Actions</H3>

In the <B>Scenes</B> action category, there are several actions for setting
the properties of scene elements. You can use these for a wide variety 
of purposes e.g.

<UL>
<LI>when a slider value is set, change the zoom of an associated map element
<LI>set the size of an element depending on current light level
<LI>animate elements around a scene
</UL>

<P>
Note that actions that affect scene elements can only be used when the scene has
already been created (via <CODE>Create Scene</CODE> or <CODE>Show Scene</CODE>).
The scene does not have to be visible.
</P>

<A NAME="activity_sceneedit.html"/>
<H2>
	Scene Edit
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<P>
The scene editor is used for designing custom scenes.
</P>

The editor consists of three areas:

<H3>Display Area</H3>

The main part of the editor, where the position and size of elements are arranged.
The display area has two modes dependent on the setting of the magnifying glass icon in the corner.

<H4>Preview Mode</H4>

This mode shows the scene as it will appear when displayed.

<UL>
	<LI>Click-and-drag</B> on the <B>edge</B> of the scene to resize it
</UL>

<H4>Editing Mode</H4>

This mode is zoomed to make editing easier.

<UL>
	<LI><B>Long-click</B> on an <B>empty</B> area to create a new element positioned there
	<LI><B>Long-click</B> on an <B>element</B> to get options for the element
	<LI><B>Click</B> on an <B>element</B> to edit it.
	<LI><B>Click-and-drag</B> on the <B>centre</B> of an element to move it
	<LI><B>Click-and-drag</B> on the <B>edge</B> of an element to resize it
</UL>

<P>
When moving and resizing, the sides of elements are snapped to a grid to make alignment
easier. The grid size is unique to each scene and can be changed via <B>Menu / Grid Size</B>.
</P>

<H3>Tool Bar</H3>

<H4>Touch Mode</H4>

There are four touch modes which decide the effect of taps on the
display area. 

<I>Normal Mode</I> is described above. <I>Edit Mode</I> is the same as
<I>Normal Mode</I> except that all controls except the
Touch Mode selector are hidden to allow access to small controls along the scene edges. 
<I>Move Mode</I> is intended to make it easier to reposition elements. <I>Resize</I> mode
is for making resizing easier. 
<P>

<H4>Element Picker</H4>

<P>
Allows selection of an element by name. This is most useful when an element is
difficult to directly click on due to other elements or because it's very small.
</P>
<P>
Both short and long clicks on the element names behave the same as short and long
clicks on the element itself.
</P>

<H4>Undo</H4>

Allows undo of all operations, up to 20 steps in the past.

<H4>New Element</H4>

Create a new element in the <B>middle</B> of the scene. Useful if the scene is already
cluttered with a lot of elements so there is no free space.

<H3>Menu Options</H3>

<H4>Background Colour</H4>

A complex background can be set by long-tapping an element and specifying it as 
the <A HREF="#back">background element</A>. If a uniform colour is sufficient, it can also
be specified with this menu option.

<P>
However, there is a special case where it's a good idea to specify a background colour even
if you already have a background element. A scene is resized to fit the container
 into which it's placed, but in some cases (e.g. when it is shown as a full screen activity) there will be margins left on one
side of the container because the <I>aspect ration</I> of the scene
(the relative size of its width and height) of a scene is never changed. In such a
case, the margins are coloured with the background colour specified here.
</P>

<H3>Element Long-Click Options</H3>

<A NAME="back" />
<H4>Set Background</H4>

An element which is set as the scene background is resized to always fill the whole scene
and interferes less with selection of other elements. To reverse this, long-tap on it and
select <B>Set Foreground</B>.

<H4>Pin</H4>

When an element is positioned satisfactorily, it can be pinned to make it easier to
select and manipulate other elements. To reverse this, long-tap on it and select
<B>Unpin</B>.

<H4>Set Depth</H4>

Each element has a particular depth which is unique to it. Deeper elements are obscured
by shallower elements which overlap them.

<H3>Orientation</H3>

<P>
The geometry (<B>position</B> and <B>size</B>) of each element can be configured independently for
portrait and landscape display orientations by rotating the device to the desired
orientation in the editor.
</P>

<P>
If no geometry is configured for a particular orientation when the scene is displayed, Tasker will attempt to
fit the elements into the scene based on the geometry of the elements in the other orientation.
</P>

<A NAME="element_button.html"/>

<H2>
	Scene Element: Button
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A standard Android button enhanced to allow display of an icon, text or
both.

<H4>Parameter: Position</H4>

If both a <I>Label</I> and <I>Icon</I> are specified, the <I>Position</I> parameter refers to 
the position of the <I>Label</I>. The <I>Icon</I> is then placed opposite the <I>Label</I>.
</P>

<H4>Events</H4>

<UL>
<LI><A HREF="#tap">Tap, Long Tap</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_image.html">Element Image<A>
<LI><A HREF="#help/ah_scene_element_text.html">Element Text</A>
<LI><A HREF="#help/ah_scene_element_text_colour.html">Element Text Colour</A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_checkbox.html"/>

<H2>
	Scene Element: CheckBox
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A standard Android checkbox to indicate e.g. an item selection state.

<H4>Events</H4>

<UL>
<LI><A HREF="#checkchange">Change</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_value.html">Element Value</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_doodle.html"/>

<H2>
	Scene Element: Doodle
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A <I>Doodle</I> is an image created by the user with a simple finger-painting
screen.

<P>
Click the <I>Doodle</I> parameter to edit the doodle.
</P>

<P>
Doodles are stored on external storage in the directory <CODE>/sdcard/Tasker/cache/doodles</CODE>
in case they are masterpieces which demand publishing.
</P>

<H4>Events</H4>

<UL>
<LI><A HREF="#tap">Tap, Long Tap</A>, 
<LI><A HREF="#stroke">Stroke</A> 
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_image.html"/>

<H2>
	Scene Element: Image
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>Events</H4>

<UL>
<LI><A HREF="#tap">Tap, Long Tap</A>
<LI><A HREF="#stroke">Stroke</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_image.html">Element Image<A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_shape.html"/>

<H2>
	Scene Element: Oval / Rectangle
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

Shape elements are intended mostly for decoration but can also be used
as invisible 'launchpads' for e.g. stroke events.

<H4>Events</H4>

<UL>
<LI><A HREF="#tap">Tap, Long Tap</A>
<LI><A HREF="#stroke">Stroke</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_map.html"/>

<H2>
	Scene Element: Map
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A <I>Map</I> element is a view onto the same kind of map window used by Google Maps
but is much more automateable than the standalone app.

<P>
Map elements cannot appear in Overlay scenes.
</P>

<P>
When shown with the display type <I>Dialog, Dim Behind</I> or <I>Dialog, Dim Behind Heavy</I>
the map will also be dimmed starting with Tasker 4.5, an unfortunate side-effect of the
dimming method.
</P>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_add_geomarker.html">Element Add GeoMarker</A> 
<LI><A HREF="#help/ah_scene_element_delete_geomarker.html">Element Delete Geomarker</A>
<LI><A HREF="#help/ah_scene_element_map_control.html">Element Map Control</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>Events</H4>

<UL>
<LI> <A HREF="#tap">Tap, Long Tap</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_menu.html"/>

<H2>
	Scene Element: Menu
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A menu displays a variable selection of items and can have a separate action, text and
icon defined for each item in the list.

<H4>Parameter: Source</H4>

Items can either be filled manually or from a variable array. In the case of an array,
the list shows all the items starting at the first index; %var(1) %var(2) etc.

<P>
In the case of manual specification, click on the <I>Items</I> tab in the element editor
to specify the items.
</P>

<H4>Parameter: Selection Mode</H4>

There are three selection modes:
<UL>
<LI>single: tapping an item deselects any other item selected
<LI>multi: several items can be selected at the same time
<LI>none: tapping an item never selects it
</UL>

<P>
Selected items are highlighted. There are two ways to find out the selected
items:

<UL>
<LI>assign a task under the <B>Item Tap</B> element event tab. Every time an item is
tapped, the selected items are available in the local variable <B>%select_indices</B>
<LI>query the selected items at any time using the action <CODE>Element Get Value</CODE>
</UL>

<H4>Parameter: Item Layout</H4>

Specifies how each item within the list will be displayed. Each item has exactly the same layout. To change the layout, click on it. Each Menu element has it's own unique item layout.

<P>
There are two pre-defined layouts you can choose from (click the magnifying glass icon). 'Icon and Text' is the default.
</P>

<H4>Events</H4>

<UL>
<LI><A HREF="#tap">Item Tap, Item Long Tap</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_menu.html">Menu</A><BR>
allows easy display of a dialog with a title and showing a single menu
element.
<BR>
When using the Menu action, items are configured in the action itself
rather than in the Menu element.
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>

</UL>

<A NAME="element_picker.html"/>

<H2>
	Scene Element: Number Picker
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

Allows selection of a numeric value from a specified range. Above
and below the selected number the element can be long-clicked to
advance the number series, or the number can be scrolled or flung up or
down by touch.

<H4>Events</H4>

<UL>
<LI><A HREF="#value">Value Selected</A>
</UL>

<P>
Note that the Value Selected event will only fire when scrolling
has <B>finished</B> i.e. when the user has lifted their finger
and the Number Picker has come to rest.
</P>
<P>
In contrast, long-clicking will produce an event for each
number that is cycled through.
</P>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_value.html">Element Value</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.
The <A HREF="#element_slider.html">Slider Element</A> screen.

<A NAME="element_slider.html"/>

<H2>
	Scene Element: Slider
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A standard Android 'seek bar' enhanced to allow specification of the
thumb icon and display indicators for the min, max and current values.

<H4>Events</H4>

<UL>
<LI><A HREF="#value">Value Selected</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_value.html">Element Value</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_image.html">Element Image</A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>
<UL>

	<LI><A HREF="#activity_elementedit.html">Element Editor</A> screen.
	<LI><A HREF="#element_picker.html">Number Picker Element</A> screen.
</UL>

<A NAME="element_spinner.html"/>

<H2>
	Scene Element: Spinner
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A spinner allows selection of a single item from a menu. Only the currently
selected item is displayed. When tapped, the menu is shown, when an item is
selected, the menu is hidden again.

<H4>Parameter: Source</H4>

Items can either be filled manually or from a variable array. In the case of an array,
the list shows all the items starting at the first index; %var(1) %var(2) etc.

<P>
In the case of manual specification, click on the <I>Items</I> tab in the element editor
to specify the items. The default (initially showing item) is selectable via the checkboxes
on the left.
</P>

<P>
Note that by default, a spinner is text only. To show also icons, long-click the
icon element in the Item Layout (see below) and select <I>Show</I>.
</P>

<H4>Parameter: Item Layout</H4>

Specifies how each item within the list will be displayed. 
Each item has exactly the same layout. To change the layout, click on it. Each Spinner element has it's own unique item layout.

<H4>Parameter: Popup Background Colour</H4>

Specifies the background colour of the window which displays the possible
spinner values when the spinner is clicked.

<H4>Events</H4>

<UL>
<LI><A HREF="#itemselect">Item Select</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_value.html">Element Value</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>

</UL>

<A NAME="element_text.html"/>

<H2>
	Scene Element: Text
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

Displays non-editable text for labels etc.

<H4>Parameter: Position</H4>

Where to place the text within its box

<H4>Parameter: Text Width Scale</H4>

A horizontal scaling factor to squash up
(negative values) or stretch (positive values) the text.

<H4>Parameter: Font</H4>

Specifies a custom font file to use for the text instead of the system
default. Many thousands of free font files (with the filename ending in 
<CODE>.ttf</CODE> are available for download on the Internet.

<H4>Parameter: Vertical Fit Mode</H4>

What to do when the height of the text to display is greater than
the height of the element.

<H4>Parameter: Text Format</H4>

Specifies how the text should be displayed.

<UL>
	<LI><I>Plain Text</I><BR>just show the text as-is
	<LI><I>Text With Links</I><BR>things that look like links are clickable (though not in the scene editor) e.g. URLs, email addresses, phone numbers
	<LI><I>HTML</I><BR>interpret the text as a piece of HTML. Only simple tags are interpreted and no images are displayable.
</UL>

<H4>Events</H4>

<UL>
<LI><A HREF="#tap">Tap, Long Tap</A>
<LI><A HREF="#stroke">Stroke</A>             
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_text.html">Element Text<A>
<LI><A HREF="#help/ah_scene_element_text_colour.html">Element Text Colour</A>
<LI><A HREF="#help/ah_scene_element_border.html">Element Border</A>
<LI><A HREF="#help/ah_scene_element_background_colour.html">Element Back Colour</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_textedit.html"/>

<H2>
	Scene Element: TextEdit
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A standard Android box for text entry.
<P>
TextEdit elements cannot appear in Overlay scenes.
</P>

<H4>Parameter: Text</H4>

<P>
This is the <B>initial</B> text to show in the element, with any variables replaced. 
</P>

<P>
Note that if <I>Text</I> contains a variable, any changes in the variable
value once the element have been shown will <B>not</B> be reflected in the
visible contents of the text box. The reason for this limitation is that
the user can change the text box contents by typing at any time so it is 
not possible to track where the variable contents should be, or even if
they are still there at all.
</P>


<H4>Parameter: Position</H4>

Where to place the text within its box

<H4>Parameter: Text Width Scale</H4>

Horizontal scaling factor to squash up (negative values) or stretch (positive values) the text.

<H4>Events</H4>

<UL>
<A HREF="#text">Text Changed</A>
<A HREF="#focus">Focus</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_text.html">Element Text<A>
<LI><A HREF="#help/ah_scene_element_text_colour.html">Element Text Colour</A>
<LI><A HREF="#help/ah_scene_element_border.html">Element Border</A>
<LI><A HREF="#help/ah_scene_element_background_colour.html">Element Back Colour</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4> 

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_toggle.html"/>

<H2>
	Scene Element: Toggle
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A button with two states with an indicator light and a label for each state.

<H4>Events</H4>

<UL>
<LI><A HREF="#checkchange">Change</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_value.html">Element Value</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="element_web.html"/>

<H2>
	Scene Element: Web
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>About</H4>

A <I>Web</I> element is like a browser window.

<H4>Parameters: Mode / Source</H4>

These parameters determine how the content for the WebView is to be acquired.

<UL>
	<LI><I>URI</I>: the <I>Source</I> parameter refers to a URI
(e.g. http://) from which the WebView should retrieve content.
	<LI><I>File</I>: the <I>Source</I> parameter contains a local
file path from which the WebView should retrieve content.
	<LI><I>Direct</I>: the <I>Source</I> parameter directly specifies
the HTML and/or JavaScript content to load
</UL>

<H4>Parameter: Allow Phone Access</H4>

<P>
If checked, the content in the WebView is allowed access to local device files,
data stores, and can run JavaScript, including Tasker's <A HREF="#javascript.html">JavaScript Interface functions</A>.
</P>
<P>
This is a very powerful feature, since it allows a WebView to
present a complex and highly functional interface, but
should only be enabled if you entirely trust the source of
the specified content.
</P>

<P>Note that references to local files must be absolute (include the directory)
even when the WebView source is specified as a file e.g. <CODE>/sdcard/myfiles/scripts.js</CODE></P>

<H4>Parameter: Self Handle Links</H4>

<P>If checked, links will be handled by the WebView itself, otherwise they
will be passed to the system for handling e.g. by the default web browser.
</P>

<H4>Parameter: Support Popups</H4>

<P>
If this parameter is <B>not</B> checked, HTML elements which generate a popup window, for instance
selection elements in forms, will crash the scene when they are activated.
</P>

<P>
If this parameter <B>is</B> checked, when the scene is hidden and reshown, some of its state
will be lost e.g. which part of the page was being displayed, zoom level.
</P>

<H4>Events</H4>

<UL>
<A HREF="#linktap">Link Tap</A>,
<A HREF="#pageloaded">Page Loaded</A>
</UL>

<H4>Related Actions</H4>

<UL>
<LI><A HREF="#help/ah_scene_element_web_control.html">Element Web Control</A>
<LI><A HREF="#help/ah_scene_element_focus.html">Element Focus<A>
<LI><A HREF="#help/ah_scene_element_position.html">Element Position</A>
<LI><A HREF="#help/ah_scene_element_size.html">Element Size</A>
<LI><A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>
<LI><A HREF="#help/ah_scene_element_depth.html">Element Depth</A>
<LI><A HREF="#help/ah_scene_element_test.html">Test Element</A>
</UL>

<H4>See Also</H4>

The <A HREF="#activity_elementedit.html">Element Editor</A> screen.

<A NAME="activity_elementedit.html"/>
<H2>
	Scene Element Edit
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<P>
Allows configuration of the properties of a scene element. The different
types of property are divided into tabs.
</P>

<UL>
<LI><A HREF="#ui">UI</A> 
<LI><A HREF="#items">Items</A> 
<LI><A HREF="#background">Background</A> 
<LI><A HREF="#event">Event</A> 
<UL>
<LI><A HREF="#checkchange">Change</A> 
<LI><A HREF="#focus">Focus</A> 
<LI><A HREF="#tap">Tap, Long Tap</A> 
<LI><A HREF="#itemselect">Item Select</A> 
<LI><A HREF="#value">Value Selected</A> 
<LI><A HREF="#itemtap">Item Tap</A> 
<LI><A HREF="#stroke">Stroke</A> 
<LI><A HREF="#text">Text Changed</A> 
<LI><A HREF="#linktap">Link Tap</A> 
<LI><A HREF="#pageloaded">Page Loaded</A> 
<LI><A HREF="#video">Video</A> 
</UL>
</UL>

<P>
Not all elements have all tabs.
</P>

<A NAME="ui" />
<H3>UI</H3>

For the most part, configures the visual style of the element.

<A NAME="items" />
<H3>Items</H3>

<P>
Only relevant to Menu and Spinner elements.
</P>
<P>
Each row configures an item in the menu/spinner. Starting from the left, the controls
are:

<UL>
	<LI><B>selection checkbox</B><BR> this is only present when <I>Selection Mode</I> is set to <B>Single</B> or <B>Multi</B>. It stipulates whether the item will be shown as selected when the menu is displayed.
	<LI><B>icon button</B><BR> the icon to show for the item. If you don't want to show an icon, hide the icon element in the Layout parameter in the UI tab
	<LI><B>label text</B><BR> the label to show for the item. If you don't want to show a label, hide the label element in the Layout parameter in the UI tab
	<LI><B>action button</B><BR> an action to run when the item is tapped
</UL>

<P>
To add an item, click the plus button at the bottom of the screen.
Items can be rearranged and deleted by click-and-dragging at the right hand side.

</P>

<A NAME="background" />
<H3>Background</H3>

Configures a rectangle shape to be used as the background for the element
when it is displayed. The background will be stretched to fit the size of
the element.
<P>
If you want to use an image for a background, create a separate Image element and
place it underneath.

<A NAME="event" />
<H3>Event Tabs</H3>

<P>
Event tabs stipulate what Tasker should do when the user interacts with the
element in some way. When the scene is showing, the event will also occur
if an action (probably Element Value) sets the element.
</P>


<P>
Most events consist only of a task to specify but some
allow a filter specification so that the task only runs if the event matches
the filter.
</P>

<P>
To help the task to decide what to do with the event and to allow a single
task to handle many different events if desired, Tasker sets certain 
local variables which give specific information about it. The variables
are easily accessible by clicking the usual variable tag icon in any action
in the task.
</P>

<P>The following variables are available in all such tasks:</P>
<UL>
	<LI><B>%scene_name</B><BR> the name of the scene containing the element
	<LI><B>%element_name</B><BR> the name of the element that the user interacted with (e.g. Button1)
	<LI><B>%element_type</B><BR> the type of element (e.g. Button)
	<LI><B>%event_type</B><BR> the name of the event (e.g. Tap)
</UL>

<A NAME="text" />
<H4>Text Changed</H4>

Elements: <I>TextEdit</I>

<P>
This event is triggered whenever the text changes e.g. because a
letter key has been pressed while the element had focus.
</P>

<UL>
	<LI><B>%new_val</B><BR> the new text
	<LI><B>%old_val</B><BR> the old text
</UL>

<P>Text entry is buffered so that it may be up to 1 or 2 seconds before
new input is seen, and that input may include several accumulated
changes.
</P>


<A NAME="checkchange" />
<H4>Change</H4>

Elements: <I>CheckBox, Toggle</I>

<UL>
	<LI><B>%new_val</B><BR> the new state of the element (<i>on</i> or <i>off</i>)
	<LI><B>%old_val</B><BR> the last state (<i>on</i> or <i>off</i>)
</UL>

<A NAME="focus" />
<H4>Focus</H4>

<P>This event is triggered when the element gains or loses focus, probably
because the user has tapped it or another focusable element.
</P>

Elements: <I>TextEdit</I>

<UL>
	<LI><B>%focused</B><BR> whether the element now has focus (<i>true</i>) or not (<i>false</i>)
</UL>

<A NAME="tap" />
<H4>Tap, Long Tap</H4>

Elements: <I>Button, Doodle, Image, Map, Oval, Rectangle, Text</I>

<P>
In a <I>Map</I> element, the following variables are available:
</P>

<UL>
	<LI><B>%coord</B><BR> the latitute,longitude of the tapped location on the map
	<LI><B>%label</B><BR> the label of the tapped GeoMarker (if any). You can add GeoMarkers to a Map element with the action Scene / Element Add GeoMarker
</UL>

<A NAME="value" />
<H4>Value Selected</H4>

Elements: <I>Number Picker, Slider</I>

<UL>
	<LI><B>%new_val</B><BR> the new value of the element (e.g. 50)
	<LI><B>%old_val</B><BR> the last selected value (e.g. 43)
</UL>

<A NAME="itemtap" />
<H4>Item Tap, Item Long Tap</H4>

Elements: <I>Menu</I>

<UL>
	<LI><B>%select_indices</B><BR> a comma-separated list of currently selected items in the list (e.g. 3,4)
	<LI><B>%select_labels</B><BR> a comma-separated list of the labels of currently selected items in the list (e.g. Blue,Yellow)
	<LI><B>%tap_index</B><BR> the index of the item that was tapped to cause this event (e.g. 3)
	<LI><B>%tap_label</B><BR> the label of the item that was tapped to cause this event (e.g. Blue)
</UL>

<A NAME="stroke" />
<H4>Stroke</H4>

Elements: <I>Doodle, Image, Oval, Rectangle, Text</i>

<P>
A stroke has two filter parameters.
</P>

<UL>
	<LI><B>Direction</B><br>the direction from the start point of the stroke to the end point
	<LI><B>Length</B><BR>minimum distance in (approximate) pixels from the start point of the stroke to the end point 
</UL>

<P>
If either of these parameters don't match the event, the task will not run.
</P>

<UL>
	<LI><B>%stroke_dir</B><BR>Direction, as described above
	<LI><B>%stroke_len</B><BR>Length, as described above
</UL>

<A NAME="itemselect" />
<H4>Item Select</H4>

Elements: <I>Spinner</I>

<P>
Occurs when a <B>new</B> item is selected.
</P>

<UL>
	<LI><B>%tap_index</B><BR> the index of the item that was selected
	<LI><B>%tap_label</B><BR> the label of the item that was selected
</UL>

<A NAME="linktap" />
<H4>Link Tap</H4>

Elements: <I>WebView</I>

<P>
A Link Tap has two filter parameters:
</P>

<UL>
	<LI><B>URL</B><BR> the URL of the tapped link. If entered, the tapped URL must <A HREF="#matching.html">match</A> the entry (e.g. http://*.fruit.com) for the task to run
	<LI><B>Stop Event</B> <BR>whether to stop the WebView following the link
</UL>

<UL>
	<LI><B>%url</B><BR> URL as described above
</UL>

<A NAME="pageloaded" />
<H4>Page Loaded</H4>

Elements: <I>WebView</I>

<UL>
	<LI><B>%url</B><BR> the URL of the page (e.g. http://i.hate.fruit/except/mangos.html)
</UL>

<A NAME="video" />
<H4>Video</H4>

<P>
Elements: <I>Video</I>
</P>

<P>
Occurs when the state of the video playback changes.
</P>

<UL>
	<LI><B>%event_subtype</B><BR> the type of the video event, possible values being: <I>Prepared, BufferStart, BufferEnd, RenderStart, Lagging, Finished</I>
</UL>

<P>
Note that the <B>Finished</B> event will never occur if the Video element
has the <CODE>Loop</CODE> parameter checked.
</P>
<A NAME="androidpowermanagement.html"/>

<H2>
	Android System Power Management
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<P>
Starting with Android 5.0, many devices will act aggressively to try and
save system battery power. Unless certain steps are taken, Tasker may
not function as expected, either because Android is not sending it the
needed signals in order to save power or because Android is even killing
Tasker.
</P>

<P>A commonly noticed symptom is that profiles with Time contexts don't activate
or deactivate at the expected time.</P>

<H3>Tasker Run In Foreground Preference</H3>

Make sure that <CODE>Menu / Prefs / Monitor / General / Run In Foreground</CODE> is <B>checked</B>.

<H3>Tasker Reliable Alarms Preference (Android 5.0+)</H3>

In <CODE>Menu / Prefs / Monitor / General / Use Reliable Alarms</CODE>, make sure <B>When Off</B> or <B>Always</B> is selected.

<P>
If <B>Never</B> is selected, Android may group alarms together so they
go off too late. On some devices, Android may even kill Tasker at
times if <B>Never</B> is selected.
</P>

<H3>Android Battery Optimization Setting</H3>

If you have reliability problems, Tasker might need to be whitelisted
so that it is not <I>battery-optimized</I> by Android.

<H6>Vanilla Android Devices (Android 6.0+)</H6>

The location of the setting may vary per device, but a common method is to
launch the <I>Android Settings</I> app, select <B>Apps</B>, click the cog icon top-right,
then <B>Battery optimization</B>. Click <B>All apps</B>, then Tasker, then <B>Don't optimize</B>.

<P>
On a rooted device, it may be possible to change the battery optimiation
parameters depending on the functionality you need from Tasker. An example
app for this purpose is <A HREF="https://play.google.com/store/apps/details?id=com.franco.doze">Naptime</A>.
</P>

<H6>Samsung (Android 5.1.1+)</H6>

Some Samsung devices have a <I>Smart Manager</I> app. Launch the app,
press the battery quarter of the screen, under <B>App optimisation</B> press
<B>DETAIL</B> where you can adjust the settings for each app. It's advisable
to disable this for Tasker if you are having reliablity problems.

<H6>MIUI 7</H6>

Launch Settings app, select Additional settings -> Battery & performance -> Manage apps battery usage -> OFF

<A NAME="appcreation.html"/>

<H2>
	App Creation
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<UL>
	<LI><A HREF="#intro">Introduction</A>
	<LI><A HREF="#example">Hello World Example</A>
	<LI><A HREF="#config">App Configuration</A>
	<LI><A HREF="#sign">Signing</A>
	<LI><A HREF="#target">Target Device Requirements</A>
	<LI><A HREF="#misc">Miscellaneous</A>
	<LI><A HREF="http://tasker.dinglisch.net/faq-appcreation.html">FAQ (External Link)</A>
</UL>

<A NAME="intro" />
<H3>Introduction</H3>

<P>
Tasker allows creation of completely standalone apps (APK files) which have no
requirement for Tasker to be installed on the device they're used on.
</P>
<P>
The intention is to allow people to create their own apps for fun, for sale 
or just to share with friends.  Or if you are concerned about all 
the permissions Tasker needs you
can create an app that has only the permissions you require!
</P>

<P>
App creation is uncomplicated and takes only a few seconds once you're setup.
</P>

<P>
To create apps, you need the following on <B>your</B> device (not necessarily
on the device(s) the app will run on):
</P>

<UL>
	<LI>Android 2.3+
	<LI><I>Tasker App Factory</I> (free, see below)
	<LI>a device with an <I>ARM</I> or <I>x86</I> processor (the vast majority of devices have one of those)
</UL>

<P>App creation is accessed by long-clicking on a project (<B>not</B> the base project) or task
and selecting <B>Export</B> then <B>As App</B>. Any 
linked resources needed (e.g. other tasks, images) are included
as part of the new app.
</P>
<P>
To export anything except a single task, you need to create a project and put anything you
wish to export in the project.
</P>

<A NAME="example" />
<H3>Hello World Example</H3>

Let's make a simple app that just pops up <B>Hello World!</B> when it's launched.

<H4>1. Create A Task</H4>

<UL>
	<LI><B>make a new task</B><BR>
	click on the Tasks tab then click <B>+</B> to add a new task.
	Give it a name <I>Hello World</I>.

	<LI><B>give the task an icon</B><br>
	 click the icon in the bottom middle and pick any icon

	<LI><B>add the Popup action</B><BR>
	click <B>+</B> in the bottom left to add an action, select category <B>Alert</B> and then action <B>Popup</B>. Fill in <B>Hello World!</B> in the <I>Text</I> parameter, then click the back button top left to accept the action, then again to accept the task.

	<LI><B>ask Tasker to create an app</B><BR>
	long-click on the task you just made, select <B>Export</B> in the top right menu then <B>As App</B>. A popup appears mentioning a Missing App.
</UL>

<H4>2. Install Tasker App Factory</H4>

<P>
To generate apps, Tasker needs a free helper app called <I>Tasker App Factory</I>.
It's available on Play Store and from the Tasker website.
</P>

<P>
Click the accept button on the popup to install the helper app.
</P>

<H4>3. App Generation</H4>

<P>
After you've given the package a name and clicking the back button top left to accept the action, Tasker should now start generating your app, which will take maybe 12 seconds
depending on your device.
</P>

<P>
If all goes well, Tasker will try to auto install the app!
</P>

<P>
Once Android is done installing, you can click it's <B>Open</B> button to
run the app, or you can simply go to the home screen and click on the app's
icon in the launcher.
</P>

<P>
You should see a Hello World popup!
</P>

<A NAME="config" />
<H3>App Configuration</H3>

<P>Before an app is generated you will be presented
with a configuration screen which lets you specify various options
for the new app.
</P>


<A NAME="sign" />
<H3>App Signing</H3>

<P>
Android requires that all apps be <I>signed</I> i.e. that they certify who
created them. By default, Tasker uses an automatically-generated 
insecure certificate to sign apps and doesn't bother mentioning it. 
</P>

<P>
However, if you want to release an app via a public site
(Play Store for example), you will need to sign it with a 
proper (secure) certificate.
That's done so the site knows that it's you that's giving
them the app each time you submit a new version.
</P>

<P>Certificates are kept in a <I>keystore</I> which is protected
with a password. To generate a keystore with a secure certificate,
use <CODE>Menu / More / Developer Options / Create Certificate</CODE>.
</P>

<P>
Once you've generated the keystore, Tasker will often need to
ask you for the certificate password before app generation so that
it can be used to sign each new version of your app.
</P>

<P>
If Android's backup service is enabled in Android settings, Tasker
makes a backup of the keystore there.
</P>

<P>Tasker also makes an automatic backup of the keystore to
<PRE>
	/sdcard/Tasker/factory/keystore.user
</PRE>

<P>
when it is first created and when you backup your profile data
with <CODE>Menu / Data / Backup</CODE>. It's highly advisable
to make a copy of that file and keep it safe away from your device.
</P>

<A NAME="target" />
<H3>Target Device Requirements</H3>

The device the child app is used on must meet the following requirements:

<UL>
	<LI>the minimum SDK version specified in the Kid Config screen
	<LI>have hardware corresponding to features specified in the Kid Config screen
</UL>

<A NAME="misc" />
<H3>Miscellaneous</H3>

<H4>Accessibility Service</H4>

<P>
Android accessibility support changed in Android 4.1 (JellyBean). If support is 
needed for accessibility services in 4.1+, the <B>Minimum Android Version</B> in
the child Configuration screen must be set to <B>16</B> or higher. If support is required
pre-4.1, it must be set to <B>less than</B> 16.
</P>
<P>In other words, to support both pre- and post-4.1 devices, two APKs must be
generated.</P>

<P>
This applies to all features that rely on an Accessibility Service (events <I>Notification, New Window, Button Widget Clicked, Notification Click</I>, variables <I>%NTITLE, %WIN</I>, <I>App Context</I> from min version 20+)
</P>
<P>
Google Play Store allows publication of APKs targetting different Android versions
under the same package name, however this has not been tested by the developer
of Tasker.
</P>

<H4>Launch Task</H4>

<P>
When the specified launch task runs in the child app, the following local variables will be available
to it:
</P>
<UL>
	<LI><I>%launch_data</I>: the data (URI) in the intent that caused the child app to launch (often empty)
</UL>

<H4>Monitor Service</H4>

<P>
Most child apps include a service which constantly monitors for events. If you know that you don't need
to monitor events anymore (in-between app launches) you can use the <I>Disable</I> action in the Tasker category to
stop it.
</P>

<P>
It will be automatically started again next time the app is launched.
</P>

<H4>Widgets / Shortcuts</H4>

<UL>
	<LI>it's not possible in Android to auto-create widgets with any app
	<LI>it's not possible *currently* to offer the user child-app widgets,
	that may be available in the future to some extent
</UL>

<H4>Memory Problems</H4>

If you are having low memory problems during app generation, you can ask
the App Factory to use external storage for the generation process.
See <CODE>Menu / Prefs / More / Factory</CODE>.

<H4>Preferences</H4>

<P>
The new app does not take over any preferences from Tasker, all of the preferences in the child app are in their
default state, with a couples of exceptions.
</P>

<P>
Despite the misleading name, you can use the <I>Set Tasker Pref</I> action in the <I>Tasker</I> category
<B>in the child app</B> to change some of the <B>child's</B> preferences
 when it is running.
</P>

<H4>Available Tasker Features</H4>

Obviously, the device the new app runs on may not have the same set of
available e.g. actions as the device the app is created on.

<P>
The <I>Test</I> action in the <I>Misc</I> category allows you to check
which Tasker features are available at <I>run time</I> (when the app
is being used).
</P>

<H4>Images</H4>

Referenced images (even scene doodles and photos from internal storage)
are bundled in with the app.
<P>
Tip: to include a dynamic image (e.g. which you download to a file path
via HTTP Get), put the image reference in a variable, and put the variable
in the relevant action.
</P>

<H4>Plugins</H4>

<P>
When the new app is launched, it checks that all referenced plugins
are installed on the device and prompts the user to install missing ones.
</P>
<P>
Some plugins may not work on other devices if they themselves store something about the
action to be performed, since that data will not be available on the
other device.
</P>

<P>
Plugin authors: see also <A HREF="http://tasker.dinglisch.net/plugins.html#gen">here</A>.
</P>

<H4>JavaScript actions</H4>

Scripts referenced by a <I>JavaScript</I> action are packaged with the new app
and run directly from there.

<H4>SL4A Scripts</H4>

Scripts referenced in a <I>Run Script</I> action are packaged with the new
app and unpacked to <CODE>/sdcard/sl4a/scripts</CODE>, prefixed with the
package name, on first run. Tasker automatically inserts the WRITE_EXTERNAL_STORAGE
permission for that purpose.

<P>
If SL4A is missing on the target device, the new app will prompt the user 
to download when launched.
</P>
<P>
If a new version of the app is reinstalled on the target device, the new versions
of the scripts will be written if the <B>length</B> has changed.
</P>

<H4>Other External Components</H4>

The following external components are also checked for on launch of the new app where
necessary:

<UL>
	<LI>Speech engines (<I>Say, Say After</I>)
	<LI>APNDroid (<I>Mobile Data APN</I>)
	<LI>Zoom (<I>Zoom</I> action category actions)
	<LI>apps for <I>3rd Party</I> actions
	<LI>apps for <I>3rd Party</I> events
</UL>

<H4>Maps</H4>

<P>
The data for Maps is provided by Google and they require a <I>maps key</I> (v2) for
each developer that uses it. If you are using Map scene elements in your app, you need a key
from Google that can be included with your app. 
</P>

<P>Here are the steps to acquire a key:
<OL>
<LI>[if necessary] setup a <A HREF="http://www.google.com/accounts/">Google Account</A>
<LI>[if necessary] create a <A HREF="http://developer.android.com/distribute/index.html">developer account</A>
<LI>[if necessary] create a <A HREF="#sign">signing keystore</A>
<LI>get the SHA1 fingerprint of your certificate: <CODE>Menu / More / Developer Options / Certificate Checksum</CODE>
<LI>Create an <A HREF="https://developers.google.com/maps/documentation/android/start#create_an_api_project_in_the_google_apis_console">Google API Project</A>
<LI>Obtain the <A HREF="https://developers.google.com/maps/documentation/android/start#obtain_a_google_maps_api_key">Maps key</A>
</OL>

<P>
Enter the key in the App Configuration screen when generating your app. Note that the
box will only be presented if your app uses one or more Map scene elements.
</P>

<P>
Note that the device on which the created app is used needs Google's Play Services APK installed, otherwise
the map elements will not function.
</P>

<H4>Variables</H4>

The new app is completely independent of Tasker, so it also does
not share any variable values.

<H4>Permissions</H4>

Tasker attempts to reduce the set of permissions required by the new app to
the smallest set required for the functionality it contains. For example,
no <I>Vibrate</I> permission will be requested if there is no vibrate action
used.
<P>
The WAKE_LOCK permission is unfortunately always required for technical reasons.
</P>

<H4>App Size</H4>

Generated apps are minimally around 640K but are unlikely to be
significantly larger unless a lot of images are referenced.
It's possible that this minimum can be reduced in the future.

<H4>Encryption</H4>

<P>
Code for encryption is included in any app created by App Factory, however
if you don't use encryption features it's unlikely to be a problem
in terms of export restrictions. However, that is an opinion, it is <B>not legal advice</B>.
</P>
<P>
Note that code libraries for encryption are included with every Android device. Tasker
(and child apps) use these libraries to perform the encryption, they do not contain
encryption code themselves.
</P>

<H4>Licence</H5>

<P>
You are free to distribute and sell apps created by Tasker in any
way you wish. No licence fees to the developer of Tasker are necessary.
It would be courteous to reference Tasker and it's website 
(http://tasker.dinglisch.net) somewhere in your new app if possible.
</P>

<P>
Please note that use of images from some Ipacks in commercial software
is prohibited by the licence terms of the image creators. You will need
to contact the image designer to request their assent in such cases.
(the origin of an Ipack's images is displayed in the Ipack image selection
screen).
</P>

<A NAME="app_widgets.html"/>

<H2>
	Task / Shortcut Widgets
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

The standard way of running a Tasker task is by attaching it to a profile
which performs it when the profile becomes active. However, tasks can
be directly assigned to icons on the home screen called <I>Widgets</I> or
<I>Shortcuts</I>.

<H4>Standard Widgets / Shortcuts</H4>

These consist of an icon (the Task icon) with a label (the Task name)
underneath, and look identical to the normal application icons
in the home screen.
<P>
Clicking on the icon runs the associated Task.
</P>

<H4>Task Timer Widgets</H4>

This type consists of an icon and label, like the standard widgets,
but also has a countdown timer display which counts down Days, Hours, 
Minutes and Seconds.
<P>
When the timer expires (reaches 0) the associated Task is run.
</P>
<P>
Tapping on the <B>icon</B> of the widget shows a configuration
screen where the timer can be configured.
</P>
<P>
Tapping on the <B>timer section</B> of the widget will pause,
restart or reset the timer, depending on its current state.
</P>
<P>
Note that the timer updates more rarely when it is still a long
way from expiry in order to minimize  power usage.
</P>
<P>
See Also:
<UL>
	<LI>action <A HREF="#help/ah_timer_widget_control.html">Timer Widget Control</A>
	<LI>action <A HREF="#help/ah_timer_widget_set.html">Timer Widget Set</A>
	<LI>action <A HREF="#help/ah_test_tasker.html">Test Tasker</A>
	<LI>event <A HREF="#help/eh_timer_change.html">Timer Change</A>
</UL>

<H4>Creating a Widget / Shortcut</H4>

<OL>
	<LI>Click and hold in an empty space on the Android home screen, until
	a dialog appears.
	<LI>Select <B>Widgets</B> or <B>Shortcuts</B>
	<LI>Select <B>Task</B> or <B>Task Timer</B> (Widgets only)
	<LI>Pick an existing task or create a new one. When creating a new one, if
	you do not expect to change the function of the widget/shortcut select
	One-Time to avoid it cluttering your list of tasks.
	<LI>Use the <A HREF="#activity_widget_configure.html">Configuration Screen</A>
	to configure what should happen when the icon is clicked (or the timer
	expires, in the case of a Task Timer widget). Take care to
	select an appropriate name and icon for the task, as these will appear on
	the home screen.
</OL>

<H4>Changing a Widget / Shortcut</H4>

<P>
The function of widgets or shortcuts created from one-time tasks cannot be changed, it must be deleted and recreated.
</P>

<P>
On the other hand, if you associate a normal named task with a widget or shortcut then when the task is changed (via the Task Edit
screen) the function of the widget or shortcut also changes.
</P>

<P>
There are also some actions which will change the appearance of any widget:
</P>

<UL>
	<LI><I>Tasker/Change Icon Set</I>: changes the icon of a set of widgets to a different
	style.
	<LI><I>Tasker/Set Widget Icon</I>: changes the icon of a particular widget
	<LI><I>Tasker/Set Widget Label</I>: changes the label of a particular widget
</UL>

The latter two you could use to visually show the status of something e.g. WiFi.

<H4>Deleting a Widget / Shortcut</H4>

<P>
Click and hold on the icon in the Android home screen until the dustbin
icon appears. Drag the widget or shortcut icon to the dustbin icon and release.
</P>

<A NAME="diff"/A>
<H4>Differences Between Widgets and Shortcuts</H4>

<H5>Advantages of Shortcuts</H5>

<UL>
        <LI>they can be created in some places that widgets can't e.g. in home screen folders
        <LI>their layout probably better matches the default launcher layout
        <LI>long shortcut labels will scroll when selected in the default launcher
</UL>

<H5>Advantages of Widgets</H5>

<UL>
        <LI>their icon and label can be dynamically changed after creation
        via the <I>Set Widget Icon</I> and <I>Set Widget Label</I> actions.
        <LI>timer widgets are possible
        <LI>they can be created without a label
</UL>

So a shortcut should be used unless the extra configuration possibilities of a widget are necessary.

<H4>General</H4>	

<UL>
	<LI>you can create as many Tasker widgets and shortcuts as you like. You can even have several Timer widgets running at the same time.
	<LI>Timer Task widgets continue to update even when the screen is off.
</UL>

<A NAME="cpu.html"/>

<H2>
	CPU Control
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<HR>
<P>
<B>Note:</B> CPU control can damage your hardware e.g. by the CPU overheating. As for all Tasker
functions, you use it at your own risk!
</P>
<HR>

<H3>General</H3>

<P>
On a rooted device (only) Tasker is able to control the CPU frequency of an Android device to some extent. This
is usually done either to save battery or make the device more responsive depending on the circumstances.
</P>
<P>
The relevant control action is <B>CPU</B> in the <B>Misc</B> category.
You can monitor the current state with the variables <B>%CPUFREQ</B> and <B>%CPUGOV</B>.</P>
</P>
<P>There are two aspects which can be controlled, the Frequency Range and the
CPU Governor. You will need to experiment with combinations of these to achieve the best results.</P>

<H3>Frequency Range</H3>

<P>
You can set the minimum and maximum frequency which the CPU is allowed to run at. Only certain frequencies
are valid, depending on the CPU (click on the magnifying glass button to select a valid value).
</P>
<P>
The maximum frequency is probably initially set lower than the maximum frequency that the CPU can actually handle. If that is the case, you should be very cautious about setting it higher. Tasker will warn
you the first time you try to do configure an action to do that, assuming
you have not been using other apps to change the maximum frequency limit.
</P>

<H3>CPU Governor</H3>

<P>
The active <I>governor</I> decides what the CPU frequency should be set to at a particular time, within the frequency
range you have set. Each has it's own unique strategy. Here are the most common governors:

<UL>
	<LI><I>Performance</I><BR/>keeps the CPU frequency always at the maximum. Most power-hungry, most responsive.<P/>
	
	<LI><I>Powersave</I><BR/>keeps the CPU frequency always at the minimum. Least power-hungry, least responsive.<P/>
	<LI><I>Ondemand</I><BR/>when the CPU is needed, immediately sets it to maximum frequency. Slowly reduces the
	frequency back down to the minimum as time passes. Responsive, reasonable power usage.<P/>
	<LI><I>Interactive</I><BR/>like Ondemand, but more responsive with slightly more battery usage.<P/>
	<LI><I>Conservative</I><BR/>when the CPU load is needed, slowly increases the frequency to maximum. When the CPU is
no longer needed, immediately drops back to the minimum. Less power-usage than Ondemand or Interactive, less responsive.
</UL>

<P>
Not all governors are available on all ROM versions. Your device may also have a governor not described here. You can still set that governor with Tasker.
</P>

<H3>CPU Action Not Available</H3>

Common problems are:

<UL>
	<LI><I>root not recognized</I><BR>Tasker decides that a device is rooted if <CODE>/system/app/Superuser.apk</CODE> is present and <CODE>su</CODE> is present in one of the directories of $PATH
	<LI><I>no available frequencies</I><BR>Tasker needs to know what frequencies it can set the CPU to. It looks for the files <CODE>/sys/devices/system/cpu/cpuX/cpufreq/scaling_available_frequencies, /sys/devices/system/cpu/cpuX/cpufreq/stats/time_in_state</CODE> and <CODE>/system/etc/scaling_available_frequencies</CODE> (in that order). If you know what your CPU frequencies are, you could write them (space-separated, in numerical order) to the first (any number of CPUs) or last (1 CPU only) of those files.
</UL>

<A NAME="activity_widget_configure.html"/>
<H2>
	Widget / Shortcut Configuration
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

This screen allows selection and configuration of a task which will be performed when an 
icon is clicked on the Android home screen or a timer elapses.

<P>
Please read about <A HREF="#app_widgets.html">Task Widgets / Shortcuts</A>
before venturing further on this screen.
</P>
<P>
The layout of the Configuration screen is nearly identical to that of the
<A HREF="#activity_taskedit.html">Task Edit</A> screen.
</P>
<P>
When creating a Task Timer widget, you'll find a different button in
the bottom right which allows initialization of the timer. You can use this,
or wait till the widget is created and then click on the icon to configure the timer.
</UL>

<A NAME="flowcontrol.html"/>

<H2>
	Flow Control
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>Overview</H4>

Task flow control is based on the following Tasker elements:

<UL>
	<LI><A HREF="#variables.html">variable</A> values
	<LI><A HREF="#condition">conditions</A> on individual actions
	<LI><I>If / Else / Endif</I> actions for conditional grouping of following actions
	<LI><I>For / End For</I> to do a set of actions once for each of a set of elements
	<LI><I>Goto</I> action (jumping around within a task).
	<LI><I>Perform Task</I> action (calling other tasks as subroutines)
	<LI><I>Stop</I> action (terminate task immediately)

</UL>

<P>
On the Wiki there is a detailed example of <A HREF="http://tasker.wikidot.com/fileproc">
processing a file's content</A> [External Link].
</P>
<P>
Tip: if you accidentally create a task that never ends when experimenting
with loops, use the <B>Kill</B> button in the Task Edit screen to end it
manually.
</P>

<A NAME="condition"/>

<H5>Conditions</H5>

Every action can have a condition associated with
it (specify this in the Action Edit screen). If the condition does not match,
the action will be skipped.
<P>
A condition consists of an <I>operator</I> ('equals' etc) and two <I>parameters</I>.
The possible operators are:
<UL>
	<LI><I>Equals</I> (eq)<BR>
	The left parameter is identical to the right parameter.

	<LI><I>Doesn't Equal</I> (neq)<BR>
	The left parameter is not identical to the right parameter.

	<LI><I>Matches</I> (~)<BR>
	The right parameter is a pattern which the left parameter is <A HREF="#matching.html">matched against</A>.

	<LI><I>Not Matches</I> (!~)<BR>
	As above, but the match must fail for the action to be executed.

	<LI><I>Matches Regex</I> (~R)<BR>
	The right parameter is a regular expression which the left parameter is <A HREF="#regex">matched against</A>.

	<LI><I>Doesn't Match Regex</I> (!~R)<BR>
	As above, but the match must fail for the action to be executed.

	<LI><I>Maths: Less Than</I> (&lt;)<BR>
	Both parameters (after variables are substitued) must be numbers or mathematical expressions and the first must be <B>less</B> than the second
	e.g. <code>3</code> < <code>6</code>. See <A HREF="#maths.html">Maths</A> for more info.

	<LI><I>Maths: Greater Than</I> (&gt;)<BR>
	As above, but the first parameter must evaluate to <B>more</B> than the second.

	<LI><I>Maths: Equals</I> (=)<BR>
	As above, but the two parameters must be numerically equal.
	
	<LI><I>Maths: Isn't Equal To</I> (!=)<BR>
	As above, but the two parameters must be <B>not</B> numerically equal.

	<LI><I>Maths: Is Even</I> (Even)<BR>
	The left parameter is an even number.

	<LI><I>Maths: Is Odd</I> (Odd)<BR>
	The left parameter is an odd number.

	<LI><I>Is/Isn't Set</I> (Set/!Set)<BR> 
	Whether the specified variable has a value or not.
</UL>

<P>
Expressions which are not mathematically valid  e.g. <I>I Am The Walrus > 5</I> give a warning and evaluate to <B>false</B>
when used with a mathematical operator.
</P>

<A NAME="for"/>
<H4>Foreach Loop</H4>

<P>
Goal: perform a set of actions for each of <I>apple</I>, <I>pear</I> and <I>banana</I>.
</P>

<TABLE>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>1.</TD> <TD><B>For</B><BR>%item<BR>apple,pear,banana</TD>
		<TD>Loop once for each of apple, pear and banana</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>2.</TD> <TD>&nbsp;&nbsp;<B>Action One</B><BR></TD>
		<TD>Example: Flash %item</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>3.</TD> <TD>&nbsp;&nbsp;<B>Action Two</B><BR></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>4.</TD> <TD><B>End For</B><BR>
		</TD>
		<TD>Return to action 1 if we havn't done all the items yet</TD>
	</TR>
</TABLE>	

<P>
Result: Action One and Action Two are performed three times. The first time, the variable %item is set to <I>apple</I>, the second time <I>pear</I> and the last time <I>banana</I>.
</P>
<P>
You can insert a <CODE>Goto</CODE> action in the loop with either <I>Top of Loop</I> (meaning continue, skip to the next item straight away) or <I>End of Loop</I> (meaning break, stop without doing any more items) specified.
</P>
<P>In adition to simple text, the <CODE>For</CODE> action accepts any comma-separated combination of these Items:</P>
<UL>
	<LI>a numeric range e.g. 1:5 (= <B>1,2,3,4,5</B>)
	<LI>a numeric range with a jump e.g. 8:2:-2 (= <B>8,6,4,2</B>)
	<LI>a numeric range defined by variable values e.g. <I>2:%end:%skip</I>, <I>1:%arr(#)</I>  
	<LI>a variable name (which is replaced) e.g. %fruit (= <B>banana</B> maybe)
	<LI>a <A HREF="#arrays">variable array</A> part e.g. <I>%arr(1:2)</I> (= %arr1, %arr2 = <B>apple,banana</B> maybe)
</UL>

<P>
A common case is to use %arr(), which performs a loop for each element in the array %arr.
</P>

<P>
<B>Warning</B>: the <I>Values</I> parameter in the loop is reevaluated with each iteration of the loop, meaning
that modifying array variables which appear there from within the loop can have unexpected effects. To workaround that,
it can be best to use the following sequence:
<PRE><CODE>   Variables Set, %values, %arrayWhichWillChange()
   Variable Split, %values
   For, %value, %values()
      ...
</CODE>
</PRE>

</P>

<H4>For Loop</H4>

<P>
Goal: perform a set of actions for each of a set of elements in turn.
</P>

Use the <I>Foreach Loop</I> as described above, with the <I>Items</I> parameter being a range specification e.g. 4:0, 100, 0:8:2 (= <B>4,3,2,1,0,100,0,2,4,6,8</B>).

<H4>Until Loop</H4>

<P>
Goal: perform a Task X until some condition is met (at least once)
</P>

<TABLE>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>1.</TD> <TD><B>Action One</B><BR></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>2.</TD> <TD><B>Action Two</B><BR></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>3.</TD> <TD><B>Goto</B><BR>1
		<BR><I>If %qtime <B>&lt;</B> 20</TD>
		<TD>Return to action 1 if runtime < 20</TD>
	</TR>
</TABLE>	

<P>
Result: Action One and Action Two are performed until %QTIME contains the value 20 or more
i.e. until the task has been running for 20 seconds.
</P>

<P>
Note: %QTIME is a builtin local variable available in all tasks.
</P>

<H4>While Loop</H4>

<P>
Goal: perform a Task X while some condition is met.
</P>

<TABLE>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>1.</TD> <TD><B>Stop</B><BR>
		<BR><I>If %fruit <B>Not Matches</B> Apple</TD>
		<TD>Stop task if it's not crunchy, otherwise
		go to next action</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>2.</TD> <TD><B>Action One</B><BR></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>3.</TD> <TD><B>Action Two</B><BR></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>4.</TD> <TD><B>Goto</B><BR>1</TD>
		<TD>Go back and see if we're still crunchy</TD>
	</TR>
</TABLE>	
<P>
Result: Action One and Action Two are performed while %fruit contains the value Apple.
</P>

<H4>Counter Loop</H4>

<P>
Goal: perform a Task X a set number of times.
</P>
<TABLE>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>1.</TD> 
		<TD><B>Variable Set</B><BR>%count, 0</TD>
		<TD>Initialize the counter</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>2.</TD> <TD><B>Action One</B><BR>Label: <I>LoopStart</I></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>3.</TD> <TD><B>Action Two</B><BR></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>4.</TD> <TD><B>Variable Add</B><BR>%count, 1</TD>
		<TD>Add one to %count</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>5.</TD> <TD><B>Goto</B><BR><I>LoopStart</I>
		<BR><I>If %count <B>&lt;</B> 10</TD>
		<TD>Return to action 2 if count < 10</TD>
	</TR>
</TABLE>	

<P>
Result: after initialization of %count to 0, the task loops around the actions 
from 2-5 until
%count reaches 10, at which point the condition on the <CODE>Goto</CODE> fails
and the end of the task is reached.
</P>
<P>
Note that we used a <CODE>Goto</CODE> to a <B>labelled</B> action this time. In
all but the very simplest tasks it's better to use a label rather than a number. It's easier to work out what's happening and if you insert or delete actions before the loop starts, the <CODE>Goto</CODE> will still jump to the right place.
</P>
<P>An alternative way to do this loop is to use a For action specified as <I>0:10</I>.
</P>

<H4>If / Then / Else Condition</H4>

<P>
Goal: perform certain Tasks if conditions are met, otherwise perform a
different task.
</P>

<TABLE>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>1.</TD> 
		<TD><B>If</B><BR>
		<I>%fruit <B>~</B> Apple</TD>
		<TD><B>~</B> is short for 'matches'</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>2.</TD> <TD>&nbsp;&nbsp;<B>Action One</B></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>3.</TD> <TD>&nbsp;&nbsp;<B>Action Two</B><BR></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>4.</TD> 
		<TD><B>Else If</B><BR>
		<I>%fruit <B>~</B> Pear</TD>
		<TD>an <CODE>Else</CODE> action with a condition</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>5.</TD> <TD>&nbsp;&nbsp;<B>Action Three</B></TD>
		<TD>...</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>6.</TD> 
		<TD><B>Else</B><BR></TD>
		<TD></TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>7.</TD> <TD>&nbsp;&nbsp;<B>Action Four</B><BR></TD>
		<TD>...</TD>
	</TR>
</TABLE>

<P>
Result:  actions One and Two are executed if %fruit matches Apple, Action Three is executed if %fruit matches Pear, otherwise Action Four is executed.
</P>

<P>
Notes:
</P>

<UL>
	<LI>you can have as many <CODE>Else If</CODE>s in a condition as you like
	<LI>if your condition is in the middle of a more complicated task, you need to tell Tasker where the condition ends with an <CODE>End If</CODE> action
</UL>

<H4>Subroutines</H4>

To call another task, use the <CODE>Perform Task</CODE> action. To use it as
a subroutine, you just need to ensure that the priority of the calling
task is less than the priority of the called task (more info:
<A HREF="#scheduling">scheduling</A>).
<P>The parent can optionally pass values to the child and receive a result back:</P>

<P><I>Parent Task</I></P>

<TABLE>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>1.</TD> <TD>&nbsp;&nbsp;<B>Perform Task</B>
		<BR>
		Child,
		<BR>
		Priority, 10
		<BR>
		%par1,  5,
		<BR>
		Result Value Variable, %result
		</TD>
		<TD>pass 5 to the child, expect a result in %result</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>2.</TD> <TD>&nbsp;&nbsp;<B>Variable Flash</B><BR>Result: %result</B>
		</TD>
	<TD>what did we get back ?</TD>
</TABLE>

<P><I>Child Task</I></P>

<TABLE>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>1.</TD> <TD>&nbsp;&nbsp;<B>Variable Set</B>
		<BR>
		%newval, %par1 + 1, Do Maths
		</TD>
		<TD>add one to the value that was passed</TD>
	</TR>
	<TR BGCOLOR="#aaaaff" VALIGN="top">
		<TD>1.</TD> <TD>&nbsp;&nbsp;<B>Return</B><BR>
		%newval
		<BR>
	<TD>set %result in the parent to the value of %newval in the child</TD>
	</TR>
</TABLE>

<P>Result: the parent flashes <B>6</B></P>

<P>Notes:</P>
<UL>
	<LI>changes made to <I>%par1</I> and <I>%par2</I> in the child task are <B>not</B> reflected by their changing in the parent task
	<LI>receiving a return value is optional for the parent, even if the child tries to give it one
	<LI>unlike <CODE>Return</CODE> statements in most computer languages, Tasker's does not necessarily stop the child task, so if the child and parent have the same priority they can both run together and the child return several results over time.
</UL>


<A NAME="encryption.html"/>

<H2>
	Encryption
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<HR>
<P>
<B>Note:</B> encryption functions are not available to new customers or
in Play Store versions of Tasker due to US export restrictions.
</P>
<HR>

Tasker has the ability to encrypt and decrypt files. The relevant
actions are in the <I>Encryption</I> action category.

<P>
Since decryption can be automated, you have the possibility to
keep data files encrypted outside of certain times, locations, 
applications etc.
</P>
<P>
<B>Warning</B>: make backups of your files while setting up encryption
until you understand how the system works and are sure the 
encryption/decryption process does not cause any corruption.
</P>

<B>Tip</B>: Tasker does not give progress reports while it's doing
encryption, if you want to know when an long decryption operation
is finished, just put a <I>Vibrate</I> action or similar after the
<I>Encrypt/Decrypt</I> action.

<H4>Keys</H4>

Tasker uses a system of named <I>keys</I>. All of the encryption
actions can specify a key name so that you can use different keys
with different files (if desired).
<P>
If no key name is specified, <B>default</B> is used.
</P>
<P>
Once a passphrase for a key is entered, the ciphers it generated are stored in memory
until explicitly deleted. The deletion might be specified after an <I>Encrypt/
Decrypt File</I> action, or explicitly with the <I>Clear Key</I> action.

<H4>Setting Up Encryption</H4>

<H5>General Preferences</H5>

<P>
First thing to do is check whether the encryption preferences for 
<B>Encryption Iterations</B> and <B>Encryption Algorithm</B> are
as you wish. Once you start encryping things, it's time consuming
to start again with new encryption preferences.
</P>
<P>
The preferences can be found at <CODE>Menu / Prefs / Action</CODE>.
Be sure to have a look at the help text for each item.
</P>

<H5>Initial Encryption</H5>

To start with, you probably want to encrypt some files which are in 
a particular directory, which you can then decrypt as they are needed.
<P>
To do that, create a task called <B>Encrypt</B> or similar
and add one or more <I>Encrypt File</I> or <I>Encrypt Dir</I> actions to it.
</P>
<P>
By default, the
key is cleared once the file is encrypted, so click 'Leave Key'
for all but the last action, otherwise you'll have to enter your
passphrase for each file.
</P>
<P>
Next, <A HREF="#app_widgets.html">create a Tasker shortcut</A> on the home screen, using the <I>Encrypt</I>
task. Tap the widget to encrypt your files. Notice how
you are only asked for the passphrase for the first one, because it
is stored until cleared.
</P>
<P>
The encrypted files will all receive an extension <I>.tec</I>
and the original files are deleted.
</P>

<H4>Decryption</H4>

Once you have a set of encrypted files, you need to setup the contexts
in which they will be decrypted.
<P>
Create another task called <I>Decrypt</I> or similar, and add <I>Decrypt</I>
actions to it to match the encrypt actions you setup previously.
</P>
<P><B>Don't</B> click Clear Key, otherwise you'll have to enter your
passphrase for every file (and at the start of encryption).
</P>

<P>
Now you can use your <I>Encrypt</I> and <I>Decrypt</I> tasks whenever you like. For instance,
you could create a profile with a Location Context and run your <I>Decrypt</I> task
when entering the location (assign Decrypt as the Enter task) and your <I>Encrypt</I>
task when leaving the location (assign <I>Encrypt</I> as the Exit task).
</P>

<P>
<B>Important</B>: when you use the <I>Decrypt</I> action, it recreates the original
file from the encrypted copy, but does <B>not</B> delete the encrypted version.
</P>
<P>
When you re-encrypt the file, if it has not changed it is simply deleted since we
already have an encrypted copy. If it <B>has</B> changed, it is re-encrypted.
</P>
<P>
The purpose of this method of operation is to:
<UL>
	<LI>avoid the lengthy encryption process when unnecessary</LI>
	<LI>prevent accidental double-encryption (encrypting the same file twice)</LI>
</UL>

<H4><I>Enter Key</I> Action</H4>

It's not always convenient to enter the key at the point at which de- or encryption
takes place. This action allows you to specify the passphrase for a key
at a different point.
<P>
If you don't wish to double-enter a key when encrypting, you can also use this
action before an Encrypt action and not select <I>Confirm</I>.
</P>

<H4><I>Set Key</I> Action</H4>

To allow full-automation of en/decryption, the passphrase for a key can also be set
without user interaction. However, this is much less secure tham <code>Enter Key</code> because:

<UL>
	<LI>the passphrase (as part of the action) is stored in <B>clear text</B> in device memory and could be read by the root user if the device OS is compromised
	<LI>although the passphrase is itself encrypted when a backup is made to SD, the parameters for that encryption can be recovered from the java code in the Tasker apk file
</UL>

<H4>Security</H4>

<H5>Algorithm</H5>

Tasker uses symmetric encryption, meaning the same passphrase is used both
to encrypt and decrypt the data.

<P>
The default algorithm is "PBEWithMD5And128BitAES-CBC-OpenSSL".
PBE stands for password-based encryption, see <A HREF="http://www.ietf.org/rfc/rfc2898.txt">RFC 2898</A>.
</P>
<P>
A salt is combined with the passphrase several hundreds of times using the MD5 algorithm
to produce a key which is used for the 128-bit (default setting) AES algorithm.
</P>
<P>
The number of iterations and algorithm can be set in <CODE>Menu / Prefs / Action</CODE>.
</P>

<H5>Pass Phrases</H5>

The longer the passphrase, the more secure the data. Minimally 8 characters of mixed
alphabetic, numeric and punctuation characters is recommended.

<H5>Clearing Keys</H5>

While a key's ciphers are in memory, anyone can use the key for
decryption or encryption if your device is lost or stolen, so it may be wise
to setup a <I>Clear Key</I> action e.g. when the device is turned off
(see Screen Off in the Event Context) or at a particular time (Time Context),
depending on what you are using the encryption for.

<H5>Manually Encrypting/Decrypting</H5>

You can use Tasker's file browser (action Browse Files) to encrypt/decrypt files
directly, via a long-click on the file.

<A NAME="gestures.html"/>

<H2>
	Gestures & Shaking
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>General</H4>

<I>Gestures</I> are physical movements of the phone in space, which you first
record by creating a new Event of type <I>Gesture</I> (in the <I>Misc</I> category).

<P>
When you later redo the gesture while using your device, Tasker will carry out
the corresponding task(s) you have attached to its profile.
</P>
<P>
Like normal events, gestures are restricted by other contexts. For example,
if you define a profile with a Gesture (Event) and Application context, the
gesture will only be recognized while using that particular application.
</P>
<P>
Note: it might be a good idea to disable Tasker before setting up
new gestures, as otherwise you are likely to trigger previously defined ones.
</P>

<H4>Recording A Gesture</H4>

<H5>Gesture Points</H5>

First off, it's important to know that Tasker only records the particular points
(which we'll call <I>inflection points</I>) of a gesture that you tell it to.
For example, recording a gesture involving tilting the phone to the left and back
you would record three inflection points: the start, the tilted left position, and
the end (which is the same as the start in this case).

<P>
You can record as many points as you like, but in general it's best to record
only the points where the phone is not moving.
</P>

<H5>Recognized Movements</H5>

Tasker will only recognize changes in the <B>angle</B> of the phone i.e.
<B>tilting</B> to left or right, backwards or forwards, or rotating vertically.
Imagine three poles going through the device in the three dimensions.
<P>
<B>Moving</B> the phone backwards or forwards, up or down or side to side cannot
be recognized.
</P>

<H5>Procedure</H5>
<OL>
<LI>create a new Gesture Event and give it a name (so you can differentiate between
different gestures).
<LI>put the phone in the position where you want the gesture to
start and <B>press-and-hold</B> the <B>Call</B>, <B>Camera</B>, <B>Menu</B>, <B>Search</B> or <B>Volume</B> hardware buttons
to record the point. The device will buzz.
<LI>move to another (preferably not-moving) point on the path of your gesture, and
press the button again (not a long press). The device will buzz.
<LI>on the <B>final</B> inflection point, <B>press-and-hold</B> the button
to mark the end of the gesture. The device will buzz again and the "Recorded." 
message should now flash up. 
<LI>Press <B>Done</B>, and add a Vibrate action so you can hear when your
pattern matches when testing it.
</OL>

<H4>Activation</H4>

<H5>Calibration</H5>

Before trying to match a pattern, you probably need to calibrate the hardware
in your device. Go to <CODE>Menu / Prefs / Monitor / Gestures</CODE>. Press
the <B>Calibrate</B> button and tilt your phone around in all directions.

<P>
Tasker now has some idea what kind of values the <I>accelerometer</I> in your
phone produces.
</P>
<P>
You only need to calibrate once.
</P>

<H4>Matching</H4>

Now exit Tasker and move your device through the points you previously defined
when recording. You should hear the device vibrate when it reaches the final
recorded point.

<P>
If not, try playing with the values in the Gesture Settings screen. For instance,
you could try raising the Match Radius (but be careful not to raise it too much
or you'll get a lot of matches by mistake).
</P>

<H4>Power Usage</H4>

Tasker does its best to limit power usage of gesture monitoring.
<UL>
<LI>monitoring for gestures only takes place when all the
other contexts in a profile are already active (and so the gesture might
have a chance of activating the profile). For example, if you combine an
Application and Gesture (Event) context, gesture monitoring will only
take place while using that particular application.
<LI>Gesture monitoring is by default turned off when the display is off unless a power source is connected to the device,
unless specified otherwise in <CODE>Menu / Prefs / Monitor / Display Off Monitoring</CODE>
<LI>updates from the accelerometer are at the minumum rate until the start of a gesture is detected.
</UL>

<A NAME="icons.html"/>

<H2>
	Icons
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

Tasker can use four categories of icons:

<A HREF="#app">Application</A>, 
<A HREF="#builtin">Built-In</A>, 
<A HREF="#ipack">Ipack</A>, 
<A HREF="#user">User-Installed</A>.

<P>
In some places it's also possible to use any image stored on local media as an icon.
</P>

<A NAME="app"></A>
<H4>Application Icons</H4>

These are taken from applications installed on the device.
<P>
Minor note: if the icon of the application changes, an update of previously created widgets/shortcuts can
be forced by creating a single widget with the new icon and then rebooting.
</P>

<A NAME="builtin"></A>
<H4>Built-In Icons</H4>

These come with Tasker and are kept in the device's memory.

<A NAME="ipack"></A>
<H4>Ipack Icon Sets</H4>

<A HREF="http://ipack.dinglisch.net">Ipack</A> is a free, open format for sharing of icon sets between Android applications.
Ipack icon sets can be either installed from <A HREF="http://market.android.com/search?q=ipack">Play Store</A> or from the <A HREF="http://ipack.dinglisch.net/download.html">Ipack website</A>. 
<P>
When setting an icon, you will notice an item labelled <I>Download More Icons</I>. Clicking on it will use the appropriate source depending on which version of Tasker you have.
</P>

<A NAME="user"></A>
<H4>User-Installed Icons</H4>

<P>
You can also install your own icons directly into Tasker's icon directory
<CODE>/sdcard/Tasker/.icn/</CODE>. Make sure the icons are in a subdirectory.
The subdirectory should also only be one level deep (no subsubdirectories).
</P>
<P>
Icons must be in PNG format.
</P>
<P>
Example: a two-icon set called <I>Christmas</I> would have the two files
in these locations:
</P>
<BLOCKQUOTE>
<CODE>/sdcard/Tasker/.icn/Christmas/santa.png</CODE><BR>
<CODE>/sdcard/Tasker/.icn/Christmas/snowman.png</CODE>
</BLOCKQUOTE>

<A NAME="intents.html"/>

<H2>
        Intents
        <IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<P>
Intents are Android's main method for allowing apps to communicate with each other and share data.
Intents are for advanced users. This document is not intended to explain how intents work, but
how to use Tasker's intent facilities.
</P>

<H3>Sending Intents</H3>

You can find information about intents and details of several built-in Android intents on the Android SDK
<A HREF="# https://developer.android.com/reference/android/content/Intent.html">
Reference Site</A>.

<P>
Tasker allows you to send arbitraty intents using the <I>Send Intent</I> action in the
<I>Misc</I> category. This allows
you to provoke behaviour in other apps, when you know the particular form of intent they
are designed to respond to.
</P>

<H4>Send Intent Parameters</H4>

Note that any parameter specified except Extras will reduce the set of possible receivers
of the intent.

<H5>Action</H5>

What the sender would like the receiver to do with the data.

<P>
Example: <CODE>android.intent.action.VIEW</CODE>
</P>

<H5>Cat</H5>

Gives additional information about the action.

<H5>Mime-Type</H5>

From the developer reference: "This is used to create intents that only specify a type and not data, for example to indicate the type of data to return."

<P>
Can't be used together with a Data specification.
</P>

<H5>Data</H5>

The main data specification in the form of a URI. 

<P>
Can't be used together with a Mime-Type specification.
</P>

<H5>Extras</H5>

Any additional data to send with the intent.

<P>
The extras must be in the form of a single <B>colon-separated</B> key and value.
</P>
<P>
If the value can be parsed as an integer, long (integer ending in L), floating point number, double (float ending in D) or boolean (true/false) it will be treated as one.
</P>

<P>
The value can also be forced to a simple type (long etc) or <CODE>Uri</CODE> via casting.
</P>
<P>The name of a Java object created via the Java Function action which is of type <CODE>Parcelable</CODE> can also be used (e.g. a <CODE>Bundle</CODE>)
</P>
<P>If none of the above apply, the value will be treated as a <CODE>String</CODE>.

<P>
Examples:
</P>

<UL>
<LI>have_flowers:true <BR>(<CODE>boolean</CODE>)
<LI>this.is.an.integer.example:34<BR>(<CODE>int</CODE>)
<LI>this.is.a.double.example:34D<BR>(<CODE>int</CODE>)
<LI>address: (Uri) http://a.b <BR>(<CODE>Uri</CODE>)
<LI>bunchofvalues:mybundle (where mybundle is the name of a Java object of type Bundle)<BR>(<CODE>Parcelable</CODE>)
<LI>simple.string.example:hello there!<BR>(<CODE>String</CODE>)
</UL>

<H5>Package, Class</H5>

Allow specification of a particular package and/or class within the package to
restrict the broadcast to.

<H5>Target</H5>

The type of Android component which should receive the intent.

<!--
Send Intent always sends <B>ordered</B> intents, meaning that the potential listeners can receive the
intent in an order which is dependent on the priority of their intent filter and can also abort
the intent once they have received it (prevent it being passed further).
</P -->

<H4>Finding App Intents</H4>

Many intents that an app listens for are declared in its package manifest
(called AndroidManifest.xml). You can view details of those intents
using the <I>aapt</I> tool that comes with the Android SDK like this:

<BLOCKQUOTE>
<CODE>
aapt dump xmltree example.apk AndroidManifest.xml
</CODE>
</BLOCKQUOTE>

<P>
Look for Intent Filter elements.
</P>

It's not (easily) possible to determine which intents an app listens
for dynamically (i.e. while the app is running).

<!-- ________________________________ RECEIVE ______________________________ -->

<H3>Receiving Intents</H3>

<P>
Tasker allows you to receive a large range of intents, sent by apps or the system, using the <I>Intent Received</I> event in the <I>System</I> category.
</P>

<P>
For each event you create, Tasker sets up a corresponding
<A HREF="https://developer.android.com/reference/android/content/IntentFilter.html">
Intent Filter</A> object.
</P>

<H4>Limitations</H4>

<UL>
<LI>Tasker can only receive intents which
are sent to <B>broadcast receiver</B> components, not to activities
or services.
<LI>some intent senders require that a corresponding intent filter is specified statically
(i.e. in an Android Manifest). Those intents cannot be received.
<LI>intents which are broadcast with a specification of a particular
package component to receive it cannot be received.
</UL>

<H4>Send Intent Parameters</H4>

<H5>Action</H5>

If specified, the received intent must have also that action specified.

<H5>Cat</H5>

Any categories specified in the received intent must also be specified
in the Tasker event. Note that this is logically different to the
situation for the Action parameter.

<H5>Scheme</H5>

If any schemes are included in the filter, then an Intent's data must be either one of these schemes or a matching data type. If no schemes are included, then an Intent will match only if it includes no data.

<H5>Mime Type</H5>

If a type is specified, then an Intent's data must be the same,
or match the Scheme parameter. If no Mime Type is specified,
then an Intent will only match if it specifies no Data.

<H5>Priority</H5>

If the intent is part of an <I>ordered broadcast</I>, then the priority
specified here will affect whether this event will receive the intent
before or after other listeners.

<H5>Stop Event</H5>

If the intent is part of an <I>ordered broadcast</I>, then specifying
Stop Event will prevent it being passed to other listeners after this one. 

<H4>Accessing Intent Data</H4>

When an intent triggers an Intent Received event, the resulting 
task(s) which are executed have access to many details of the
intent via local variables (where relevant and present):

<UL>
	<LI><I>%intent_data</I>: the data
	<LI><I>%evtprm1</I>: the action
	<LI><I>%evtprm2</I>: the first category
	<LI><I>%evtprm3</I>: the second category
	<LI><I>%evtprm4</I>: the URI scheme
	<LI><I>%evtprm5</I>: the MIME type
</UL>

<P>
In addition, any <I>extras</I> attached to the intent can be
accessed under their name, with the following modifications to
make them valid variable names:

<UL>
	<LI>all letters will be converted to lower-case, then
	<LI>names of length less than 3 will have <B>var_</B> prefixed
	<LI>non-letter-or-digit characters will be converted to _, then
	<LI>names not starting with a letter will have <B>a</B> prefixed, then
	<LI>names not ending with a letter or digit will have <B>a</B> affixed
	<LI>if the result is the name of another extra, <B>_dup</B> will be affixed until that is no longer the case
</UL>

<P>
For example, an extra with key <B>%SOUND_ON</B> will be available as <B>%sound_on</B>, and an
extra with key <B>package.SOUND_ON!</B>, will be available via the local variable <B>%package_sound_on_a</B>
</P>

<P>
The following extra types are presented in Tasker as local arrays:
<CODE>String [], Integer [], ArrayList<String>, ArrayList<Integer></CODE>.

<P>
Example:  a string array extra `named 'fruits' with values 'pear' and
'apple' will result in the local variables %fruits1 (=pear) and %fruits2 (=apple).
</P>

<A NAME="java.html"/>

<H2>
	Java Support
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<UL>
	<LI><A HREF="#intro">Introduction</A>
	<LI><A HREF="#javafunction">The <CODE>Java Function</CODE> Action</A>
		<UL>
			<LI>Using The Action
			<LI>Parameters
			<LI>Return Values
		</UL>
	<LI><A HREF="#objects">Objects</A>
		<UL>
			<LI>Creating An Object
			<LI>Object Naming, Local And Global
			<LI>Built-in Objects
			<LI>Assigning Values
			<LI>Other Actions Supporting Objects
		</UL>
	<LI><A HREF="#other">Other Topics</A>
		<UL>
			<LI>Casting
			<LI>Constants
			<LI>Generic Classes
			<LI>Permissions
			<LI>Service Thread
			<LI>Static Fields
		</UL>
</UL>

<A NAME="intro" />
<H3>Introduction</H3>
<P>
Android has hundreds of thousands of functions which apps can use. It's not possible
for Tasker to present all of those to the user, so Tasker allows the 
advanced user to directly call those Java functions and work with Java objects themselves.
</P>

<P>It does <B>not</B> allow you to 'write Java code'... but the combination of
Tasker's logic and flow control with direct access to the Android API is
sufficient for most automation purposes.
</P>

<P>
This page assumes you have a basic familiarity with the Java concepts
of <I>objects</I> and <I>classes</I>.
</P>

<P>
Developer information on the Android API is available from <A HREF="http://developer.google.com/develop">Google</A>.
</P>

<H4>Example</H4>

<OL>
	<LI><CODE>Variable Set</CODE>, %service, wifi
	<LI><CODE>Java Function</CODE>, wiman = CONTEXT.getSystemService( %service )
	<LI><CODE>Java Function</CODE>, %enabled = wiman.isWifiEnabled()
	<LI><CODE>Java Function</CODE>, wiman.setEnabled( true ), If %enabled eq false
</OL>

<P>
This example task turns wifi on if it is not already enabled.
</P>

<P>
Action 2 demonstrates that Tasker variables can be used in Java function calls.
<I>wiman</I> is a Java object resulting from the function call which is stored 
by Tasker for use in subsequent actions. <I>CONTEXT</I> is also such a variable
but is built-in and always accessible to <code>Java Function</code>.
</P>

<P>Action 3 demonstrates that results of <CODE>Java Function</CODE> can also
be assigned to Tasker variables. Since all Tasker variables are strings,
some conversion needs to take place depending on what type of object the
Java function returns. In this case it's a boolean, and so %enabled will be
<B>true</B> or <B>false</B>.
</P>

<P>Action 4 demonstrates taking a decision based on the result of previous
Java function call.
</P>

<A NAME="javafunction" />
<H3>The <CODE>Java Function</CODE> Action</H3>

<H4>Using The Action</H4>

<OL>
<LI>enter an object or class (to access static functions)
into the first parameter. 
<P>The magnifying glass icon will show a
class selector for classes known in the latest Android API. Some may
be coloured red, as not all classes are available on all devices. 
</P>
<P>The coffee-cup icon allows quick selection of known Java objects
</P>
<P>The question mark icon will attempt to link to the relevant Android
reference page for the object or class. 
</P>

<LI>click the magnifying class next to the <CODE>Function</CODE>
parameter to select a function to execute appropriate to the object
or class from step 1.

<P>In most cases, Tasker will be able to guess which class an object
is, and hence which functions are available, if not, see <A HREF="#casting">casting
</A> below.
</P>
<P>
Functions listed in red are private, meaning they can be used, but the
author didn't intend them to be.
</P>

<LI>if the function returns a value, you can enter a Java <A HREF="#names">object
name</A> to assign it to, or a Tasker variable, see <A HREF="#return">below</A>.
<P />
<LI>enter any parameters required for the function, see <A HREF="#params">below</A>.
 The type of object the function expects for the parameter is displayed above the text entry
field. The magnifying glass will list any fields associated with the current 
entry in the text box, where possible.

</OL>

<A NAME="params" />
<H4>Parameters</H4>

<P>
If you don't enter a value for a parameter, <CODE>null</CODE> will be used for
that parameter when the function is called.
</P>

<P>
If you enter the name of a variable array, Tasker will attempt to convert
the array values into the type of object (an array or collection) which
the function expects.
</P>

<P>
Other Tasker variables will be replaced in the usual way.
</P>
<P>
Here can also be entered Java objects, or their fields, either built-in or created by
previous calls to <CODE>Java Function</CODE> (e.g. <CODE>wiman</CODE> or <CODE>arr[0].length</CODE>)
</P>

<A NAME="return" />
<H4>Return Values</H4>

<P>
When a Java function returns a value, it can be placed in either a Tasker variable or a Java object (or ignored).
</P>

<P>
If it's placed into a Tasker variable, it's converted to a piece of text and the object itself is lost
and can no longer be accessed. Note that if the Java object is an array or list, it will be assigned
to multiple Tasker variables in the usual way e.g. %val1, %val2...
<P>
<P>
When the returned value is placed into a Java object, you can access the object at a later time in another <CODE>Java Function</CODE> and some other (see later) actions.
</P>
<P>
Note that return value classes are inferred from the function, so 
object names can refer to different classes at different times.
It's not recommended to reuse names in this way however!
</P>


<A NAME="objects" />
<H3>Objects</H3>

<H4>Creating An Object</H4>

<P>
New objects of most types can be created by filling in the class name,
hitting the function selector and selecting a function called <CODE>new</CODE>.
</P>

<P>
It's worth noting that many classes in the Android API have special static
functions for getting a new object of that class called e.g. <CODE>getInstance</CODE>
or similar.
</P>

<P>
Arrays (also multidimensional) can be created by adding <CODE>[]</CODE> to the 
class name (or e.g. <CODE>[][]</CODE>).
</P>

<P>
Here's an example of creating a 3x5 string array:

<OL>
	<LI><CODE>Java Function</CODE>, arr = new String[][]( 3 )
	<LI><CODE>For</CODE>, %rowno, 0:2
	<LI>&nbsp;&nbsp;&nbsp;<CODE>Java Function</CODE>, arr[%rowno] = new String[]( 5 )
</OL>

<P>
Creating an array is also possible natively via the <CODE>newInstance</CODE> function in the the class <CODE>Array</CODE>.
</P>

<P>
Array components can be accessed as in normal Java (<CODE>arr[0][1]</CODE>)
wherever Java objects are <A HREF="#support">supported</A>.
</P>


<A NAME="names" />
<H4>Object Naming, Local and Global</H4>

Object names can consist of any any combination of upper or lower case letters and underscore and, unlike Tasker
variable names, may start with underscore. The first letter
may not be upper-case, as this is a convention used to distinguish objects from classes.
<P>
Analogous to Tasker variables, Java objects are either local to the current task if their name is all
lower case, or global (available to any other task) if there are any upper-case characters in the name.
All-upper-case names represent final (fixed) global objects which cannot be modified.
</P>
<P>
There are three important things to remember about global Java objects:
<UL>
	<LI>it's important to delete them  once they are no longer needed, because they can take up
a lot of memory.
	<LI>unlike global Tasker variables, they are lost when Tasker is killed e.g. because the device was restarted
	<LI>their names can only contain upper- or lower-case letters or underscore.
</UL>

<H4>Built-in Objects</H4>

<UL>
	<LI><B>Android Context</B> (class <CODE>Context</CODE>)
        <BR><I>CONTEXT</I> <BR>
	Many funtions in Android require a context object. In tasks running <b>directly</b> as a result of a scene element event,
	this is the Activity object which is displaying the scene, otherwise it's Tasker's Application context.

	<LI><B>Image Buffer</B> (class <CODE>Bitmap</CODE>)
	<BR><I>IBUFFER</I>
	The object manipulated by functions in Tasker's <I>Image</I> action category.<br>
</UL>

<H4>Assigning Values</H4>

When writing Java code, to make a name refer to the same object as another
name, you would use something like:

<PRE>
	<CODE>String a = "hello";</CODE>
	<CODE>String b = a;</CODE>
</PRE>

<P>
Now both a and b refer to the same object.
</P>

<P>
To achieve that in Tasker, you use the special <CODE>assignTo</CODE>
function after selecting the object to assign.
</P>

<PRE>
	<CODE>Java Function, a, "hello", assign</CODE> (or <CODE>a = "hello".assign()</CODE>)
	<CODE>Java Function, b, a, assign</CODE> (or <CODE>b = a.assign()</CODE>)
</PRE>

<A NAME="support" />
<H4>Other Actions Supporting Objects</H4>

<H5>If</H5>

A Java object can be directly referenced in a condition. Null-value
objects are replaced with text representation <CODE>null</CODE>.

<P>
Examples:
</P>

<PRE>
	<CODE>If, arr[0][0] eq 45</CODE>
	<CODE>If, arr[0].length > 3 </CODE>
	<CODE>If, lightlevel Equals null</CODE>
</PRE>

<P>
You cannot make function calls e.g. str.charAt( 5 )
</P>

<H5>For</H5>

<P>
The <I>Value</I> parameter in the For action can include Java object
references as for <I>If</I>.
</P>
<PRE>
	<CODE>For, %value, arr</CODE>
</PRE>
<P>
Will repeat once for each value in the array <I>arr</I>. This will
also work for string lists and simple objects (boolean etc)
</P>

<A NAME="other" />
<H3>Other Topics</H3>

<A NAME="casting" />
<H4>Casting</H4>

<P>
<I>Casting</I> in Tasker is used only to tell Tasker the type of
a particular object. That can be useful so that e.g. Tasker can
show functions which are appropriate to it.
</P>

<P>
In the example at the top of the page, the <CODE>getSystemService</CODE>
function returns an Object:

<PRE>
	<CODE>Java Function</CODE>, wiman = CONTEXT.getSystemService( %service )
</PRE>

<P>
Since the object could be one of many kinds of managers, Tasker is
not able to list the WifiManager functions for easy selection
when creating the next <CODE>Java Function</CODE> action in the task.
</P>

<P>
You can tell Tasker the actual type by adding a cast in brackets
before the name:
</P>
<PRE>
	<CODE>Java Function</CODE>, (WifiManager) wiman = CONTEXT.getSystemService( %service )
</PRE>

<H4>Constants</H4>

Tasker support the usual naming conventions for Java constants.

<UL>
	<LI><B>L</B> a long integer e.g. <CODE>300L</CODE>
	<LI><B>F</B> a floating-point number e.g. <CODE>45.6D</CODE>
	<LI><B>D</B> a double-length float e.g. <CODE>45.6D</CODE>
	<LI><B>double quotes</B> indicate a string e.g. <CODE>"hello"</CODE>, though
	in many cases Tasker will infer that a string was intended
	anyway
	<LI><B>single quotes</B> indicate a character e.g. <CODE>'x'</CODE>
</UL>

<P>
Tasker will attempt to convert numbers without affixes to a Java type in
the following order: <CODE>int, long, float, double</CODE>.
</P>

<H4>Generic Classes</H4>

Tasker only supports fully the following generic classes:

<CODE>
<UL>
	<LI>ArrayList&lt;String&gt;
	<LI>ArrayList&lt;View&gt;
	<LI>ArrayList&lt;Bundle&gt;
	<LI>ArrayList&lt;Integer&gt;
	<LI>ArrayList&lt;Long&gt;
	<LI>ArrayList&lt;Double&gt;
	<LI>ArrayList&lt;Float&gt;
</UL>
</CODE>

<P>
Create them by selecting their class in the class selector, clicking the
function selector and clicking <I>new</I>.
</P>

<P>
Generic classes mixed with arrays cannot be handled by Tasker, though
you can pass such objects around from function to function.
</P>

<H4>Permissions</H4>

<P>
For some function calls, Android requires that the calling app have declared
a permission otherwise the call will fail. This means that a
Java Function call will fail if the permission is not one of the
ones pre-declared by Tasker.
</P>

<P>
Unfortunately, Android does not allow permissions to be added dynamically, so
if you wish to use a function requiring a permission that Tasker
does not already have, the only option is to generate a child
app to run the function (see <A HREF="#appcreation.html">App Creation</A>). 
In the child configuration screen
you can add any permissions which your Java Function call
needs to the child app.
</P>


<H4>Service Thread</H4>

Java code is executed with a non-UI thread by a service.

<P>
Some implications are:
</P>

<UL>
	<LI>things which require an activity will not work e.g. showing a dialog
	<LI>sending intents will in some cases require the flag <CODE>Intent.FLAG_FROM_BACKGROUND</CODE>
	and possibly also <CODE>Intent.FLAG_ACTIVITY_NEW_TASK</CODE>
</UL>

<H4>Static Fields</H4>

Static fields (e.g. <CODE>ContentResolver.EXTRA_SIZE</CODE>) are not currently supported
by Tasker.

<P>
A workaround is to use reflection to get (or set) the value:

<PRE>
	<CODE>res = CONTEXT.getContentResolver();</CODE>
	<CODE>cls = res.getClass();</CODE>
	<CODE>fld = cls.getField( EXTRA_SIZE );</CODE>
	<CODE>%val = fld.get( null );</CODE>

</PRE>


<A NAME="javascript.html"/>

<H2>
	JavaScript Support
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<UL>
	<LI><A HREF="#intro">Introduction</A>
	<LI><A HREF="#localvars">Local Variables</A>
	<LI><A HREF="#globalvars">Global Variables</A>
	<LI><A HREF="#array">Arrays</A>
	<LI><A HREF="#settings">Settings</A>
	<LI><A HREF="#exe">Execution</A>
	<LI><A HREF="#offdevice">Working Off-Device</A>
	<LI><A HREF="#builtin">Builtin Functions</A>

	<BR>
	<A HREF="#alarmVol">alarmVol</A>
	<A HREF="#audioRecord">audioRecord</A>
	<A HREF="#audioRecordStop">audioRecordStop</A>

	<BR>
	<A HREF="#btVoiceVol">btVoiceVol</A>
	<A HREF="#browseURL">browseURL</A>
	<A HREF="#button">button</A>

	<BR>
	<A HREF="#call">call</A>
	<A HREF="#callBlock">callBlock</A>
	<A HREF="#callDivert">callDivert</A>
	<A HREF="#callRevert">callRevert</A>
	<A HREF="#callVol">callVol</A>
	<A HREF="#carMode">carMode</A>
	<A HREF="#clearKey">clearKey</A>
	<A HREF="#composeEmail">composeEmail</A>
	<A HREF="#composeMMS">composeMMS</A>
	<A HREF="#composeSMS">composeSMS</A>
	<A HREF="#convert">convert</A>
	<A HREF="#createDir">createDir</A>
	<A HREF="#createScene">createScene</A>
	<A HREF="#cropImage">cropImage</A>

	<BR>
	<A HREF="#decryptDir">decryptDir</A>
	<A HREF="#decryptFile">decryptFile</A>
	<A HREF="#deleteDir">deleteDir</A>
	<A HREF="#deleteFile">deleteFile</A>
	<A HREF="#destroyScene">destroyScene</A>
	<A HREF="#displayAutoBright">displayAutoBright</A>
	<A HREF="#displayAutoRotate">displayAutoRotate</A>
	<A HREF="#displayTimeout">displayTimeout</A>
	<A HREF="#dpad">dpad</A>
	<A HREF="#dtmfVol">dtmfVol</A>

	<BR>
	<A HREF="#elemBackColour">elemBackColour</A>
	<A HREF="#elemBorder">elemBorder</A>
	<A HREF="#elemPosition">elemPosition</A>
	<A HREF="#elemText">elemText</A>
	<A HREF="#elemTextColour">elemTextColour</A>
	<A HREF="#elemTextSize">elemTextSize</A>
	<A HREF="#elemVisibility">elemVisibility</A>
	<A HREF="#enableProfile">enableProfile</A>
	<A HREF="#encryptDir">encryptDir</A>
	<A HREF="#encryptFile">encryptFile</A>
	<A HREF="#endCall">endCall</A>
	<A HREF="#enterKey">enterKey</A>
	<A HREF="#exit">exit</A>

	<BR>
	<A HREF="#filterImage">filterImage</A>
	<A HREF="#flash">flash</A>
	<A HREF="#flashLong">flashLong</A>
	<A HREF="#flipImage">flipImage</A>

	<BR>
	<A HREF="#getLocation">getLocation</A>
	<A HREF="#getVoice">getVoice</A>
	<A HREF="#global">global</A>
	<A HREF="#goHome">goHome</A>

	<BR>
	<A HREF="#haptics">haptics</A>
	<A HREF="#hideScene">hideScene</A>

	<BR>
	<A HREF="#listFiles">listFiles</A>
	<A HREF="#loadApp">loadApp</A>
	<A HREF="#loadImage">loadImage</A>
	<A HREF="#local">local</A>
	<A HREF="#lock">lock</A>

	<BR>
	<A HREF="#mediaControl">mediaControl</A>
	<A HREF="#mediaVol">mediaVol</A>
	<A HREF="#micMute">micMute</A>
	<A HREF="#mobileData">mobileData</A>
	<A HREF="#musicBack">musicBack</A>
	<A HREF="#musicPlay">musicPlay</A>
	<A HREF="#musicSkip">musicSkip</A>
	<A HREF="#musicStop">musicStop</A>

	<BR>
	<A HREF="#nightMode">nightMode</A>
	<A HREF="#notificationVol">notificationVol</A>

	<BR>
	<A HREF="#performTask">performTask</A>
	<A HREF="#popup">popup</A>
	<A HREF="#profileActive">profileActive</A>
	<A HREF="#pulse">pulse</A>

	<BR>
	<A HREF="#readFile">readFile</A>
	<A HREF="#reboot">reboot</A>
	<A HREF="#resizeImage">resizeImage</A>
	<A HREF="#ringerVol">ringerVol</A>
	<A HREF="#rotateImage">rotateImage</A>

	<BR>
	<A HREF="#saveImage">saveImage</A>
	<A HREF="#say">say</A>
	<A HREF="#scanCard">scanCard</A>
	<A HREF="#sendIntent">sendIntent</A>
	<A HREF="#sendSMS">sendSMS</A>
	<A HREF="#setAirplaneMode">setAirplaneMode</A>
	<A HREF="#setAirplaneRadios">setAirplaneRadios</A>
	<A HREF="#setAlarm">setAlarm</A>
	<A HREF="#setAutoSync">setAutoSync</A>
	<A HREF="#setBT">setBT</A>
	<A HREF="#setBTID">setBTID</A>
	<A HREF="#setClip">setClip</A>
	<A HREF="#setGlobal">setGlobal</A>
	<A HREF="#setKey">setKey</A>
	<A HREF="#setLocal">setLocal</A>
	<A HREF="#settings">settings</A>
	<A HREF="#setWallpaper">setWallpaper</A>
	<A HREF="#setWifi">setWifi</A>
	<A HREF="#shell">shell</A>
	<A HREF="#showScene">showScene</A>
	<A HREF="#shutdown">shutdown</A>
	<A HREF="#silentMode">silentMode</A>
	<A HREF="#sl4a">sl4a</A>
	<A HREF="#soundEffects">soundEffects</A>
	<A HREF="#speakerphone">speakerphone</A>
	<A HREF="#statusBar">statusBar</A>
	<A HREF="#stayOn">stayOn</A>
	<A HREF="#stopLocation">stopLocation</A>
	<!--A HREF="#stopTask">stopTask</A -->
	<A HREF="#systemLock">systemLock</A>
	<A HREF="#systemVol">systemVol</A>

	<BR>
	<A HREF="#takeCall">takeCall</A>
	<A HREF="#takePhoto">takePhoto</A>
	<A HREF="#taskRunning">taskRunning</A>
	<A HREF="#type">type</A>

	<BR>
	<A HREF="#usbTether">usbTether</A>
	<A HREF="#unzip">unzip</A>

	<BR>
	<A HREF="#vibrate">vibrate</A>
	<A HREF="#vibratePattern">vibratePattern</A>

	<BR>
	<A HREF="#wait">wait</A>
	<A HREF="#wifiTether">wifiTether</A>
	<A HREF="#writeFile">writeFile</A>

	<BR>
	<A HREF="#zip">zip</A>

	<LI><A HREF="#notes">Function Notes</A>
</UL>

<A NAME="intro" />
<H3>Introduction</H3>
<P>
Tasker supports running JavaScript code in tasks or <A HREF="#element_web.html">WebView</A> scene elements.
Most Tasker actions can be accessed direct from the JavaScript.
JSON and XMLHTTPRequest are also directly available from the JavaScript code.</P>

<H4>JavaScript in Tasks</H4>

<P>
JavaScript can be embedded inline in tasks via the <I>JavaScriptlet</I> (direct
specification of JavaScript to run) or <I>JavaScript</I> (load script from file)
actions.
</P>

<P>
In both cases, the JavaScript executes in sequence with the other actions in the task
and variables are transparently converted so pieces of JavaScript can be 
interwoven throughout the task.
</P>

<H4>Embedded in HTML</H4>

WebView elements allow specification of mixed HTML and JS for the element
content.

<BLOCKQUOTE>
<CODE>
&lt;H1 onClick="setWifi( false )"&gt;ClickMeToTurnOffWifi&lt;/H1&gt;
</CODE>
</BLOCKQUOTE>

<P>
This allows a single WebView to present a complete user-interface.
</P>

<A NAME="localvars" />
<H3>Local Variables</H3>

<P>
In <CODE>JavaScript(let)</CODE> actions, local variables (all lower case, e.g. <B>%myvar</B>) are directly accessible in the JavaScript without
the % sign (e.g. <B>myvar</B>). If the script changes the value, the new value is transparently
used by subsequent actions in the task.
</P>
<P>
The values of new (all lower case) variables declared in JavaScript (with the <CODE>var</CODE> keyword) are also available to subsequent actions,
with the exception of those which are chain-declared e.g. <CODE>var one = 'aval', two = 'bval';</CODE>
</P>
<P>
In JavaScript embedded in HTML, the functions <A HREF="#local">local</A> and
<A HREF="#setLocal">setLocal</A> must be used to access variables local to the scene hosting the WebView.
</P>

<A NAME="globalvars" />
<H3>Global Variables</H3>

Tasker global variables need to be accessed via <A HREF="#global">global()</A> and set via <A HREF="#setGlobal">setGlobal()</A>. 
Global arrays are not supported due to an Android limitation.

<A NAME="array" />
<H3>Arrays</H3>

<P>
Local Tasker arrays are transparently available in <I>Javascript(let)</I>s and vice-versa.
They are not available in WebViews.
</P>
<P>
Arrays which are not existing Tasker arrays must be declared in the JS as such i.e. in
this case <I>arr</I> will not be visible to the remainder of the task:
</P>

<PRE>
	var arr = getSomeArray();
</PRE>

<P>
Whereas in this case it will:
</P>

<PRE>
	var arr = [];
	arr = getSomeArray();
</PRE>

<P>
Note that:
</P>

<UL>
<LI>JavaScript array indices start at 0, whereas Tasker array indices start at 1
<LI>JavaScript uses <CODE>[]</CODE> while Tasker uses <CODE>()</CODE>
</UL>

<P>
So, for example, <CODE>%arr(1)</CODE> (Tasker) is equivalent to <CODE>arr[0]</CODE> (JavaScript).
</P>

<A NAME="settings" />
<H3>Settings</H3>

Unlike normal Tasker actions, settings which are changed in JavaScript as part of a profile's
enter task are <B>not</B> restored when the profile exits.

<A NAME="exe" />
<H3>Execution</H3>

<H4>Execution Instances</H4>

Only one script can execute at one time. Once a piece of
JavaScript is executing, it cannot be interrupted by another
piece.

<A NAME="offdevice" />
<H4>Working Off-Device</H4>

You might wish to develop long and/or complicated tasks off-device e.g. on a PC.

There are two strategies for that:

<H4>1. <CODE>JavaScript</CODE> action</H4>

For off-device testing, use <CODE>Menu / More / Developer / Save JS Library Template</CODE> to get dummy
definitions for the built in functions. Include that file when developing on your PC.
<P>
To test in your JavaScript code whether you're on-device or not, use
<BLOCKQUOTE><CODE>
var onAndroid = ( global( 'sdk' ) > 0 );
</CODE></BLOCKQUOTE>
</P>

<P>
By using the <CODE>JavaScript</CODE> action rather than <CODE>JavaScriptlet</CODE> you can easily
access a file synced from PC to a file on the Android device.
</P>

<H4>2. Using WebView</H4>

<P>
If you specify a website URL as the content for your WebView, then testing the
code on the target device is a simple matter of pushing the new version to your webserver and
reloading the WebView on the device (see action <A HREF="#help/ah_scene_element_web_control.html">Element Web Control</A>)
</P>

<H4>Builtin Function Execution</H4>

<P>
Calls to most Tasker builtin functions (see below) are
executed as normal single-action tasks and thus may be blocked
by other executing tasks.
</P>
<P>
They execute at the priority of the task that executed the JavaScript
<B>plus two</B>.
</P>

<H4>JavaScript(let): Alert,Confirm,Prompt</H4>

Scripts using these functions require a 'user-interface' and may cause
interference with the currently running app (though in most cases they
will not).

<H4>JavaScript(let): Auto Exit</H4>

<P>
By default, the <CODE>JavaScript(let)</CODE> action will end when the main execution
sequence is finished.
</P>
<P>
If you are using asynchronous code e.g. via <I>setTimeout()</I> or other callbacks,
you should deselect <I>Auto Exit</I>. You are then responsible yourself for telling
Tasker to continue the task by calling <I>exit()</I>.
</P>
<P>
In any case, execution will stop when the timeout configured for the action is reached.
</P>

<H4>JavaScript(let): Libraries</H4>

You can specify as many libraries as you want in the <I>Libraries</I> parameter, 
separated by newlines.
<P>
Several popular libraries are pre-selectable.
</P>
<P>
You may wish to download them manually to your local storage and change the <I>http</I> URL
to a <I>file</I> URL so that Internet is not required to run your script.
</P>

<P>
Warning: library code will have access to local files, data providers etc. on the device
</P>

<P>
Important: if you are using your own libraries developed on Windows, you may need to convert
CRLF style line endings to Unix style LF.
</P>

<A NAME="builtin" />
<H3>Builtin Functions</H3>

<P>
Tasker makes most of it's actions available via functions which can be called directly via name
in <CODE>JavaScript(let)</CODE> actions and WebView elements.
</P>
<P>
Exceptions:
</P>

<UL>
	<LI>in WebView content where mode is set to <B>URL</B>, the functions must be prefixed by <B>tk</B> e.g. <CODE>tk.flash('Woo!')</CODE>
	<LI>when executing code via <I>eval</I> the functions must be prefixed by <B>tk.</B>
</UL>

<!-- ___________________________________________________________________ -->

<A NAME="alarmVol" />
<A NAME="btVoiceVol" />
<A NAME="callVol" />
<A NAME="dtmfVol" />
<A NAME="mediaVol" />
<A NAME="notificationVol" />
<A NAME="systemVol" />
<A NAME="ringerVol" />
<H5>alarmVol / btVoiceVol / callVol / dtmfVol / mediaVol / notificationVol / systemVol / ringerVol</H5>

<P>
<CODE>var ok = alarmVol( int level, bool display, bool sound )</CODE>
</P>
<P>Set the relevant system volume to <I>level</I>.
</P>
<P>If <I>display</I> is true, the new level will be flashed up on-screen.</P>
<P>If <I>sound</I> is true, a tone will sound at the new level.</P>

<!-- ___________________________________________________________________ -->

<A NAME="audioRecord" />
<H5>audioRecord</H5>

<P>
<CODE>var ok = audioRecord( str destPath, str source, str codec, str format )</CODE>
</P>
<UL>
<LI><I>destPath</I>: where to put the recording. Note that a file extension is not
necessary, it will correspond to the selected <I>format</I>.
<LI><I>source</I>: <B>def, mic, call, callout</B> or <B>callin</B>
<LI><I>codec</I>: <B>amrn, amrw</B> or <B>aac</B>
<LI><I>format</I>: <B>mp4, 3gpp, amrn</B> or <B>amrw</B>
</UL>
<P>
The JavaScript does <B>not</B> wait for the audio recording to complete.
</P>

<P>See also: <A HREF="#audioRecordStop">audioRecordStop()</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="audioRecordStop" />
<H5>audioRecordStop</H5>

<P>
<CODE>var ok = audioRecordStop()</CODE>
</P>
<P>
Stop recording previously initiated by <A HREF="#audioRecord">audioRecord()</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="browseURL" />
<H5>browseURL</H5>

<P>
<CODE>var ok = browseURL( str URL )</CODE>
</P>
<P>
Open the default browser at the specifed URL.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="button" />
<H5>button</H5>

<P>
<CODE>var ok = button( str name )</CODE>
</P>
<P>
Simulate a press of the named button.
</P>
<P><I>name</I> must be one of <B>back, call, camera, endcall, menu, volup, voldown</B> or <B>search</B>.
<P>
This function requires a rooted device.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="call" />
<H5>call</H5>

<P>
<CODE>var ok = call( str num, bool autoDial )</CODE>
</P>
<P>
Make a phone call.
</P>
<P>If <I>autoDial</I> is <B>false</B>, the phone app will be brought up with
the number pre-inserted, if <B>true</B> the number will also be dialed.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="callBlock" />
<H5>callBlock</H5>

<P>
<CODE>var ok = callBlock( str numMatch, bool showInfo )</CODE>
</P>
<P>
Block <B>outgoing</B> calls <A HREF="#matching.html">matching</A> <I>numMatch</I>.
</P>
<P>
If <I>showInfo</I> is set, Tasker will flash a message when
a call is blocked.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="callDivert" />
<H5>callDivert</H5>

<P>
<CODE>var ok = callDivert( str fromMatch, str to, bool showInfo )</CODE>
</P>
<P>
Divert <B>outgoing</B> calls <A HREF="#matching.html">matching</A> <I>fromMatch</I>
to the number <I>to</I>.
</P>
<P>
If <I>showInfo</I> is set, Tasker will flash a message when
a call is diverted.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="callRevert" />
<H5>callRevert</H5>

<P>
<CODE>var ok = callRevert( str numMatch )</CODE>
</P>
<P>
Stop blocking or diverting outgoing calls previously specified with
<A HREF="#callBlock">callBlock</A> or <A HREF="#callDivert">callDivert</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="carMode" />
<H5>carMode</H5>

<P>
<CODE>var ok = carMode( bool onFlag )</CODE>
</P>
<P>
Turn on or off Android Car Mode.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="clearKey" />
<H5>clearKey</H5>

<CODE>var ok = clearKey( str keyName  )</CODE>

<P>
Clear the passphrase for the specified <I>keyName</I>.
</P>
<P>See Also: <A HREF="#encryption.html">Encryption</A> in the Userguide.</P>

<!-- ___________________________________________________________________ -->

<A NAME="composeEmail" />
<H5>composeEmail</H5>

<CODE>var ok = composeEmail( str to, str subject, str message  )</CODE>

<P>
Show an email composition dialog with any specified fields pre-filled.
</P>
<P>
The JavaScript does <B>not</B> wait for the email to be sent before continuing.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="composeMMS" />
<H5>composeMMS</H5>

<CODE>var ok = composeMMS( str to, str subject, str message, str attachmentPath )</CODE>

<P>
Show an MMS composition dialog with any specified fields pre-filled.
</P>
<P>
The JavaScript does <B>not</B> wait for the MMS to be sent before continuing.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="composeSMS" />
<H5>composeSMS</H5>

<CODE>var ok = composeSMS( str to, str message )</CODE>

<P>
Show an SMS composition dialog with any specified fields pre-filled.
</P>
<P>
The JavaScript does <B>not</B> wait for the SMS to be sent before continuing.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="convert" />
<H5>convert</H5>

<CODE>var result = convert( str val, str conversionType )</CODE>

<P>
Convert from one type of value to another.
</P>
<P>
<I>conversionType</I> must be one of the string constants: <B>byteToKbyte,
		byteToMbyte, byteToGbyte, datetimeToSec, secToDatetime, secToDatetimeM, secToDatetimeL, htmlToText,
		celsToFahr, fahrToCels, inchToCent, metreToFeet, feetToMetre, kgToPound, poundToKg, kmToMile,
		mileToKm, urlDecode, urlEncode, binToDec, decToBin, hexToDec, decToHex, base64encode base64decode,
		toMd5, toSha1, toLowerCase, toUpperCase, toUpperCaseFirst</B>.
</P>
See also: action <A HREF="#help/ah_convert_variable.html">Variable Convert</A>.
</P>


<!-- ___________________________________________________________________ -->

<A NAME="createDir" />
<H5>createDir</H5>

<P>
<CODE>var ok = createDir( str dirPath, bool createParent, bool useRoot )</CODE>
</P>
<P>
Create the named <I>dirPath</I>. If <I>createParent</I> is specified and any
parent directory does not exist, it will also be created.
</P>
<P>
If <I>useRoot</I> is specified, the operation will be performed as the root user
(where available).
</P>

<!-- ___________________________________________________________________ -->

<A NAME="createScene" />
<H5>createScene</H5>

<P>
<CODE>var ok = createScene( str sceneName )</CODE>
</P>
<P>
Create the named <A HREF="#scenes.html">scene</A> without displaying it.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="cropImage" />
<H5>cropImage</H5>

<P>
<CODE>var ok = cropImage( int fromLeftPercent, int fromRightPercent, int fromTopPercent, int fromBottomPercent )</CODE>
</P>
<P>
Crop an image in Tasker's image buffer previously loaded via <A HREF="#loadImage">loadImage</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="decryptDir" />
<H5>decryptDir</H5>

<P>
<CODE>var ok = decryptDir( str path, str key, bool removeKey )</CODE>
</P>
<P>
As <A HREF="#decryptFile">decryptFile()</A>, but decrypts each file in the specified directory
in turn.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="decryptFile" />
<H5>decryptFile</H5>

<P>
<CODE>var ok = decryptFile( str path, str key, bool removeKey )</CODE>
</P>
<P>

<P>
Decrypt the specified file using the encryption parameters specified in <CODE>Menu / Prefs / Action</CODE>.
</P>

<P>
If <I>removeKey</I> is not set, the entered passphrase will be reapplied automatically to the
next encryption/decryption operation with the specified <I>keyName</I>.
</P>
<P>

<P>See Also: <A HREF="#encryption.html">Encryption</A> in the Userguide, 
<A HREF="#help/ah_decrypt_file.html">Decrypt File</A> action.</P>

<!-- ___________________________________________________________________ -->

<A NAME="deleteDir" />
<H5>deleteDir</H5>

<P>
<CODE>var ok = deleteDir( str dirPath, bool recurse, bool useRoot )</CODE>
</P>
<P>
Delete the named <I>dirPath</I>.  <I>recurse</I>  must be specified if
the directory is not empty.
</P>
<P>
If <I>useRoot</I> is specified, the operation will be performed as the root user
(where available).
</P>

<!-- ___________________________________________________________________ -->

<A NAME="deleteFile" />
<H5>deleteFile</H5>

<P>
<CODE>var ok = deleteFile( str filePath, int shredTimes, bool useRoot )</CODE>
</P>
<P>
Delete the named <I>filePath</I>.
</P>
<P><I>shredTimes</I> has range 0-10.
</P>
<P>
If <I>useRoot</I> is specified, the operation will be performed as the root user
(where available).
</P>

<P>
See also: action <A HREF="#help/ah_delete_file.html">Delete File</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="destroyScene" />
<H5>destroyScene</H5>

<P>
<CODE>var ok = destroyScene( str sceneName )</CODE>
</P>
<P>
Hide the named <A HREF="#scenes.html">scene</A> if it's visible, then destroy it.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="displayAutoBright" />
<H5>displayAutoBright</H5>

<P>
<CODE>var ok = displayAutoBright( bool onFlag )</CODE>
</P>

<P>
Whether the display brightness should automatically adjust to the ambient light or not.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="displayAutoRotate" />
<H5>displayAutoRotate</H5>

<P>
<CODE>var ok = displayRotate( bool onFlag )</CODE>
</P>

<P>
Whether the display orientation should change based on the physical orientation of the device.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="displayTimeout" />
<H5>displayTimeout</H5>

<P>
<CODE>var ok = displayTimeout( int hours, int minutes, int seconds )</CODE>
</P>

<P>
How long the period of no-activity should be before the display is turned off.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="dpad" />
<H5>dpad</H5>

<P>
<CODE>var ok = dpad( str direction, int noRepeats )</CODE>
</P>
<P>
Simulate a movement or press of the hardware dpad (or trackball).
</P>
<P><I>direction</I> must be one of <B>up, down, left, right</B> or <B>press</B>.

<P>
This function requires a rooted device.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="enableProfile" />
<H5>enableProfile</H5>

<P>
<CODE>var ok = enableProfile( str name, boolean enable )</CODE>
</P>

<P>
Enable or disable the named Tasker profile.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="encryptDir" />
<H5>encryptDir</H5>

<P>
<CODE>var ok = encryptDir( str path, str keyName, bool rememberKey, bool shredOriginal )</CODE>
</P>

<P>
As <A HREF="#encryptFile">encryptFile()</A>, but encrypts each file in the specified directory
in turn.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="elemBackColour" />
<H5>elemBackColour</H5>

<P>
<CODE>var ok = elemBackColour( str scene, str element, str startColour, str endColour )</CODE>
</P>

<P>
Set the background <A HREF="#colour">colour</A> of the specified <A HREF="#scenes.html">scene</A> element.
</P>
<P>
See also: action <A HREF="#help/ah_scene_element_background_colour.html">Element Back Colour</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="elemBorder" />
<H5>elemBorder</H5>

<P>
<CODE>var ok = elemBorder( str scene, str element, int width, str colour )</CODE>
</P>

<P>
Set the border <A HREF="#colour">colour</A> and width of the specified <A HREF="#scenes.html">scene</A> element.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="elemPosition" />
<H5>elemPosition</H5>

<P>
<CODE>var ok = elemPosition( str scene, str element, str orientation, int x, int y, int animMS )</CODE>
</P>

<P>
Move an element within it's scene.
</P>

<P>
<I>orientation</I> must be one of <B>port</B> or <B>land</B>. <I>animMS</I> indicates the duration of the corresponding animation in MS. A zero-value indicates no animation.
</P>
<P>
See also: action <A HREF="#help/ah_scene_element_position.html">Element Position</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="elemText" />
<H5>elemText</H5>

<P>
<CODE>var ok = elemText( str scene, str element, str position, str text )</CODE>
</P>

<P>
Set the text of the specified <A HREF="#scenes.html">scene</A> element.
</P>
<P>
<I>pos</I> must be one of <B>repl</B> (replace existing text completely), <B>start</B>
(insert before existing text) or <B>end</B> (append after existing text).
</P>
<P>
See also: action <A HREF="#help/ah_scene_element_text.html">Element Text</A>.
</P>
<!-- ___________________________________________________________________ -->

<A NAME="elemTextColour" />
<H5>elemTextColour</H5>

<P>
<CODE>var ok = elemTextColour( str scene, str element, str colour )</CODE>
</P>

<P>
Set the text  <A HREF="#colour">colour</A> of the specified <A HREF="#scenes.html">scene</A> element.
</P>
<P>
See also: action <A HREF="#help/ah_scene_element_text_colour.html">Element Text Colour</A>.
</P>


<!-- ___________________________________________________________________ -->

<A NAME="elemTextSize" />
<H5>elemTextSize</H5>

<P>
<CODE>var ok = elemTextSize( str scene, str element, int size )</CODE>
</P>

<P>
Set the text size of the specified <A HREF="#scenes.html">scene</A> element.
</P>
<P>
See also: action <A HREF="#help/scene_element_text_size.html">Element Text Size</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="elemVisibility" />
<H5>elemVisibility</H5>

<P>
<CODE>var ok = elemVisibility( str scene, str element, boolean visible, int animationTimeMS )</CODE>
</P>

<P>
Make the specified <A HREF="#scenes.html">scene</A> element visible or invisible.
</P>
<P>
See also: action <A HREF="#help/ah_scene_element_visibility.html">Element Visibility</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="endCall" />
<H5>endCall</H5>

<P>
<CODE>var ok = endCall()</CODE>
</P>

<P>
Terminate the current call (if there is one).
</P>

<!-- ___________________________________________________________________ -->

<A NAME="encryptFile" />
<H5>encryptFile</H5>

<P>
<CODE>var ok = encryptFile( str path, str keyName, bool rememberKey, bool shredOriginal )</CODE>
</P>

<P>
Encrypt the specified file using the encryption parameters specified in <CODE>Menu / Prefs / Action</CODE>.
</P>

<P>
If <I>rememberKey</I> is set, the entered passphrase will be reapplied automatically to the
next encryption/decryption operation with the specified <I>keyName</I>.
</P>
<P>
If <I>shredOriginal</I> is specified, the original file will be overwritten several
times with random bits if encryption is successful.
</P>
<P>See Also: <A HREF="#encryption.html">Encryption</A> in the Userguide, 
<A HREF="#help/ah_encrypt_file.html">Encrypt File</A> action.</P>

<!-- ___________________________________________________________________ -->

<A NAME="enterKey" />
<H5>enterKey</H5>

<P>
<CODE>var ok = enterKey( str title, str keyName, bool showOverKeyguard, bool confirm, str background, str layout, int timeoutSecs )</CODE>
</P>

<P>
Show a dialog to enter the passphrase for the specified <I>keyName</I>. The JavaScript waits 
until the dialog has been dismissed or the timeout reached.
</P>

<UL>
<LI><I>confirm</I>: if set, the passphrase must be entered twice to ensure it is correct.
<LI><I>background</I>: [optional] a file path or file URI to a background image.
<LI><I>layout</I>: the name of a user-created <A HREF="#scenes.html">scene</A> to use in place of the built-in scene.
</UL>

<P>See Also: <A HREF="#encryption.html">Encryption</A> in the Userguide</P>

<!-- ___________________________________________________________________ -->

<A NAME="filterImage" />
<H5>filterImage</H5>

<P>
<CODE>bool ok = filterImage( str mode, int value )</CODE>
</P>

<P>
Filter an image previously loaded into Tasker's image buffer via
<A HREF="#loadImage">loadImage()</A></P>
</P>


<P>
Possible values of <I>mode</I> are:
</P>

<UL>
<LI><B>bw</B>: convert to black &amp; white, using <I>value</I> as a threshold
<LI><B>eblue</B>: enhance blue values by <I>value</I>
<LI><B>egreen</B>: enhance green values by <I>value</I>
<LI><B>ered</B>: enhance red values by <I>value</I>
<LI><B>grey</B>: convert to greyscale, <I>value</I> is unused
<LI><B>alpha</B>: set pixel alpha (opposite of transparency) to <I>value</I>
</UL>

<P><I>value</I> should be 1-254.</P>
<!-- ___________________________________________________________________ -->

<A NAME="flipImage" />
<H5>flipImage</H5>

<P>
<CODE>bool ok = flipImage( bool horizontal )</CODE>
</P>

<P>
Flip an image previously loaded into Tasker's image buffer via
<A HREF="#loadImage">loadImage()</A></P>
</P>
<P>
If <I>horizontal</I> is false, the image is flipped vertically.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="exit" />
<H5>exit</H5>

<P>
<CODE>exit()</CODE>
</P>

<P>
Stop execution of the JavaScript.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="flash" />
<H5>flash</H5>

<P>
<CODE>flash( str message )</CODE>
</P>

Flash a short-duration Android 'Toast' message.

<!-- ___________________________________________________________________ -->

<A NAME="flashLong" />
<H5>flashLong</H5>

<P>
<CODE>flashLong( str message )</CODE>
</P>

Flash a long-duration Android 'Toast' message.

<!-- ___________________________________________________________________ -->

<A NAME="getLocation" />
<H5>getLocation</H5>

<P>
<CODE>var ok = getLocation( str source, bool keepTracking, int timeoutSecs )</CODE>
</P>

<P>
Try to get a fix of the current device location.
</P>
<P><I>source</I> must be one of <B>gps, net</B> or <B>any</B>.
</P>
<P>
If <I>keepTracking</I> is set, the specified source(s) will be left tracking
with the purpose of providing a much quicker fix next time the function is
called.
</P>
<P>
Fix coordinates are stored in the global Tasker variables <B>%LOC</B> (GPS) and/or <B>%LOCN</B> (Net).
The value can be retrieved with the <A HREF="#global">global</A> function. Several other
parameters of the fix are also available, see <A HREF="#variables.html">Variables</A>.
</P>

<P>Example</P>
<PRE>
<CODE>
	var lastFix = global( 'LOC' );
	if ( 
		getLocation( 'gps' ) &&
		( global( 'LOC' ) != lastFix ) 
	) {
		flash( "New fix: " + global( 'LOC' ) );
	}
</CODE>
</PRE>

<P>
See also: action <A HREF="#help/ah_get_fix.html">Get Location</A>, function <A HREF="#stopLocation">stopLocation</A>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="getVoice" />
<H5>getVoice</H5>

<P>
<CODE>str result = getVoice( str prompt, str languageModel, int timeout )</CODE>
</P>

<P>
Get voice input and convert to text.
</P>
<P>
<I>result</I> is 'undefined' if the voice acquisition failed, otherwise
it's an array of possible matching texts.
</P>
<P>
<I>prompt</I> is a label for the dialog that is shown during voice acquisition.
</P>
<P>
<I>languageMode</I> gives the speech recognition engine a clue as to the
context of the speech. It must be one of <B>web</B> for 'web search' or
<B>free</B> for 'free-form'.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="goHome" />
<H5>goHome</H5>

<P>
<CODE>goHome( int screenNum )</CODE>
</P>

<P>
Go to the Android home screen. <I>screenNum</I> is not supported by all
home screens.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="haptics" />
<H5>haptics</H5>

<P>
<CODE>var ok = haptics( bool onFlag )</CODE>
</P>
<P>
Enable/disable system setting Haptic Feedback.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="hideScene" />
<H5>hideScene</H5>

<P>
<CODE>var ok = hideScene( str sceneName )</CODE>
</P>
<P>
Hide the named <A HREF="#scenes.html">scene</A> if it's visible.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="global" />
<H5>global</H5>

<CODE>var value = global( str varName )</CODE>

<P>
Retrieve the value of a Tasker global variable. Prefixing the name with % is optional.
</P>
<P>
Example:
</P>

<PRE><CODE>
	flash( global( '%DogName' ) );
</CODE></PRE>

<!-- ___________________________________________________________________ -->

<A NAME="listFiles" />
<H5>listFiles</H5>

<P>
<CODE>str files = listFiles( str dirPath, bool hiddenToo )</CODE>
</P>

<P>
List all files in the specified <I>dirPath</I>.
</P>
<P>
<I>files</I> is a newline-separated list of subfiles.
</P>
<P>
If no files or found or an error occurs, the returned value will be <code>undef</code>.
</P>


</P>If <I>hiddenToo</I> is specified, files starting with period are
included, otherwise they are not.
</P>

<P>Example:
</P>
<PRE>
	var files = listFiles( '/sdcard' );
	var arr = files.split( '\n' );
	flash( 'Found ' + arr.length + ' files' );
</PRE>

<!-- ___________________________________________________________________ -->

<A NAME="loadApp" />
<H5>loadApp</H5>

<P>
<CODE>var ok = loadApp( str name, str data, bool excludeFromRecents )</CODE>
</P>

<P>
Start up the named app.
</P>

<P>
<I>Name</I> can be a package name or app label, it's tested first against
known package names. <B>Note</B>: app label could be localized to another
language if the script is used in an exported app.
</P>
<P>
<I>Data</I> is in URI format and app-specific.
</P>
<P>
When <I>excludeFromRecents</I> is true, the app will not appear in the home screen
'recent applications' list.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="loadImage" />
<H5>loadImage</H5>

<P>
<CODE>var ok = loadImage( str uri )</CODE>
</P>

<P>
Load an image into Tasker's internal image buffer.
</P>
<P>
The following uri formats are currently supported:
</P>

<UL>
	<LI><I>file://</I> followed by a local file path
</UL>

<P>
See also <A HREF="#help/ah_load_image.html">Load Image</A> action.</P>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="lock" />
<H5>lock</H5>

<P>
<CODE>var ok = lock( str title, str code, bool allowCancel, bool rememberCode, bool fullScreen, str background, str layout )</CODE>
</P>

<P>
Show a lock screen, preventing user interaction with the covered part of the screen. The JavaScript waits until the 
code has been entered or the lock cancelled (see below).
</P>
<UL>
<LI><I>code</I>: the numeric code which must be entered for unlock
<LI><I>allowCancel</I>: show a button to remove the lockscreen, which causes a return to the Android home screen
<LI><I>rememberCode</I>: the code will be remembered and automatically entered when the lock screen is show in future,
until the display next turns off
<LI><I>background</I>: [optional] a file path or file URI to a background image.
<LI><I>layout</I>: the name of a user-created <A HREF="#scenes.html">scene</A> to use in place of the built-in lock scene
</UL>

<!-- ___________________________________________________________________ -->

<A NAME="local" />
<H5>local</H5>

<CODE>var value = local( str varName )</CODE>

<P>
Retrieve the value of a Tasker scene-local variable. The name should <B>not</B> be
prefixed with <I>%</I>.
</P>

<P>
This function is only for use by JavaScript embedded in HTML and accessed via
a WebView scene element.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="mediaControl" />
<H5>mediaControl</H5>

<CODE>var ok = mediaControl( str action )</CODE>

<P>
Control media via simulation of hardware buttons.
</P>
<P>
Possible <I>action</I>s are <B>next, pause, prev, toggle, stop</B> or <B>play</B>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="micMute" />
<H5>micMute</H5>

<CODE>var ok = micMute( bool shouldMute )</CODE>

<P>
Mute or unmute the device's microphone (if present),
</P>

<!-- ___________________________________________________________________ -->

<A NAME="mobileData" />
<H5>mobileData</H5>

<CODE>var ok = mobileData( bool set )</CODE>

<P>
Enable or disable the system Mobile Data setting.
</P>
<P>
See also: action <A HREF="#help/ah_mobile_data_direct.html">Mobile Data</A> 

<!-- ___________________________________________________________________ -->

<A NAME="musicBack" />
<H5>musicBack</H5>

<CODE>var ok = musicBack( int seconds )</CODE>

<P>
Skip back by <I>seconds</I> during playback of a music file previously started by <A HREF="#musicPlay">musicPlay</A>.
</P>
<P>
See also: <A HREF="#musicSkip">musicSkip</A>, <A HREF="#musicStop">musicStop</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="musicPlay" />
<H5>musicPlay</H5>

<CODE>var ok = musicPlay( str path, int offsetSecs, bool loop, str stream )</CODE>

<P>
Play a music file via Tasker's internal music player.
</P>

<P>
<I>stream</I> to which <A HREF="#streams">audio stream</A> the music should be played
</P>

<P>This function does <B>not</B> not wait for completion.</P>

<P>The last 3 arguments may be ommitted, in which case they default to <B>0</B>,
<B>false</B> and <B>media</B> respectively.
</P>

<P>
See also: <A HREF="#musicStop">musicStop</A>, <A HREF="#musicBack">musicBack</A>,
<A HREF="#musicSkip">musicSkip</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="musicSkip" />
<H5>musicSkip</H5>

<CODE>var ok = musicSkip( int seconds )</CODE>

<P>
Skip forwards by <I>seconds</I> during playback of a music file previously started by <A HREF="#musicPlay">musicPlay</A>.
</P>
<P>
See also: <A HREF="#musicBack">musicBack</A>, <A HREF="#musicStop">musicStop</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="musicStop" />
<H5>musicStop</H5>

<CODE>var ok = musicStop()</CODE>

<P>
Stop playback of a music file previously started by <A HREF="#musicPlay">musicPlay</A>.
</P>
<P>
See also: <A HREF="#musicBack">musicBack</A>, <A HREF="#musicSkip">musicSkip</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="nightMode" />
<H5>nightMode</H5>

<P>
<CODE>var ok = nightMode( bool onFlag )</CODE>
</P>
<P>
Turn on or off Android Night Mode.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="popup" />
<H5>popup</H5>

<P>
<CODE>var ok = popup( str title, str text, bool showOverKeyguard, str background, str layout, int timeoutSecs )</CODE>
</P>

<P>
Show a popup dialog. The JavaScript waits until the popup has been dismissed or the timeout reached.
</P>
<UL>
<LI><I>background</I>: [optional] a file path or file URI to a background image.
<LI><I>layout</I>: the name of a user-created <A HREF="#scenes.html">scene</A> to use in place of the built-in popup scene.
</UL>

<!-- ___________________________________________________________________ -->

<A NAME="performTask" />
<H5>performTask</H5>

<CODE>var ok = performTask( str taskName, int priority, str parameterOne, str parameterTwo )</CODE>

<P>
Run the Tasker task <I>taskName</I>.
</P>
<P>
Note that the JavaScript does not wait for the task to complete.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="profileActive" />
<H5>profileActive</H5>

<CODE>bool active = profileActive( str profileName )</CODE>

<P>
Whether the named Tasker profile is currently active. Returns false if
the profile name is unknown.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="pulse" />
<H5>pulse</H5>

<CODE>bool ok = pulse( bool onFlag )</CODE>

<P>
Enable or disable the Android Notification Pulse system setting.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="readFile" />
<H5>readFile</H5>

<CODE>var contents = readFile( str path )</CODE>

<P>
Read the contents of a text file.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="reboot" />
<H5>reboot</H5>

<CODE>var ok = reboot( str type )</CODE>

<P>
Reboot the device.
</P>
<P><I>type</I> is one of <B>normal, recovery</B> or <B>bootloader</B>.
It can be ommitted and defaults to <B>normal</B>.
<P>
Requires a rooted device.
</P>

<P>
See also: function <A HREF="#shutdown">shutdown</A>

<!-- ___________________________________________________________________ -->

<A NAME="resizeImage" />
<H5>resizeImage</H5>

<CODE>var ok = resizeImage( int width, int height )</CODE>

<P>
Scale the current image in Tasker's image buffer to the specified dimensions.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="rotateImage" />
<H5>rotateImage</H5>

<CODE>var ok = rotateImage( str dir, int degrees )</CODE>

<P>
Rotate the current image in Tasker's image buffer.
</P>
<P>
<I>dir</I> must be one of <B>left</B> or <B>right</B>.
<I>degrees</I> must be one of <B>45, 90, 135</B> or <B>180</B>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="saveImage" />
<H5>saveImage</H5>

<CODE>var ok = saveImage( str path, int qualityPercent, bool deleteFromMemoryAfter  )</CODE>

<P>
Save the current image in Tasker's image buffer to the specified file <I>path</I>.
</P>
<P>
<A HREF="#help/ah_save_image.html">Save Image</A> action.</P>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="say" />
<H5>say</H5>

<CODE>var ok = say( str text, str engine, str voice, str stream, int pitch, int speed )</CODE>

<P>
Cause the device to say <I>text</I> out loud.
</P>
<UL>
<LI><I>engine</I>: the speech engine e.g. <B>com.svox.classic</B>  Defaults to the system default (specify <I>undefined</I> for that)
<LI><I>voice</I>: the voice to use (must be supported by <I>engine</I>). Defaults to the current system language (specify <I>undefined</I> for that)
<LI><I>stream</I>: to which <A HREF="#streams">audio stream</A> the speech should be made
<LI><I>pitch</I>: 1-10
<LI><I>speed</I>: 1-10
</UL>
<P>
The script waits for the speech to be finished.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="sendIntent" />
<H5>sendIntent</H5>

<CODE>var ok = sendIntent( str action, str targetComp, str package, str class, str category, str data, str mimeType, str[] extras );</CODE>

<P>
Send an intent. Intents are Android's high-level application interaction system.
</P>
<P>
Any parameter may be specified as undefined.
</P>
<UL>
<LI><I>targetComp</I>: the type of application component to target, one of <B>receiver, activity</B> or <B>service</B>.
Defaults to <B>receiver</B>.
<LI><I>package</I>: the application package to limt the intent to
<LI><I>class</I>: the application class to limit the intent to
<LI><I>category</I>: one of <B>none, alt, browsable, cardock, deskdock, home, info, launcher, preference, selectedalt, tab</B> or <B>test</B>,
defaults to <B>none</B>
<LI><I>extras</I>: extra data to pass, in the format </I>key:value</I>. May be undefined. Maximum length 2.
</UL>

<P>
See also: action <A HREF="#help/ah_send_intent.html">Send Intent</A>.
</P>
<!-- ___________________________________________________________________ -->

<A NAME="sendSMS" />
<H5>sendSMS</H5>

<CODE>var ok = sendSMS( str number, str text, boolean storeInMessagingApp );</CODE>

<P>
Send an SMS.
</P>

<P>
See also: action <A HREF="#help/ah_send_sms.html">Send SMS</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setAirplaneMode" />
<H5>setAirplaneMode</H5>

<CODE>var ok = setAirplaneMode( bool setOn )</CODE>

<P>
Enable or disable Airplane Mode.
</P>


<P>
Get the current value with:
</P>

<P>
<CODE>
var enabled = global( 'AIR' );
</CODE>
</P>
<P>See also: function <A HREF="#setAirplaneRadios">setAirplaneRadios</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setAirplaneRadios" />
<H5>setAirplaneRadios</H5>

<CODE>var ok = setAirplaneRadios( str disableRadios )</CODE>

<P>
Specify the radios which will be <B>disabled</B> when the device enters
Airplane Mode.
</P>

<P><I>disableRadios</I> is a comma-separated list with radio names from
the following set: <B>cell, nfc, wifi, wimax, bt</B>.
</P>

<P>
Get the current value with:
</P>

<P>
<CODE>
var radios = global( 'AIRR' );
</CODE>
</P>

<P>See also: function <A HREF="#setAirplaneMode">setAirplaneMode</A>
</P>


<!-- ___________________________________________________________________ -->

<A NAME="setAlarm" />
<H5>setAlarm</H5>

<CODE>var ok = setAlarm( int hour, int min, str message, bool confirmFlag )</CODE>

<P>
Create an alarm in the default alarm clock app.
</P>
<P> <I>confirmFlag</I> specifies whether the app should confirm that the alarm has been set.  </P>
<P><I>message</I> is optional. <P>
Requires Android version 2.3+.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setAutoSync" />
<H5>setAutoSync</H5>

<CODE>var ok = setAutoSync( bool setOn )</CODE>

<P>
Enable or disable the global auto-sync setting.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="scanCard" />
<H5>scanCard</H5>

<P>
<CODE>var ok = scanCard( str path )</CODE>
</P>

<P>
Force the system to scan the external storage card for new/deleted media.
</P>
<P>
If <I>path</I> is defined, only that will be scanned.
</P>
<P>
See also: action <A HREF="#help/ah_scan_card.html">Scan Card</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setBT" />
<H5>setBT</H5>

<P>
<CODE>var ok = setBT( bool setOn )</CODE>
</P>

<P>
Enable or disable the Bluetooth radio (if present).
</P>
<P>
Test BT state with:
</P>
<P>
<CODE>
if ( global( 'BLUE' ) == "on" ) { doSomething(); }
</CODE>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setBTID" />
<H5>setBTID</H5>

<P>
<CODE>var ok = setBTID( str toSet )</CODE>
</P>

<P>
Set the bluetooth adapter ID (the name as seen by other devices).
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setGlobal" />
<H5>setGlobal</H5>

<CODE>setGlobal( str varName, str newValue )</CODE>

<P>
Set the value of a Tasker global user variable. Prefixing varName with % is optional.
</P>
<P>
Arrays are <B>not</B> supported due to limitations of the Android JS interface.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setKey" />
<H5>setKey</H5>

<CODE>var ok = setKey( str keyName, str passphrase  )</CODE>

<P>
Set the passphrase for the specified <I>keyName</I>.
</P>
<P>See Also: <A HREF="#encryption.html">Encryption</A> in the Userguide.</P>

<!-- ___________________________________________________________________ -->

<A NAME="setLocal" />
<H5>setLocal</H5>

<CODE>setLocal( str varName, str newValue )</CODE>

<P>
Set the value of a Tasker <B>scene-local</B> user variable. Variable names should <B>not</B>
be prefixed with <I>%</I>.
</P>
<P>
This function is only for use by JavaScript embedded in HTML and accessed via
a WebView scene element.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setClip" />
<H5>setClip</H5>

<CODE>var ok = setClip( str text, bool appendFlag )</CODE>

<P>
Set the global system clipboard.
</P>
<P>
Test the value with:
<P>
<CODE>
var clip = global( 'CLIP' );
</CODE>
</P>
<!-- ___________________________________________________________________ -->

<A NAME="settings" />
<H5>settings</H5>

<CODE>var ok = settings( str screenName )</CODE>

<P>
Show an Android System Settings screen.
</P>
<P><I>screenName</I> must be one of <B>all, accessibility, addacount, airplanemode, 
apn, app, batteryinfo, appmanage
bluetooth, date, deviceinfo, dictionary, display, inputmethod, internalstorage,
locale, location, memorycard, networkoperator, powerusage, privacy, quicklaunch, 
security, mobiledata, search, sound, sync, wifi, wifiip</B> or <B>wireless</B>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setWallpaper" />
<H5>setWallpaper</H5>

<CODE>var ok = setWallpaper( str path )</CODE>

<P>
Set the system home screen wallpaper.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="setWifi" />
<H5>setWifi</H5>

<P>
<CODE>var ok = setWifi( bool setOn )</CODE>
</P>

<P>
Enable or disable the Wifi radio (if present).
</P>
<P>
Test wifi state with:
</P>
<P>
<CODE>
if ( global( 'WIFI' ) == "on" ) { doSomething(); }
</CODE>
</P>


<!-- ___________________________________________________________________ -->

<A NAME="shell" />
<H5>shell</H5>

<CODE>var output = shell( str command, bool asRoot, int timoutSecs )</CODE>

<P>
Run the shell command <I>command</I>.
</P>
<P>
<I>asRoot</I> will only have effect if the device is rooted.
</P>
<P>
<I>output</I> is 'undefined' if the shell command failed. It's maximum size is
restricted to around 750K.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="showScene" />
<H5>showScene</H5>

<CODE>var ok = showScene( str name, str displayAs, int hoffset, int voffset, bool showExitIcon, bool waitForExit )</CODE>

<P>
Show the named <A HREF="#scenes.html">scene</A>, creating it first if necessary.
</P>
<UL>
<LI><I>displayAs</I>: options: <CODE>Overlay, OverBlocking, OverBlockFullDisplay, Dialog, DialogBlur, DialogDim, 
			ActivityFullWindow, ActivityFullDisplay, ActivityFullDisplayNoTitle</CODE>
<LI><I>hoffset, voffset</I>: percentage vertical and horizontal offset for the scene -100% to 100% (not relevant for
full screen/window display types)
<LI><I>showExitIcon</I>: display a small icon in the bottom right which destroys the scene when pressed
<LI><I>waitForExit</I>: whether to wait for the scene to exit before continuing the script
</UL>

<!-- ___________________________________________________________________ -->

<A NAME="shutdown" />
<H5>shutdown</H5>

<CODE>var ok = shutdown()</CODE>

<P>
Shutdown the device.
</P>
<P>
Requires a rooted device.
</P>

<P>See also: <A HREF="#reboot">reboot</A></P>

<!-- ___________________________________________________________________ -->

<A NAME="silentMode" />
<H5>silentMode</H5>

<CODE>var ok = silentMode( str mode )</CODE>

<P>
Set the system silent ('ringer') mode.
</P>
<P><I>mode</I> must be one of <B>off, vibrate</B> or <B>on</B></P>

<!-- ___________________________________________________________________ -->

<A NAME="sl4a" />
<H5>sl4a</H5>

<CODE>var ok = sl4a( str scriptName, boolean inTerminal )</CODE>

<P>
Run a previously created <A HREF="https://code.google.com/p/android-scripting/">SL4A</A> script.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="soundEffects" />
<H5>soundEffects</H5>

<CODE>var ok = soundEffects( bool setTo )</CODE>

<P>
Setting the system <I>Sound Effects</I> setting (sound from clicking on
buttons etc.
</P>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="speakerphone" />
<H5>speakerphone</H5>

<CODE>var ok = speakerPhone( bool setFlag )</CODE>

<P>
Enable or disable the speakerphone function.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="statusBar" />
<H5>statusBar</H5>

<CODE>var ok = statusBar( bool expanded )</CODE>

<P>
Expand or contract the system status bar.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="stayOn" />
<H5>stayOn</H5>

<CODE>var ok = stayOn( str mode )</CODE>

<P>
Specify whether the device should remain on when power is connected.
</P>
<P>
Possible <I>mode</I>s are <B>never, ac, usb, any</B>.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="stopLocation" />
<H5>stopLocation</H5>

<CODE>var ok = stopLocation()</CODE>

<P>
Stop tracking a location provider. This is only relevant when a <A HREF="#getLocation">getLocation</A>
function has been previously called with the <I>keepTracking</I> parameter set.
</P>

<!-- ___________________________________________________________________ -->

<!-- A NAME="stopTask" />
<H5>stopTask</H5>

<CODE>var ok = stopTask( bool err )</CODE>

<P>
Stop the task (and therefore also the JavaScript) that the JavaScript is part off
</P -->

<!-- ___________________________________________________________________ -->

<A NAME="systemLock" />
<H5>systemLock</H5>

<CODE>var ok = systemLock()</CODE>

<P>
Turn off the display and activate the keyguard.
</P>
<P>
Requires Tasker's Device Administrator to be enabled in Android settings.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="taskRunning" />
<H5>taskRunning</H5>

<CODE>bool running = taskRunning( str taskName )</CODE>

<P>
Whether the named Tasker task is currently running. Returns false if
the task name is unknown.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="takeCall" />
<H5>takeCall</H5>

<P>
<CODE>bool ok = takeCall();</CODE>
</P>

<P>
Auto-accept an incoming call (if there is one).
</P>

<!-- ___________________________________________________________________ -->

<A NAME="takePhoto" />
<H5>takePhoto</H5>

<P>
<CODE>bool ok = takePhoto( int camera, str fileName, str resolution, bool insertGallery )</CODE>
</P>

<P>
Take a photo with the builtin camera.
</P>
<UL>
<LI><I>camera</I>: 0 = rear camera, 1 = front camera
<LI><I>resolution</I>: format WxH e.g. 640x840
<LI><I>insertGallery</I>: whether to insert the resulting picture in the Android Gallery application
</UL>

<P>
See also: action <A HREF="#help/ah_take_photo.html">Take Photo</A>
</P>
<!-- ___________________________________________________________________ -->

<A NAME="type" />
<H5>type</H5>

<P>
<CODE>var ok = type( str text, int repeatCount )</CODE>
</P>
<P>
Simulate keyboard typing.
</P>

<P>
Requires a rooted device.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="unzip" />
<H5>unzip</H5>

<CODE>boolean ok = unzip( str zipPath, bool deleteZipAfter )</CODE>

<P>
Unpack a Zip archive into the parent directory of the archive.
</P>
<P>
<I>deleteZip</I> causes the zip archive to be deleted after successful
unpacking.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="usbTether" />
<H5>usbTether</H5>

<CODE>usbTether( bool set )</CODE>

<P>
Enable or disable USB tethering.
</P>

<P>
See also: action <A HREF="#help/ah_tether_usb.html">USB Tether</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="vibrate" />
<H5>vibrate</H5>

<CODE>vibrate( int durationMilliseconds )</CODE>

<P>
Cause the device to vibrate for the specified time.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="vibratePattern" />
<H5>vibratePattern</H5>

<CODE>vibratePattern( str pattern )</CODE>

<P>
Cause the device to vibrate following the specified <I>pattern</I>, which
consists of a sequence of off then on millisecond durations e.g.
</P>
<P>
<CODE>500,1000,750,1000</CODE>
</P>
<P>
wait for 500ms, vibrates 1000ms, wait for 750ms, then vibrate for 1000ms.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="wait" />
<H5>wait</H5>

<CODE>wait( int durationMilliseconds )</CODE>

<P>
Pause the script for the specified time.
</P>

<P>
Warning: may cause some preceeding functions not to complete in some situations.
If in doubt, use JavaScript setTimeout() instead.
</P>

<!-- ___________________________________________________________________ -->

<A NAME="wifiTether" />
<H5>wifiTether</H5>

<CODE>var ok = wifiTether( bool set )</CODE>

<P>
Enable or disable Wifi tethering.
</P>

<P>
See also: action <A HREF="#help/ah_tether_wifi.html">Wifi Tether</A>
</P>

<!-- ___________________________________________________________________ -->

<A NAME="writeFile" />
<H5>writeFile</H5>

<CODE>var ok = writeFile( str path, str text, bool append )</CODE>

<P>
Write <I>text</I> to file <I>path</I>.
</P>
<P>If <I>append</I> is specified, the text will be attached to the
end of the existing file contents (if there are any).
</P>

<!-- ___________________________________________________________________ -->

<A NAME="zip" />
<H5>zip</H5>

<CODE>boolean ok = zip( str path, int level, bool deleteOriginalAfter )</CODE>

<P>
Zip a file or directory. 
</P>
<P>
<I>level</I> is the desired compression level from 1-9, with 9 resulting
in the smallest file and the longest compression time.
</P>
<P>
<I>deleteOriginal</I> causes <I>path</I> to be deleted if the zip operation
is successful.
</P>


<!-- ___________________________________________________________________ -->

<A NAME="notes" />
<H3>Notes</H3>

<A NAME="streams">
<H4>Audio Streams</H4>

Must be one of <B>call, system, ringer, media, alarm</B> or <B>notification</B>

<A NAME="colour">
<H4>Colours</H4>

Colours are specified in <I>AARRGGBB</I> hexadecimal format, with solid white being <B>FFFFFFFF</B>.

<A NAME="paths" />
<H4>File Paths</H4>

File paths can be specified as either absolute (start with <B>/</B>) or
relative (don't start with <B>/</B>). 
<P>
Relative file paths are relative to the root of the internal storage media. 
So, for example, <CODE>pics/me.jpg</CODE> might resolve
to <CODE>/sdcard/pics/me.jpg</CODE>.
</P>

<A NAME="loctears.html"/>

<H2>
	Location Without Tears
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>


<P>
This is an overview guide to choosing a method for fixing your location with Tasker. At the end are
some <A HREF="#adv">advanced power-saving strategies</A>.
</P>

<H2>Power / Accuracy Comparison</H2>

<TABLE CELLPADDING="5">
<TR>
	<TH ALIGN="left">Method</TH>			<TH>Power Usage</TH> <TH>Acc</TH> <TH>Network</TH> <TH>Wifi</TH> <TH>BT</TH>
</TR>

<TR>
	<TD><A HREF="#cell">State: Cell Near</A></TD>		<TD>*</TD> 		<TD>*</TD>   <TD></TD> <TD></TD> <TD></TD>
</TR>

<TR>
	<TD><A HREF="#btnear">State: BT Near</A></TD>	<TD>**</TD> 		<TD>*****</TD> <TD></TD> <TD></TD> <TD>Y</TD>
</TR>

<TR>
	<TD><A HREF="#net">Location: Net</A></TD>		<TD>**</TD> 		<TD>**</TD> <TD>Y</TD><TD></TD> <TD></TD>
</TR>

<TR>
	<TD><A HREF="#netwifi">Location: Net &amp; Wifi</A></TD><TD>***</TD> <TD>*/*****</TD> <TD>Y</TD> <TD>Y</TD> <TD></TD>
</TR>


<TR>
	<TD><A HREF="#near">State: Wifi Near</A></TD>	<TD>****</TD> 		<TD>*****</TD> <TD></TD> <TD>Y</TD> <TD></TD>
</TR>

<TR>
	<TD><A HREF="#gps">Location: GPS</A></TD>		<TD>*****</TD> 		<TD>*****</TD> <TD>Y</TD> <TD></TD> <TD></TD>
</TR>

</TABLE>

<P>
More stars mean higher power usage or higher accuracy (Acc).
</P>

<H2>Detail Comparison</H2>

<A NAME="cell"/>
<H3>State: Cell Near</H3>

<H5>Setup</H5>

Create a <B>state context</B>, select <B>Phone</B> then <B>Cell Near</B>. Click Update and walk around a bit to scan for cell towers nearby.

<H5>About</H5>

Uses information about the cell towers the phone uses for telephony to record and match a location.

<P>
When the display is off, frequency of checks is controlled by <CODE>Prefs / Monitor / Display Off All Checks</CODE>.
</P>
<P>If your profile keeps deactivating, go back to the Cell Near state and click the magnifying glass icon to check
for cells you may have missed in your scan.
</P>

<H5>Plus / Minus</H5>

<UL>
	<LI>(+) virtually no extra power on top of power needed for normal phone service
	<LI>(+) when the display is on, context updates as soon as the tower is visible
	<LI>(+) when the display is off, only one check period is needed to determine context exit
	<LI>(-) highly inaccurate
	<LI>(-) must be physically at the location in order to record it
</UL>

<H5>Other Settings</H5>

<UL>
	<LI><CODE>Monitor / General Monitoring / Use New Cell API</CODE>: if you're not seeing any cells at all when scanning on a modern device, try checking this
	<LI><CODE>Monitor / Display Off Monitoring / Cell Workaround</CODE>: if things aren't working when the display is off
	<LI><CODE>Monitor / Display Off Monitoring / Cell Wake Screen</CODE>: second possible workaround when the display is off
</UL>

<A NAME="btnear"/>
<H3>State: BT Near</H3>

<H5>Setup</H5>

Create a <B>State context</B>, click <B>BT Near</B> (in the Net category), fill in the name or address of a bluetooth device near the location you want to identify.

<H5>About</H5>

<P>
BT Near does regular bluetooth Scans and will activate when it recognizes a device  you have configured
is nearby. Note: you don't have to connect to the device, so it doesn't have to be a device you own.
</P>

<P>
Frequency of checks is controlled by <CODE>Prefs / Monitor / BT Scan Seconds</CODE> (screen on) and <CODE>Prefs / Monitor / Display Off All Checks</CODE> (screen off).
</P>

<P>
Check the <B>BT Toggle</B> box if you don't want bluetooth enabled all the time. It will then be toggled when Tasker needs to do a scan.
</P>

<P>
If your target device is a low-energy device, deselect <B>Standard Devices</B> to reduce energy usage. If you can pair with the target device, you can have a major reduction in power usage and scan times by not selecting <B>Non-Paired Devices</B>.
</P>

<H5>Plus / Minus</H5>

<UL>
    	<LI>(+) very good accuracy, reliability
	<LI>(+) modest power usage, especially for paired devices
     	<LI>(+) works indoors too
     	<LI>(-) need a known device nearby
</UL>

<H5>Other Settings</H5>

<UL>
	<LI><CODE>Prefs / Monitor / Display Off Monitoring / Motion Detection</CODE>: if available on your device, will need to be disabled if you wish to detect a nearby BT device that may move or turn off or on
</UL>

<A NAME="net"/>
<H3>Location: Net</H3>

<H5>Setup</H5>

Create a location context, and deselect GPS.

<H5>About</H5>

<P>
Net location accuracy varies greatly. It's <B>very important</B> that you create a <b>large radius</b> around
the spot you wish to detect.
</P>
<P>
Frequency of checks is controlled by <CODE>Prefs / Monitor / Network Location Check</CODE> (screen on)
and <CODE>Prefs / Monitor / Display Off All Checks</CODE>.
</P>

<A HREF="#loccontext.html">More Info</A>.

<H5>Plus / Minus</H5>

<UL>
	<LI>(+) extremely low (extra) power (IF network is available anyway)</LI>
	<LI>(-) requires network and phone service</LI>
	<LI>(-) highly inaccurate and variable fixes</LI>
</UL>

<A NAME="netwifi"/>
<H3>Location: Net &amp; Wifi</H3>

<H5>Setup</H5>

Create a location context and deselect GPS. Make sure your device's Wifi is turned on
when you want a more accurate location fix.

<H5>About</H5>
<P>
Net location can be assisted by nearby access points when Wifi is turned on (Google has
a map of APs for many areas).
</P>

<P>Turn Wifi off when not needed to conserve power e.g. use a Time context to turn wifi off at night.</P>
<H5>Plus / Minus</H5>

<UL>
    <LI>(+) very good accuracy in built-up areas for relatively low power usage
   	<LI>(-) must be physically at the location in order to record it
</UL>

<A NAME="near"/>
<H3>State: Wifi Near</H3>

<H5>Setup</H5>

Create a <B>State context</B>, click <B>Wifi Near</B> (in the Net category), fill in the SSID of an Access Point (AP)
with the best signal near where you want to identify.

<H5>About</H5>

<P>
Wifi Near does regular Wifi Scans and will activate when it recognizes an AP you have configured
is nearby. Note: you don't have to connect to the AP. You could configure e.g. the neighbours AP
if the signal is strong enough.
</P>


<P>
Frequency of checks is controlled by <CODE>Prefs / Monitor / Wifi Scan Seconds</CODE> (screen on) and <CODE>Prefs / Monitor / Display Off All Checks</CODE> (screen off).
</P>

<P>
Check the <B>Wifi Toggle</B> box if you don't want wifi on all the time. It will then be toggled when Tasker needs to do a scan. This isn't needed in
In Android 4.4+ if you select <CODE>Scanning Always Available</CODE> in Advanced Wifi Settings and will save power.
</P>


<H5>Plus / Minus</H5>

<UL>
    	<LI>(+) very good accuracy and reliability
     	<LI>(+) less power than GPS
     	<LI>(+) works indoors too
     	<LI>(-) need an AP nearby
</UL>


<H5>Other Settings</H5>

<UL>
	<LI><CODE>Prefs / Monitor / Display Off Monitoring / Motion Detection</CODE>: if available on your device, will need to be disabled if you wish to detect an AP
that may turn off and on.
</UL>

<A NAME="gps"/>
<H5>Location: GPS</H5>

<H5>Setup</H5>

Create a location context, and deselect Net.

<H5>About</H5>

<P>
Frequency of GPS checks is controlled by <CODE>Prefs / Monitor / GPS Check</CODE> (screen on)
and <CODE>Prefs / Monitor / Display Off All Checks</CODE>. Higher frequencies mean
more battery usage but that location changes will be noticed more quickly.
</P>

<P>
When indoors, GPS will try a long time to get a signal, using a lot of battery. Adjust
it at <CODE>Prefs / Monitor / GPS Timeout</CODE>. Make the
timeout as low as you can until you start losing effectiveness.
</P>


<A HREF="#loccontext.html">More Info</A>.

<H5>Plus / Minus</H5>

<UL>
	<LI>(+) highly accurate in the open air</LI>
	<LI>(-) functions very poorly or not at all indoors. A bad side effect is that if you enter a building e.g. office while between the check times, it may never detect 
your new location until you leave.
	<LI>(-) extreme power usage
	<LI>(-) needs network to get a first fix
</UL>

<H5>Other Settings</H5>

<UL>
	<LI><CODE>Prefs / Monitor / Display Off Monitoring / Motion Detection</CODE>: if available on your device, will need to be disabled if you wish to detect changes of location
on the order of a few meters.
</UL>

<A NAME="adv" />
<H3>Advanced Strategies</H3>

<H5>Motion Detection</H5>

<P>
Some devices have a low-power accelerometer that can be active while the rest of
the device is sleeping.
</P>

<P>
For such devices, Tasker will not do location checks with the display off unless
it detects that significant movement has taken place since the last check, resulting
in lower power usage and faster response times when the device does eventually move.
</P>

<H5>Multiple Contexts</H5>

Tasker does not check high-power contexts until all lower-power contexts in the same profile are active.
You can use this to reduce power consumption. For instance, if you use the Wifi Near state to 
detect coming home, you could add a Location: Net context to the same profile, so that wifi scanning
will only take place when you are in the right neighbourhood.

<H5>Location Control</H5>

Disable GPS/Net location when they're not needed by creating a separate profile with e.g. a Time context which disables GPS during the night.

<P>
This works because Location contexts assume you are in the same location until there is a fix which says otherwise.
</P>

</HTML>
<A NAME="matching.html"/>

<H2>
	Pattern Matching
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H3>What's Pattern Matching ?</H3>

With Pattern Matching, you specify a <I>pattern</I> which tells Tasker what text you wish
to match. For instance, if you want to match any telephone number starting with <B>0135</B>, you
can specify the simple match <B>0135*</B>. <B>*</B> is a special character which <I>matches</I>
any number of any character.

<P>
Tasker has two type of matching, <A HREF="#simple">Simple Matching</A> and more advanced <A HREF="#regex">Regex Matching</A>.

<A NAME="simple" />
<H3>Simple Matching</H3>

Simple matching is designed to be easy for non-technical people to use.

<H4>Where's It Used ?</H4>

Simple Matching is used in the following places:

<UL>
	<LI>in the <B>If</B> condition of an action, when the <B>~</B> (match) or <B>!~</B> (not match) operators
	are specified.
	<LI>in text paremeters of State and Event contexts</LI>
	<LI>some other places :-)
</UL>

<H4>Matching Rules</H4>

<UL>
	<LI>if a pattern is left blank, it will match against anything
	<LI>if it is not blank it must match the whole target text
	<LI><B>/</B> means 'or', it divides up multiple possible matches
	<LI>a <B>*</B> will match any number of any character. It's not possible to specifically
		match a <B>*</B> character.
	<LI>a <B>+</B> will match one or more of any character. It's not possible to specifically
	match a <B>+</B> character.<BR>Beware: the condition '%var matches +' will be <B>true</B>
	if %var has not been assigned a value, because Tasker does not replace variables which
do not have a value.
	<LI>matching is case-insensitive (<I>magic</I> will match with <I>MagiC</I>)
	<B>unless</B> the pattern contains an upper-case letter e.g. <I>Magic*</I> will
	not match against <I>magically</I>, but it will match against <I>Magic Roundabout</I>
	<LI>a <B>!</B> at the very start of a match means <B>not</B> e.g. <I>!*Magic*/*Yellow*</I> matches anything <B>not</B>
	containing the words <I>Magic</I> or <I>Yellow</I></LI>
	<LI>it is not possible to specifically match a <B>!</B> character at the start of a target (but you could
	 use <B>*!</B>
	
</UL>
</P>
<P>Examples
</P>
<UL>
	<LI><I>help</I> matches <I>help</I> but not <I>helper</I>.
	<LI><I>help*</I> matches <I>helper</I>
	<LI><I>*the*</I> matches <I>the</I> (anywhere)
	<LI><I>123+</I> matches <I>123</I> and minimally one more character
	<LI><I>+</I> matches anything with at least one character (non-empty)
	<LI><I>the*way</I> matches <I>the other way</I> and <I>the first way</I>, amongst others
	<LI><I>Help/*shell</I> matchs <I>Help</I> or anything ending with <I>shell</I>, case-sensitively
</UL>

<A NAME="caller"/>
<H4>Caller Matching</H4>

Caller matching (some events and states e.g. <I>Call</I>) is handled slightly differently.

<UL>
	<LI><I>C:ANY</I> matches the telephone number of any contact
	<LI><I>C:FAV</I> matches the telephone number of any favourite (starred) contact
	<LI><I>CG:<CODE>groupmatch</CODE></I> matches the telephone number of a contact in a group which matches <CODE>groupmatch</CODE>
	<LI><I>Otherwise:</I> otherwise a match is attempted using the general matching rules
	against <B>both</B> the caller phone number and the associated contact's name (if there
	is one).
</UL>

<P>Examples:</P>

<UL>
	<LI><I>!C:ANY</I> matches a number <B>not</B> belonging to a contact
	<LI><I>077*/Geoff*</I> matches a number starting with <I>077</I> or belonging to a contact
	 whose names starts with <I>Geoff</I>
	 <LI><I>C:FAV/0123456789</I> matches any favourite contact or the telephone number <I>0123456789</I>
	 <LI><I>CG:*Family*/CG:Business</I> matches any contact in the contact groups <I>Family Members</I>, <I>My Family</I>  or <I>Business</I>
</UL>

<A NAME="regex" />
<H3>Regular Expression Matching</H3>

Regular expressions are similar to simple matching patterns but have many more features
and are much harder for non-technical people.

<H4>Where's It Used ?</H4>

Regex Matching is available:

<UL>
	<LI>in the <B>If</B> condition of an action, when the <B>~R</B> or <B>!~R</B> operators
	are specified.
	<LI>in the <I>Variable Search Replace</I> action
	<LI>in the condition of a <I>Variable Value</I> state
	<LI>wherever a Simple Match is possible, by preceding the regex with <B>~R</B> or <B>!~R</B>
</UL>

<H4>Matching Rules</H4>

Standard Java regular expression matching is applied. The Android Developer site has a
<A HREF="http://developer.android.com/reference/java/util/regex/Pattern.html">reference page</A>.

<A NAME="maths.html"/>

<H2>
	Maths
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>Where Is Maths Used ?</H4>

<UL>
	<LI>When you do <CODE>Variable Set</CODE> and click the <I>Do Maths</I> checkbox
	<LI>With the <CODE>If</CODE> action, if you select a mathematical comparison like <B>&lt;</B> or <B>=</B>
	<LI>With individual action conditions when a mathematical comparison is selected
</UL>

<H4>What's Available</H4>

Tasker uses the <A HREF="http://www.softwaremonkey.org/Code/MathEval">MathEval</A> library by Lawrence PC Dol.

<H4>Operators</H4>

<UL>
	<LI><B>+ - * /</B> - the basic operators
	<LI><B>%</B> - modulus
	<LI><B>^</B> - power
</UL>

<H5>Constants</H5>

 <ul>
    <li><B>E</B>                  - the base of the natural logarithms
    <li><B>EUL</B>              - Euler's Constant
    <li><B>LN2</B>                - log of 2 base e
    <li><B>LN10</B>               - log of 10 base e
    <li><B>LOG2E</B>              - log of e base 2
    <li><B>LOG10E</B>             - log of e base 10
    <li><B>PHI</B>                - the golden ratio
    <li><B>PI</B>                 - the ratio of the circumference of a circle to its diameter
</ul>

<H5>Functions</H5>

<P>
Trigonometric functions expect a value in radians.
</P>
<P>
Functions take their argument in parenthesis e.g. sin(torad((90))
</P>
<UL>

    <li><B>abs</B>           - absolute value
    <li><B>acos</B>          - arc cosine; the returned angle is in the range 0.0 through pi
    <li><B>asin</B>          - arc sine; the returned angle is in the range -pi/2 through pi/2
    <li><B>atan</B>          - arc tangent; the returned angle is in the range -pi/2 through pi/2
    <li><B>cbrt</B>          - cube root
    <li><B>ceil</B>          - smallest value that is greater than or equal to the argument and is an integer
    <li><B>cos</B>           - trigonometric cosine
    <li><B>cosh</B>          - hyperbolic cosine
    <li><B>exp</B>           - Euler's number e raised to the power of the value
    <li><B>expm1</B>         - <i>e</i><super>x</super>-1
    <li><B>floor</B>         - largest value that is less than or equal to the argument and is an integer
    <li><B>getExp</B>  	     - unbiased exponent used in the representation of val
    <li><B>log</B>           - natural logarithm (base e)
    <li><B>log10</B>         - base 10 logarithm
   <li><B>log1p</B>         - natural logarithm of (val+1)
    <li><B>nextup</B>        - floating-point value adjacent to val in the direction of positive infinity
    <li><B>round</B>         - closest 64 bit integer to the argument
    <li><B>roundhe</B>       - double value that is closest in value to the argument and is equal to a mathematical integer, using the half-even rounding method.
    <li><B>signum</B>        - signum function of the argument; zero if the argument is zero, 1.0 if the argument is greater than zero, -1.0 if the argument is less than zero
    <li><B>sin</B>           - trigonometric sine
    <li><B>sinh</B>          - hyperbolic sine
    <li><B>sqrt</B>          - correctly rounded positive square root
    <li><B>tan</B>           - trigonometric tangent
    <li><B>tanh</B>          - hyperbolic tangent
    <li><B>todeg</B>     	- converts an angle measured in radians to an approximately equivalent angle measured in degrees
    <li><B>torad</B>     	- converts an angle measured in degrees to an approximately equivalent angle measured in radians
    <li><B>ulp</B>           - size of an ulp of the argument
</UL>


<A NAME="power.html"/>

<H2>
	Power
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

Internally, Tasker does its best to keep power usage down. Following are some macro-strategies to
achieve this.

<H4>Context Monitoring</H4>

<P>
When a profile contains multiple contexts, power is saved by only monitoring for changes in order of
the least-power-hungry first. For example, in a profile with a Time and App context, Tasker will not
decide that it needs to monitor for a changing application unless the Time context is active (because the
profile cannot become active until both contexts are active).
</P>

<P>Tasker rates contexts for power-hungriness in the following (ascending) order:
</P>
<UL>
	<LI>Other State
	<LI>Day / Time
	<LI>Calendar Entry State
	<LI>Cell Near State
	<LI>App
	<LI>BT Near State
	<LI>Network Location
	<LI>Wifi Near State
	<LI>GPS Location
	<LI>Temperature / Humidity / Proximity / Pressure / Magnetic Field / Light Sensor /  Gesture Event / Orientation State (accelerometer activation)
</UL>

<P>
Items at the bottom of the list won't become eligible for monitoring until all items further up the
list are active.
</P>

<H4>Display-Off Checks</H4>

When the display is off, all necessary 'active' checks (GPS/Net Location, Wifi Near, App) are done at
the same time so that the device is awake for as short a time as possible. See <I>Display Off Timings</I>
in <CODE>Menu / Prefs / Monitor</CODE> for the frequency and maximum duration of these checks.

<A NAME="settings.html"/>

<H2>
	Settings
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>What's A Setting ?</H4>

Settings are actions like <I>Display Brightness</I> and <I>Ringer Volume</I>
whose effects are reversed by Tasker when the profile(s) which applied them 
are no longer active.
<P>
Settings have a cog icon next to them. Normal actions have a lightning bolt.
</P>

<H4>Single Profile</H4>

When a setting is applied by the profile's Enter Task, its value is restored
after the profile becomes inactive again. For example, if
the ringer volume is at 7 and is set to 0 in the Enter Task,
when the profile becomes inactive it is automatically set back to 7.
<P>
In other words, settings are only valid for the lifetime of their profiles.
</P>

<H4>Multiple Profiles</H4>

When multiple profiles that affect a setting are active simultaneously:
<OL>
	<LI>the setting has the value from the <B>most recently activated</B> profile
	<LI>when <B>all</B> profiles are inactive, the setting has the value from before
	<B>any</B> profile was active
</OL>

<H4>Special Cases</H4>

<UL>
	<LI>if a setting is changed by the Exit Task the profile will never save the setting's initial value.
	<LI>settings changed in an <I>instant profile</I> (one with an event context or repeating/non-ranged time context)  remain changed after the
	event. The reasoning is that there is no point in changing the setting for the
	half-second that the event lasts.
</UL>
	
<H4>Notes</h4>

<UL>
	<LI>settings are not <I>actively</I> maintained. If something else changes the setting
	once the Enter task has run, it's not the case that this is detected and the
	Enter task value automatically reapplied.
</UL>
Complicated, huh ?

<A NAME="variables.html"/>
<H2>
	Variables
	<IMG style="float:right" SRC="icon_tasker.png"/>
</H2>

<H4>General</H4>

A variable is a named value which changes over time e.g. the level of the battery, the time of day.

<P>
When Tasker encounters a variable name in a text, it replaces the name with
the current value of the relevant variable before carrying out the action.
</P>
<P>
The main purposes of variables are:

<UL>
	<LI><I>dynamic binding</I>: doing something with an action with data which
</P>
	is unknown when the task is created e.g. respond to an SMS; the sender
	is not known until the SMS is received.
	<LI>allow <A HREF="#flowcontrol.html">flow control</A> within and
	between tasks
	<LI>record data for some future use e.g. passing data between tasks
</UL>

<H4>Global vs. Local Variables</H4>

<P>
Variables which have an <B>all-lower-case</B> name (e.g. %fruit_bar) are <I>local</I>, meaning that their value is specific to the task or scene in which they are used.
</P>

</P>
Variables which have one or more capital letters in their name (e.g. %Car, %WIFI) are <I>global</I>, meaning that wherever they
are accessed from the same value is returned.
</P>

<H4>Built-In Variables</H4>

<P>
The values of built-In variables are updated automatically by Tasker.
</P>

<H5>Local Built-In Variables</H5>

<UL>
	<LI><B>Action Error</B><BR>
	<I>%err</I><BR>
	Is set to an integer if an error occurred when running the last action. The actual number
	can signify the error which occurred, but is usually 1 for most Tasker actions (notable
	exception: <CODE>Run Shell</CODE> and plugins). 

	<LI><B>Action Error Description</B><BR>
	<I>%errmsg</I><BR>
	A description of the error which <B>last resulted in %err being set</B>. Currently never set by
	Tasker but possibly by some plugin actions.

	<LI><B>Task Priority</B><BR>
	<I>%priority</I><BR>
	The priority of the running task. The priority determines which task
	executes its next action when several tasks are running together.<BR>See
	also: <A HREF="#scheduling">Task Scheduling</A>

	<LI><B>Task Queue Time</B><BR>
	<I>%qtime</I><BR>
	How long (seconds) the running task has been running.
	<BR>
        Note that tasks can be interrupted by higher priority tasks, so this number
        is not necessarily the total run-time of the task.

	<BR>
	<LI><B>Task Caller</B><BR>
	<I>%caller</I><BR>
	A variable array tracing the origin of the current running task. <I>%caller1</I> gives the origin
	of the current task, <I>%caller2 </I>the origin of <I>%caller1</I> etc. 
	<P>
	Example: if task A uses action <CODE>Perform Task</CODE> to start task B, then when task A is run by pressing
	the Play button in the task edit screen, <I>%caller1</I> in task B will show <B>task=A</B>, <I>%caller2</I> will show <B>ui</B>.
	<P>
	The format of each entry in the array is <I>callertype</I>(<B>=</B><I>callername</I>(<B>:</B><I>subcallername</I>))
	<P>

	Caller types ares detailed below:
	<UL>
		<LI><B>profile</B><BR>
		a profile (when it's state changes). <I>callername</I> is either <B>enter</B> or <B>exit</B> depending on whether the profile
		activated or deactivated. <I>subcallername</I> is the name of the profile, if it has one, otherwise <B>anon</B>
		<LI><B>scene</B><BR>
		a scene event, with <I>callername</I> being the scene name. For element events, <I>subcallername</I> is the element name. For action bar button presses, <I>subcallername</I> is the label if one was given. For scene-global events (e.g. Key), <I>subcallername</I> is event type 
		<LI><B>ui</B><BR>
		the Play button in the task edit screen in the Tasker UI
		<LI><B>launch</B><BR>
		clicking a child application icon in the launcher
		<LI><B>nbutton</B><BR>
		a notification action button, either from Tasker's permanent notification or one created with one of the Notify actions.
		<I>callername</I> specifies the label of the button if present.
		<LI><B>external</B><BR>
		an external application
		<LI><B>qstile</B><BR>
		a Quick Settings tile. <I>callername</I> specifies the label of the tile.
		<LI><B>appshort</B><BR> 
		an app shortcut (accessed via long-click on the Tasker icon). <I>callername</I> specifies the label of the tile.
		<LI><B>task</B><BR>
		another task, from a Perform Task action. <I>subcallername</I> is the task name, if it has one, otherwise <B>anon</B>
	</UL>
</UL>

<H5>Global Built-In Variables</H5>

<UL>
	<LI><B>Airplane Mode Status</B><BR> <CODE>(dynamic)</CODE><BR> 
	<I>%AIR</I><BR>
	Whether Airplane Mode is <B>on</B> or <B>off</B>

	<LI><B>Airplane Radios</B><BR> 
	<I>%AIRR</I><BR>
	A comma-separated list of the radios which will be <b>disabled</b> when entering Airplane Mode.<BR>
	Common radio names are: <I>bluetooth, cell, nfc, wifi, wimax</I>.

	<LI><B>Battery Level</B> 
	<BR><I>%BATT</I> <BR>
	Current device battery level from 0-100.

	<LI><B>Bluetooth Status</B> 	<CODE>(dynamic)</CODE><BR>
	<I>%BLUE</I> </BR>
	Whether Bluetooth is <B>on</B> or in some other state (<B>off</B>).<BR>

	<LI><B>Calendar List</B><BR>
	<I>%CALS</I><BR>
	Newline-separated list of calendars available on the device.
	<br>Each entry is in the format <I>calendarprovider:calendarname</I>.<BR>
	Example usage:
	<PRE>	Variable Set, %newline, \n
	Variable Split, %CALS, %newline
	Flash, %CALS(#) calendars, first one is %CALS(1)</PRE>
	For the sign <I>\n</I>, press carriage-return on the keyboard.
	<LI><B>Calendar Event Title / Descr / Location</B>
	<I>%CALTITLE / %CALDESCR / %CALLOC</I><BR>
	The title, description and location of the <B>current</B> calendar event, if there is one. If there are multiple current calendar events the
	variables refer to the <B>shortest</B>.
	<BR>Tip: find other details about the current event(s) using the <CODE>Misc / Test</CODE> action, specifying %TIMES for the data.

	<LI><B>Call Name / Number/ Date / Time (In)</B> <CODE>(dynamic, monitored)</CODE><BR>
	<I>%CNAME / %CNUM / %CDATE / %CTIME</I><BR>
	The caller name, number, date and time of the current (if a call is in progress) or last call received.<BR>
	Caller number is <B>0</B> if it's unknown.<BR>
	Caller name is <B>?</B> if it's unknown (probably because the caller number was blocked)
	and set to the caller number if the contact couldn't be looked up.
	It's unavailable on Android versions prior to 2.0.

	<LI><B>Call Name / Number/ Date / Time / Duration (Out)</B><CODE>(dynamic, monitored)</CODE><BR>
	<I>%CONAME / %CONUM / %CODATE / %COTIME / %CODUR</I><BR>
	The called name, number, date and time of the last (<B>not</B> the current) outgoing call made.<BR>
	Called Name	is set to the called number if the contact couldn't be looked up.
	It's unavailable on Android versions prior to 2.0.

	<LI><B>Cell ID</B> <CODE>(dynamic,monitored)</CODE>
	<BR><I>%CELLID</I><BR>
	The current cell tower ID if known.<BR>
	If you are using a Cell Near state, note that sometimes the Cell Near state will stay active
	even though %CELLID reports that the tower ID is unknown or invalid; that is because Cell Near only
	responds to valid IDs to prevent the state becoming inactive e.g. due to a service interruption.
	<BR>
	For backwards compatibility, UMTS cells are reported with a GSM prefix.
	<BR>
	From Android 4.2, Tasker version 4.3+, cells could be found from 2 different network types simultaneously. In that case, the value is reported with preference for the network type leftmost on the list: GSM, CDMA, UMTS, LTE.

	<LI><B>Cell Signal Strength</B> <CODE>(dynamic,monitored)</CODE>
	<BR><I>%CELLSIG</I>
	<BR>
	The current phone signal level from 0-8 inclusive on a rougly linear scale. On some phones, the level will rise in steps of 2 (0,2,4,6,8). The value is -1 if the value
	is unknown or there is e.g. no service.
	<BR>
	From Android 4.2, Tasker version 4.3+, cells could be found from 2 different network types simultaneously. In that case, the value is reported with preference for the network type leftmost on the list: GSM, CDMA, UMTS, LTE.
	<BR>
	There is a bug with some Android versions that the reported signal strength is not updated until the 
	device is turned off and on.

	<LI><B>Cell Service State</B> <CODE>(dynamic,monitored)</CODE>
	<BR><I>%CELLSRV</I><BR>
	The current phone service state. One of <I>unknown, service, noservice, emergency, nopower</I>.

	<LI><B>Clipboard Contents</B><BR> <CODE>(dynamic,monitored)</CODE>
	<I>%CLIP</I> <BR>
	The current contents of the system clipboard.

	<LI><B>CPU Frequency</B><BR>
	<I>%CPUFREQ</I> <BR>
	The current frequency CPU 0 is running at.  See also: <A HREF="#cpu.html">CPU Control</A>.

	<LI><B>CPU Governor</B><BR>
	<I>%CPUGOV</I> <BR>
	The current governor controlling the frequency of CPU 0. See also: <A HREF="#cpu.html">CPU Control</A>.

	<LI><B>Date</B> 
	<BR><I>%DATE</I> <BR>
 	Current human-readable date.
	
	<LI><B>Day of the Month</B> 
	<BR><I>%DAYM</I> <BR>
	Current Day of the Month, starting at 1.

	<LI><B>Day of the Week</B> 
	<BR><I>%DAYW</I> <BR>
	Current Day of the Week starting with Sunday.

	<LI><B>Device ID / Manufacturer / Model / Product</B>
	<BR><I>%DEVID / %DEVMAN / %DEVMOD / %DEVPROD</I><BR>
	The ID, manufacturer, model and product name of the device. <BR>Note: ID is <B>not</B> a unique
	identifier for the device, but rather for the hardware of the device. See also: %DEVTID.

	<LI><B>Device Telephony ID</B>
	<BR><I>%DEVTID</I><BR>
	Returns the unique telephony-based ID for the device (e.g. for GSM the IMEI, for CDMA the
	MEID or ESN). <BR>Not available on all devices.

	<LI><B>Display Brightness</B>
	<I>%BRIGHT</I> </BR>
	Current screen brightness, 0-255. On some devices, if the Android setting Auto Brightness is enabled, the
	value will always be 255.

	<LI><B>Display Timeout</B>
	<I>%DTOUT</I> </BR>
	Current system screen timeout (seconds).

	<LI><B>Email From / Cc / Subject / Date / Time</B> <CODE>(dynamic)</CODE><BR>
	<I>%EFROM / %ECC / %ESUBJ / %EDATE / %ETIME</I><BR>
	The From, Cc, Subject, Received Date and Received Time of the last email received
	by the K9 email agent.

	<LI><B>Free Memory</B><BR>
	<I>%MEMF</I><BR>
	System free memory remaining in MB.

	<LI><B>GPS Status</B><BR> (monitored,dynamic Gingerbread+)
	<I>%GPS</I><BR>
	Whether the system GPS receiver is <B>on</B> or <B>off</B>.

	<LI><B>Heart Rate</B> <CODE>(monitored,dynamic)</CODE>
        <BR><I>%HEART</I><BR>

        The current detected heart rate in beats per minute.
	<BR>See also: state <I>Heart Rate</I>.
	<BR>The value will be negative for no contact (-1), accuracy unreliable (-2) or some other problem (-3)

	<LI><B>HTTP Response Code / Data / Content Length</B><BR> <CODE>(dynamic)</CODE>)
	<I>%HTTPR / %HTTPD / %HTTPL</I><BR>
	Values from the last HTTP POST/GET action.<BR>
	If the server doesn't return a content length, %HTTPL will be calculated from the returned
	data where possible.

	<LI><B>Input Method</B><BR>
	<I>%IMETHOD</I><BR>
	The current active input method. Consists of 4 parts separated by commas: Method Name, SubType Name, Mode, Locale.
	<BR>To access particular parts, use the <I>Variable Split</I> action.

	<LI><B>Interrupt Mode</B> <CODE>(dynamic)</CODE>
	<BR><I>%INTERRUPT</I><BR>
	Only available on Android 5.0+, <B>requires Tasker's notification access service to be enabled</B>, see Android's
	Sound &amp; Notification settings.
	<BR>
	<BR>Android 5.0+: the current state of interruptions mode on the device: <B>none</B>, <B>priority</B> or <B>all</B>
	<BR>See Also: action <I>Interrupt Mode</I>
	<BR>
	<BR>Android 6.0+: the current state of Do Not Disturb mode on the device: <B>none</B>, <B>priority</B>, <B>all</B> or <B>alarms</B>
	<BR>See Also: action <I>Do Not Disturb</I>

	<LI><B>Keyguard Status</B><BR>
	<I>%KEYG</I><BR>
	Whether the Keyguard is <B>on</B> or <B>off</B>

	<LI><B>Last Application</B><BR>
	<I>%LAPP</I><BR>
	The name of the application that was in the foreground before the current one e.g. Maps.

	<LI><B>Last Photo</B><BR>
	<I>%FOTO</I><BR>
	The filesystem path to the last photo taken by Tasker or the
	standard system camera application.

	<LI><B>Light Level</B> <CODE>(dynamic,monitored)</CODE>
	<BR><I>%LIGHT</I><BR>
	The last recorded light level in lux.<BR>Note that Android does not return a value until the light
	level changes, so to test the sensor is working you should put it near a bright light initially.
	<BR>May not change when the device display is off, see <CODE>Menu / Prefs / More / Display Off Monitoring / Light Sensor</CODE>.

	<LI><B>Location</B> <CODE>(dynamic)</CODE>  
	<BR><I>%LOC</I><BR>
	The latitude and longitude of the last GPS fix.
	<BR><A HREF="#locnote">See note</A>.

	<LI><B>Location Accuracy</B> <CODE>(dynamic)</CODE>
	<BR><I>%LOCACC</I><BR>
	The accuracy in metres of the last GPS fix.
	<BR><A HREF="#locnote">See note</A>.

	<LI><B>Location Altitude</B> <CODE>(dynamic)</CODE>
	<BR><I>%LOCALT</I><BR>
	The altitude in metres of the last GPS fix, or 0 if unavailable.
	<BR><A HREF="#locnote">See note</A>.
	
	<LI><B>Location Speed</B> <CODE>(dynamic)</CODE>
	<BR><I>%LOCSPD</I><BR>
	The speed in metres/second at the last GPS position fix or 0 if unavailable.
	<BR><A HREF="#locnote">See note</A>.
	
	<LI><B>Location Fix Time Seconds</B>  <CODE>(dynamic)</CODE>
	<BR><I>%LOCTMS</I><BR>
	The time in seconds of the last GPS fix. To get age of fix, take this away from %TIMES.
	<BR>This value is not set until an offset of the GPS time from the fixed time has
	been calculated (should be after the first GPS fix) because the value is meaningless
	until that point.
	<BR><A HREF="#locnote">See note</A>.
	
	<LI><B>Location (Net)</B> <CODE>(dynamic)</CODE>
	<BR><I>%LOCN</I><BR>
	The latitude and longitude of the last network location fix.
	<BR><A HREF="#locnote">See note</A>.
	
	<LI><B>Location Accuracy (Net)</B> <CODE>(dynamic)</CODE>
	<BR><I>%LOCNACC</I><BR>
	The accuracy in metres of the last network location fix.
	<BR><A HREF="#locnote">See note</A>.
	
	<LI><B>Location Fix Time (Net)</B> <CODE>(dynamic)</CODE>
	<BR><I>%LOCNTMS</I><BR>
	The time in seconds of the last net location fix. To get age of fix, take this away from %TIMES.
	<BR><A HREF="#locnote">See note</A>.
	
	<LI><B>Magnetic Field Strength</B> <CODE>(monitored,dynamic)</CODE>
	<BR><I>%MFIELD</I><BR> 

	The total magnitudes in micro-Teslas of the magnetic fields acting on all three axis of the devices sensor.
	<BR>Updated once per second.<BR>See Also: state <CODE>Magnetic Field</CODE>.

	<LI><B>Music Track</B> <CODE>(dynamic,monitored))</CODE>)
	<BR><I>%MTRACK</I><BR>
	The current playing music track, supported for:<UL>
		<LI>Tasker actions <i>Music Play</i> and <i>Music Play Dir</i>
		<LI>Built-in Android music-player, probably not on all devices however
		<LI>Power AMP
		<LI>BeyondPod (Tasker v1.2.1+)
		<LI>Phantom Music Control Pro
		<LI>Media Utilities
	</UL>
	Priority: if both Tasker and one of the other supported apps are playing simultaneously, the
	non-Tasker track will be shown. If more than one of the other supported apps is playing 
	simultaneuosly, behaviour is unspecified.
	<BR>Notes:<UL>
		<LI> if you don't have a supported player, you could try Phantom Music Control Pro or Media Utilities, which support a lot of
		players and should pass the info on to Tasker
		<LI>pausing a track clears the variable, unpausing sets it again
		<LI>your music player may need an option enabled in order to broadcast the track information, or 
		the broadcast may only be available in a 'pro' version
	</UL>

	<LI><B>Muted</B>
	<BR><I>%MUTED</I><BR>
	Whether the microphone is currently muted (<B>on</B>) or not (<B>off</B>).

	<LI><B>Night Mode</B> 
	<BR><I>%NIGHT</I><BR>
	The current Android Night Mode.<BR>
	One of <B>on</B>, <B>off</B> or <B>auto</B>.<BR>
	If <B>auto</B>, Android will decide whether it should be in Night Mode itself.

	<LI><B>Notification Title</B> <CODE>(monitored, dynamic)</CODE>
	<BR><I>%NTITLE</I><BR>
	The title of the last notification shown in the status bar. Prior to KitKat, requires Tasker's accessibility server
	to be running (see Android Accessibility Settings). From KitKat, requires Tasker's Notification Listener service
	to be running instead. 
	<BR>
	In a task running as a result of a <CODE>Notification</CODE> or <CODE>Notification Removed</CODE> event, use variable %evtprm2 instead
	of %NTITLE. This is much more reliable and you have access to other parts of the notification (%evtprm3 etc)
	<BR>
	Notifications generated by Tasker are not shown.

	<LI><B>Phone Number</B>
	<BR><I>%PNUM</I><BR> 

	The current phone number of the device, if it's in service.<BR>
	On some phones it doesn't work (Android limitation), seems related to the type of SIM.

	<LI><B>Pressure</B> <CODE>(monitored,dynamic)</CODE>
	<BR><I>%PRESSURE</I><BR> 

	The current air pressure on the device in millibars.
	<BR>May not change when the device display is off, see <CODE>Menu / Prefs / Monitor / Display Off Monitoring / Pressure Sensor</CODE>.

	<LI><B>Profiles Active</B> 	<CODE>(dynamic)</CODE>
	<BR><I>%PACTIVE</I><BR> 

	A comma-separated list of the currently active, named profiles in activation order. Duplicate
	names will appear on the list only once. The list always starts and ends with a comma 
	to make matching easier, if it's not empty.
	
	<LI><B>Profiles Enabled</B> <CODE>(dynamic)</CODE>
	<BR><I>%PENABLED</I><BR>
	
	A comma-separated list of the currently enabled, named profiles in creation order. Duplicate
	names will appear on the list only once. The list always starts and ends with a comma 
        to make matching easier, if it's not empty.

	<LI><B>Roaming</B>
	<BR><I>%ROAM</I><BR>
	<B>on</B> if device is roaming on the current telephone network, otherwise <B>off</B>.

	<LI><B>Root Available</B>
	<BR><I>%ROOT</I><BR>
	<B>yes</B> if root functions are available on this device, otherwise <B>no</B>.

	<LI><B>Screen</B> 	<CODE>(dynamic)</CODE>
	<BR><I>%SCREEN</I><BR>
	Whether the screen is on (value <B>on</B>) or off (value <B>off</B>).

	<LI><B>SDK Version</B>
	<BR><I>%SDK</I><BR>
	The numeric Android <A HREF="http://developer.android.com/reference/android/os/Build.VERSION_CODES.html">SDK version</A>
	of the device.

	<LI><B>Silent Mode</B> <CODE>(dynamic)</CODE>
	<BR><I>%SILENT</I><BR>
	The current state of silent mode: <B>off</B>, <B>vibrate</B> or <B>on</B>.
	<BR>
	From Android 5.0+ this variable is intended to only reflect whether the device
	is in vibrate mode (<B>vibrate</B>) or not (any other value), but the <B>on</B> value is included for backwards
	compatibility and set when the device is not in vibrate mode and the interrupt mode is <B>none</B>
	or <B>priority</B>.
	<BR>
	See Also: variable <I>%INTERRUPT</I>, actions <I>Silent Mode</I> and <I>Interrupt Mode</I>.

	<LI><B>SIM Serial Number</B>
	<BR><I>%SIMNUM</I><BR>
	The serial number of the SIM card, if one is present and accessible.
	<BR>If the SIM has not been unlocked it will not be available.

	<LI><B>SIM State</B>
	<BR><I>%SIMSTATE</I><BR>
	The current state of the SIM card.<BR>
	One of <B>unknown</B>, <B>absent</B>, <B>pinrequired</B>, <B>pukrequired</B>, <B>netlocked</B> or <B>ready</B>.

	<LI><B>Speakerphone</B>
	<BR><I>%SPHONE</I><BR>
	Whether the speakerphone is <B>on</B> or <B>off</B>
	
	<LI><B>Speech</B> <CODE>(dynamic)</CODE>
	<BR><I>%SPEECH</I><BR>
	The current utterance as a result of a <I>Say</I> or <I>Say File</I> action, if applicable.
	
	<LI><B>Tasks Running</B> <CODE>(dynamic)</CODE>
	<BR><I>%TRUN</I><BR>
	A comma-separated list of any named tasks which are currently running. The list always starts
	 and ends with a comma to make matching easier, if it's not empty.


	<LI><B>Telephone Network</B> <CODE>(dynamic, monitored)</CODE>
	<BR><I>%TNET</I><BR>

	The current telephony network operator the device is using.
	<BR>May be unreliable on CDMA networks

	<LI><B>Temperature</B> <CODE>(monitored,dynamic)</CODE>
        <BR><I>%TEMP</I><BR>

        The current ambient temperature in degrees Celsius.
        <BR>May not change when the device display is off, see <CODE>Menu / Prefs / Monitor / Display Off Monitoring / Temp. Sensor</CODE>.
	<BR>See also: state <I>Temperature</I>.

	<LI><B>Text From/Date/Subject/Time</B> <CODE>(monitored)</CODE>
	<BR>
	<I>%SMSRF / %SMSRN / %SMSRB / %MMSRS / %SMSRD / %SMSRT</I><BR>
	The sender address, name, body, subject, date and time of the last text (SMS or MMS) received.
	<BR>These variables will be empty until the first time a text is received after
	they have been referenced because Tasker does not monitor texts unless it's needed.<BR>
	<I>Name</I> is set to sender address of no contact could be looked up.
	It's unavailable on Android versions prior to 2.0.
	<BR><I>Body</I> (%SMSRB) is only set for SMSs.
	<BR><I>Subject</I> (%MMSRS) is only set for MMSs.

	<LI><B>Time</B> 
	<BR><I>%TIME</I> <BR>
	Current human-readable time separated by a period e.g. 10.59

	<LI><B>Tether</B> (dynamic)
	<BR><I>%TETHER</I> <BR>
	A comma-separated list of enabled tethering forms i.e. connections over which another device can connect to this
	one in order to use its internet connection.<BR>
	The possible forms are <B>wifi</B>, <B>usb</B> or <B>bt</B>.<BR>
	BT will only be present when an actual client is connected via BT for using the devices network connection, whereas
	the others will be present as soon as the functionality is enabled (Android bug/limitation).

	<LI><B>Time MilliSeconds</B> 
	<BR><I>%TIMEMS</I><BR>
	The current time in milliseconds.<BR> (milliseconds since some time in January, 1970, if you must know).

	<LI><B>Time Seconds</B> 
	<BR><I>%TIMES</I><BR>
	The current time in seconds.<BR> (seconds since some time in January, 1970, if you must know).

	<LI><B>UI Mode</B> <CODE>(dynamic,monitored)</CODE>
	<BR><I>%UIMODE</I><BR>
	The current Android UI mode.<BR>
	One of <B>car</B>, <B>desk</B>, <B>appliance</B>, <B>tv</B> (television), <B>watch</B>, <B>undef</B> (undefined) or <B>normal</B>.

	<LI><B>Uptime Seconds</B> 
	<BR><I>%UPS</I><BR>
	The number of seconds since the device last booted.

	<LI><B>Volume - Alarm/Call/DTMF/Media/Notification/Ringer/System</B> <CODE>(dynamic)</CODE><BR>
	<I>%VOLA / %VOLC / %VOLD / %VOLM / %VOLN / %VOLR / %VOLS</I><BR>
	Current audio channel volume level.<BR>
	On some devices, volume changes are not picked up dynamically, on others not
	when using the phone app.

	<LI><B>WiFi Info</B><BR>
	<I>%WIFII</I><BR>
	When connected to an Access Point (AP), shows human-readable data about the AP. When not connected,
	show details of the most recent Wifi scan results for nearby APs.

	<LI><B>WiFi Status</B> 	<CODE>(dynamic)</CODE><BR> 
	<I>%WIFI</I><BR>
	Whether WiFi is <B>on</B> or <B>off</B>.
	Note: if WiFi is enabling or disabled, in fact anything but enabled, it's classed as off.

	<LI><B>Wimax Status</B> <BR>
	<I>%WIMAX</I><BR>
	Whether Wimax is <B>on</B> or <B>off</B>.
	Note: if Wimax is enabling or disabled, in fact anything but enabled, it's classed as off.

	<LI><B>Window Label</B> <code>(monitored)</code><BR>
	<I>%WIN</I><BR>
	The label of the current window, which could be a full-screen activity or a dialog. 
	<BR>Not set if the label is unknown.
	<BR>For some windows, the label might be that of the first item in the window e.g. a menu entry or even a button.
</UL>

<H5>General Notes</H5>

<P>
Variables marked <CODE>dynamic</CODE> in the list above trigger changes in <I>Variable Value</I> states
and <I>Variable Set</I> events whenever their value changes.
</P>

<P>
Variables marked <CODE>monitored</CODE> will cause the relevant monitor to startup to track their state
when they are used in contexts or tasks which are used by widgets or <B>enabled</B> profiles. 
For instance, %CELLID used in a Flash action will cause cell location to be tracked.
</P>
<P>
Limitation: monitored variables cannot be detected in anonymous shortcuts.
</P>

<A NAME="locnote"/>
<H5>Note On Location Variables</H5>

<P>
When the relevant provider (Net or GPS) of a location context is active, these variables report the values from the provider,
which may be more recent than Tasker has seen if other applications are asking for location.
</P>
<P>
When the relevant provider is <B>not</B> active, these variables report the last values <B>seen by Tasker</B>,
which could be the result of a <CODE>Get Location</CODE> action or of monitoring for a <CODE>Location Context</CODE>.
</P>
<P>
That means the the reported fix times could <B>go backwards</B>, if you turn off the location provider
between two uses of the variables.
</P>

<P>
Location variables can also be manually updated by running the <CODE>Get Location</CODE> action.
</P>

<H4>User Variables</H4>

The action <I>Variable Set</I> (and several others) can be used to create new variables. Variable names have the following restrictions:

<UL>
	<LI>they must start with the <B>%</B> character
	<LI>they are case-sensitive
	<LI>then must at least a further <B>3</B> alphanumeric characters
	<LI>they can also contain the underscore character (_) but not start or end with it
</UL>

</P>
<P>In general, it's best to use local variables wherever possible because:
</P>

<UL>
<LI>you know they won't be interfered with by other tasks or scenes
<LI>they are more efficient in several ways
</UL>
<P>
Note: multiple copies of the same task running at the same time each have their own separate copy of their local variables.
</P>

<H6>Scene-Local Variables</H6>

<P>
Each scene has its own set of local variables which it shares with
the task that created it; both the scene and task 
see changes to the variables made by either.
</P>

<P>
Any task which starts as a result of a scene event (e.g. a tap on an element)
also shares the variables of the scene (and thus of the original
task which created the scene).
</P>

<P>
As a consequence, a task started by a scene event (e.g. Tap on an element)
which shows a new scene e.g. via the <I>Show Scene</I> action, will result in
the second scene sharing the variables of the first scene.
</P>

<P>
When a task shows a scene that was created by a different task (or a different copy
of the same task) and subsequently hidden, the task's variables are <B>copied</B> to the scene variables (overriding
values of variables which already exist) but
the task does <B>not share</B> the scene variables and cannot see changes to them.
</P>



<H5>Escaping Variable Names</H5>

If you want to prevent a variable name being replaced, put a <B>\</B> in front of it e.g.

<BLOCKQUOTE>
<CODE>Variable Set, %new, \%old</CODE>
</BLOCKQUOTE>

Will set the value of <I>%new</I> to <I>%old</I>, <B>not</B> the <B>value</B> of <I>%old</I>.
<P>In order to precede a variable name with a <B>\</B> you can escape the backslash e.g.
<P>

<BLOCKQUOTE>
<CODE>Variable Set, %new, \\%old</CODE>
</BLOCKQUOTE>

Will set the value of <I>%new</I> to <B>\</B> followed by the <B>value</B> of <I>%old</I>.

<H5>Variable References</H5>

It's possible to indirectly refer to variables by preceeding one or
more extra <B>%</B> signs to the start of the variable name.
For example:

<BLOCKQUOTE><CODE>
Variable Set, %colour, red<BR>
Variable Set, %varname, colour<BR>
Flash %%varname
</CODE></BLOCKQUOTE>

<P>
... will flash <B>red</B>.
</P>
<P>
Using this notation it's possible to assign variables whose name is
not known beforehand:

<BLOCKQUOTE><CODE>
Read File, variablename.txt, To Var, %varname<BR>
Variable Set, %%varname, red
</CODE></BLOCKQUOTE>

<P>
This will set the variable whose name is stored in the file <CODE>variablename.txt</CODE> to <B>red</B>.
</P>


<P>
You can nest references as deeply as you like (e.g. <CODE>%%%%var</CODE>)
but mental stress and bugs are sure to follow.
</P>
<P>
If any part of the chain has an invalid variable name then the original
reference will be returned. In the first example, if <CODE>%varname</CODE>
is set to <CODE>!!!</CODE>, then <B>%%varname</B> will be flashed instead
of <B>red</B>.
</P>

<H5>Variable Lifetime</H5>

The value a <B>global</B> variable holds lasts until Tasker is uninstalled if
it is not changed by any task.
<P><B>Local</B> variables are lost at the end of the task they were created in, or
when the parent scene is destroyed in the case of tasks called from scenes.
</P>

<H5>Uninitialized Variables</H5>

<P>
User-variables which have not had a value assigned do not have replacements carried out e.g. in the expression <I>I love %fruit</I>, if
%fruit is uninitialized, the expression remains as it is, otherwise %fruit is replaced with the value.
</P>
<P>
Exception: uninitialized variables used in mathematical expressions are replaced with 0.
</P>

<H4>Variables In Plugins</H4>

Plugin developers can tell Tasker to replace variables
it finds in plugin strings with their current Tasker value. If you have a plugin
which doesn't support this, send the developer this URL

<BLOCKQUOTE>
<A HREF="http://tasker.dinglisch.net/plugins.html">http://tasker.dinglisch.net/plugins.html</A>
</BLOCKQUOTE>

<P>
which has the relevant details.
</P>

<A NAME="arrays"/>
<H4>Variable Arrays</H4>

Tasker supports pseudo-arrays.
<P>
They are especially useful when used with the <CODE>For</CODE> action, since you can
perform a set of actions on each element in turn e.g. list a set of files then 
test each one.
</P>

<H5>Examples</H5>

<P>
If the four variables <B>%arr1, %arr2, %arr3, %arr4</B> hold respectively <B>a, b, c</B> and <B>d</B>
then we have an array with 4 <I>elements</I>.
These variables can be used just like any other, however it is also possible to access
them in special ways. Here are some examples:
</P>
<UL>
	<LI><B>%arr(#)</B><br>
	The number of defined array elements (<B>4</B> in this case)
	<LI><B>%arr(#>)</B><br>
	The index of the first defined array element, or <B>0</B> if none are defined (<B>1</B>).
	<LI><B>%arr(#<)</B><br>
	The index of the last defined array element, or <B>0</B> if none are defined (<B>4</B>)
	<LI><B>%arr(#?b/c)</B><br>
	A comma-separated list of the array indices (lowest to highest) with matching values, or <B>0</B> if none match (<B>2,3</B> in the example)
	<LI><B>%arr(>)</B><br>
	The contents of the first defined array element (<B>a</B>)
	<LI><B>%arr(<)</B><br>
	The contents of the last defined array element (<B>d</B>)
	<LI><B>%arr()</B> or <B>%arr(:)</B><br>
	All of the array elements separated by commas (<B>a,b,c,d</B>)
	<LI><B>%arr(2)</B> or just <B>%arr2</B><br>
	The content of the element with index 2 (<B>b</B>)
	<LI><B>%arr(2:4)</B><br>
	Contents of defined elements with indices 2 to 4 (<B>b,c,d</B>)
	<LI><B>%arr(:3)</B><br>
	All the defined elements with indices up to 3 (<B>a,b,c</B>)
	<LI><B>%arr(3:)</B><br>
	All the defined elements with indices starting from 3 (<B>c,d</B>)
	<LI><B>%arr(1:2)</B><br>
	All the defined elements with indices from 1 to 2 (<B>a,b</B>)
</UL>

Notes:

<UL>
<LI>arrays will virtually always have all their elements defined so e.g. %arr(>) will be the same as %arr(1), %arr(#) will be the same as %arr(#<)
<LI>index specifiers can themselves be variables (e.g. %arr(1:%MAX) or %arr(#?%FINDME)) but <B>not</B> variable arrays
</UL>

<H5>Creating An Array</H5>

<OL>
	<LI>using <CODE>Array Set</CODE>:<BR>
	<b>Array Set, %arr, a b c d</b>
	<LI>using <CODE>Variable Split</CODE> on an existing (simple) variable:<br>
	<B>Variable Set %arr a b c d</B><BR>
	<B>Variable Split %arr</B><BR>
	<LI>by assigning individual elements with <CODE>Variable Set</CODE>:<BR><B>Variable Set, %arr3, c</B>.
	<LI>using <CODE>Array Push</CODE> to add an initial element
	<LI>some other actions also create arrays for their results e.g. <CODE>List Files</CODE>.
</OL>

<H5>Inserting Elements</H5>

Use the <CODE>Array Push</CODE> action.

<P>
The <I>Fill Spaces</I> parameter might need more explanation. It is only relevant if one or more of the array elements are undefined. As an example, if we have the array elements %arr1 and %arr3 containing <B>apple</B> and <B>banana</B>:
</P>
<UL>
<LI><B>Array Push %arr1, 1, pear</B><br>leaves %arr1, %arr2 and %arr4 containing <B>pear</B>, <B>apple</B> and <B>banana</B>.<BR>
<LI>but <B>Array Push %arr2, 1, pear, Fill Spaces</B><BR>leaves %arr1, %arr2 and %arr3 containing <b>pear</B>, <B>apple</B> and <B>banana</B>.
</UL>

<H5>Removing Elements</H5>

<P>
Use the <CODE>Array Pop</CODE> action. Note the difference between <CODE>Array Pop</CODE> and <CODE>Variable Clear</CODE>: 
<CODE>Pop</CODE> reduces the number of elements in the array, while <CODE>Clear</CODE> merely changes elements to undefined.
</P>

<P>
Example: if we have the array elements %arr1, %arr2, %arr3 containing <B>apple</B>,<B>pear</B> and <B>banana</B>:
</P>
<UL>
<LI><B>Variable Clear %arr2</B><br>leaves %arr1 and %arr3 containing <B>apple</B> and <B>banana</B>.<BR>
<LI>but <B>Array Pop %arr2</B><br>leaves %arr1 and %arr2 containing <B>apple</B> and <B>banana</B>.
</UL>

<H5>Deleting An Array</H5>

Use <CODE>Array Clear</CODE>.<P>In most cases you could also use <B>Variable Clear %arr*</B> with Pattern Matching checked,
but that would also delete variables called e.g. %arrTOODEETOO so <CODE>Array Clear</CODE> is safer.</P>

<H5>Sorting</H5>

The <CODE>Array Process</CODE> action offers various sorting options, amongst other things.

<H5>Array Efficiency</H5>

Arrays are intended for convenience when processing high-level data, not for e.g.
processing astronomical data.  Doing thousands of array actions will likely
take several seconds (although mostly due to the housekeeping work done by Tasker
in-between each action rather than due to the array operations themselves).
</P>
<P>
In terms of storage efficiency, they are also fairly hopeless. You probably do not
want to store tens of thousands of items in an array.
</P>

<H2>
        FAQ: How Do I... / Can I... ?
        <IMG ALIGN="right" SRC="androidlogo.png"/>
        <IMG ALIGN="right" SRC="icon_tasker.png"/>
</H2>

<UL>
	<LI><A HREF="#z">How can I contact the developer ?</H4>
	<LI><A HREF="#x">How can I send the developer a bug report ?</H4>
	<LI><A HREF="#x2">How can I send the developer a long-term log ?</H4>
	<LI><A HREF="#a">Can I change an app's settings / press it's buttons ?</A>
	<LI><A HREF="#o">Can I control / respond to events in application X with Tasker ?</A>
	<LI><A HREF="#cx">How can I stop Tasker restoring a setting ?</A>
	<LI><A HREF="#c">Can Tasker detect volume button presses ?</A>
	<LI><A HREF="#d">Can Tasker be used from an external SD card ?</A>
	<LI><A HREF="#e">Can I use Tasker to turn the screen on and off ?</A>
	<LI><A HREF="#f">How do I create my default settings ?</A>
	<LI><A HREF="#g">How can I run more than one task when a profile goes active ?</A>
	<LI><A HREF="#h">Can I hide the notification list entry when Tasker is running ?</A>
	<LI><A HREF="#h2">Can I change or remove the status bar icon when Tasker is running ?</A>
	<LI><A HREF="#i">What if I want a repeating time context, but I need to do something that takes a while ?</A>
	<LI><A HREF="#j">How can I do something every minute ?</A>
	<LI><A HREF="#k">How do I specify <I>9:30AM on Monday</I> and <I>10AM on Tuesday</I> with the same profile ?</A>
	<LI><A HREF="#k2">How do I specify weekend night-times ?</A>
	<LI><A HREF="#l">How do I stop the screen dimming when I have the display Stay On set to e.g. 'With AC' ?</A>
	<LI><A HREF="#m">How can I stop Wifi Near toggling wifi on-off when the phone is in Airplane Mode ?</A>
	<LI><A HREF="#n">Can I divert incoming calls ?</A>
	<LI><A HREF="#p">How can I detect if Wifi is connected (not just enabled) ?</A>
	<LI><A HREF="#q">How can I import/export individual profiles, tasks or scenes ?</A>
	<LI><A HREF="#s">How do I turn off the flashing notification LED ?</A>
	<LI><A HREF="#t">How do I put my phone in Silent or Vibrate mode ?</A>
	<LI><A HREF="#u">Can I automate sending of an SMS / Call through Google Voice ?</A>
	<LI><A HREF="#v">Can I change/remove the notification sounds for particular apps ?</A>
	<LI><A HREF="#v2">Can I silence all notifications except from particular applications ?</H4>
	<LI><A HREF="#w">Can I change the input method ?</A>
	<LI><A HREF="#y">How do I test whether I can reach the Internet (ping) ?</A>
	<LI><A HREF="#y2">How can I use whitespace (newline, tab etc) in action parameters ?</A>
	<LI><A HREF="#y3">How can I run a task from a terminal login ?</A>
	<LI><A HREF="#y4">How can I silence the camera shutter sound ?</A>
</UL>

<HR/>

<!-------------------------------------------------------------------->

<A NAME="z"/>
<H4>How can I contact the developer ?</H4>

There is a contact email given at <B>Menu / Info / Support</B>. In
general, this is intended for order and validation help, which is
often confidential, and other private issues.

<P>
Please post Tasker usage queries/problems in the <A HREF="http://groups.google.com/group/tasker">Tasker Forum</A> where the developer is very active.
</P>

<P>Advantages:
<UL>
	<LI>the user community has more experience than the developer with using Tasker
	<LI>other people can benefit if your problem is solved
	<LI>the developer has more time for fixing bugs and adding features, which benefits everyone
</UL>

<!-------------------------------------------------------------------->
<A NAME="x"/>
<H4>How can I send the developer a bug report ?</H4>

<UL>
	<LI>go to <I>Android Settings</I> then <B>About Phone</B>
	<LI>tap 10 or more times on the <B>Build Version</B> entry
	<LI>go back one screen
	<LI>select <B>Developer Options</B>
	<LI>check the <B>USB Debugging</B> option if it's not already checked
	<LI>do whatever it is that causes the problem
	<LI>go back to <B>Developer Options</B> and tap <B>Take Bug Report</B> (the first entry)
	<LI>wait a short while until the bug report is ready (a notification will appear)
	<LI>share using an email application
	<LI>the destination email address is listed in <B>Menu / Info / Support</B> in Tasker
	<LI>include at the top of the email a brief description of the problem that the email concerns
	<LI>disable <B>USB Debugging</B> and <B>Developer Options</B> (switch at top)
</UL>

<P>
Try to make the log as soon as possible after the problem occurs.
</P>

<!-------------------------------------------------------------------->
<A NAME="x2"/>
<H4>How can I send the developer a long-term log ?</H4>

If your problem covers a longer time-frame, you'll need an SD card log because the
system log fills up very quickly:

<UL>
	<LI>you'll need an SD card inserted
	<LI>enable <B>Menu / Prefs / Misc / Debug to SD Card</B> in Tasker
	<LI>when the problem has occured, email the file <I>/sdcard/Tasker/log/tasker.txt</I> to
	the developer email listed at <B>Menu / Info / Support</B>
	<LI>include at the top a brief description of the problem that the log concerns
</UL>

<!-------------------------------------------------------------------->

<A NAME="a"/>
<H4>Can I change an app's settings / press it's buttons ?</H4>

<P>
Standard Android doesn't allow an app to change, poke, prod or peek at anything within another app,
including simulating keypresses and screen taps.
</P>
<P>
On a rooted device, you can use some of the actions in the <CODE>Input</CODE>
category to navigate around an app, click on UI elements and enter text automatically.
</P>

<!-------------------------------------------------------------------->

<A NAME="o"/>
<H4>Can I control / respond to events in application X with Tasker ?</H4>

<P>
If a Tasker user wants to automate some aspect of another program they use, they just need to point the developer of the other app at the <A HREF="#/developers.html">Tasker Developer Page</A> and nag at him/her a bit.
</P>

<!-------------------------------------------------------------------->

<A NAME="cx"/>
<H4>How can I stop Tasker restoring a setting ?</H4>

Tasker will restore any setting which is changed in the Enter
task of a profile.

There are four ways to prevent this:

<OL>
	<LI>deselect the <I>Restore Settings</I> in the Profile Properties
of the relevant profile.
	<LI>if you set the same setting in the Exit task of the profile
Tasker will take that as a hint that the previous value shouldn't be
restored.
	<LI>create a separate task to run the settings actions and
in the Enter task of the profile do a </I>Perform Task</I> action
(from the category <I>Tasker</I>) on that separate task. This trick is
known as Stefan's Setting Sidestep.
	<LI>you can use the corresponding Javascriptlet function 
instead of the setting action. Settings made in Javascriptlets are
not restored.
</OL>



<!-------------------------------------------------------------------->

<A NAME="c"/>
<H4>Can Tasker detect volume button presses ?</H4>

No, sorry, that's not possible ATM.
<P>
The closest you can get is to detect changes in a volume variable
(e.g. %VOLR for the ringer volume) via event Variable Set.
</P>


<!-------------------------------------------------------------------->
<A NAME="d"/>
<H4>Can Tasker be used from an external SD card ?</H4>

<P>
Prior to Android 6.0, that is not possible, even using apps2SD.
</P>

<P>
With Android 6.0+ if the external SD is being used as 'adoptable', 'flex' or 'internal'
(the wording varies) storage, there should be no issue.
</P>

<!-------------------------------------------------------------------->

<A NAME="e"/>
<H4>Can I use Tasker to turn the screen on and off ?</H4>

<P>
Turning on, use the Display / Turn On action. Unfortunately, that action
is inaccessible with Android 2.3+.
</P>

<P>
For turning off, you can use the Display / System Lock action with Android 2.0+.
</P>
<P>
For Android 1.6, you can set the Display Timeout to it's minimum (around 7 seconds)
and then set it back to normal in response to a Display Off event.
</P>

<!-------------------------------------------------------------------->

<A NAME="f"/>
<H4>How do I create my default settings ?</H4>

<P>
You don't have to configure 'default' settings in Tasker.
The 'default' settings are how your device is configured before any Tasker profile becomes
active. This 'default' is automatically restored as profiles become inactive.
</P>
<P>
Exception: changes to settings made in <I>Exit</I> tasks are not restored.
</P>

<!-------------------------------------------------------------------->

<A NAME="g"/>
<H4>How can I run more than one task when a profile goes active ?</H4>

Add an action <I>Perform Task</I> from the category <I>Tasker</I> for
each task that you want to run (don't click the Stop button).
<P>
<B>Warning:</B>: settings in the called tasks will not be restored by Tasker,
only settings changed directly within the Enter task.
</P>

<!-------------------------------------------------------------------->
<A NAME="h"/>
<H4>Can I hide the notification list entry when Tasker is running ?</H4>

If the notification is very annoying, it can be removed
on many devices by setting the icon transparent at
<B>Menu / Prefs / Monitor / Notification Icon</B>.

<P>
If that doesn't work, disable the Run In Foreground setting which can be found
at <B>Menu / Prefs / Monitor / Run In Foreground</B>
</P>
<P>
	Please read the help text associated with this option first.
</P>

<!-------------------------------------------------------------------->

<A NAME="h2"/>
<H4>Can I change or remove the status bar icon when Tasker is running ?</H4>

You can change it with <B>Menu / Prefs / Monitor / Notification Icon</B>.
<P>
You can remove it with <B>Menu / Prefs / Monitor / Show Notification Icon</B>.
</P>

<!-------------------------------------------------------------------->

<A NAME="i"/>
<H4>What if I want a repeating time context, but I need to do something that takes a while ?</H4>

<UL>
<LI>GPS On
<LI>Wait 3 minutes
<LI>GPS Off
</UL>

<!-------------------------------------------------------------------->

<A NAME="j"/>
<H4>How can I do something every minute ?</H4>

<P>
Set a repeat period of 2 minutes (the minumum allowed) and specify a task
like this:
</P>
<UL>
	<LI>Perform Task, TaDa
	<LI>Wait 1 Minute
	<LI>Perform Task, TaDa
</UL>


<!-------------------------------------------------------------------->

<A NAME="k"/>
<H4>How do I specify 9:30AM on Monday and 10AM on Tuesday with the same profile ?</H4>

<P>
You can't, because the Time and Day subcontexts operate completely independent of
each other. You have to specify two profiles and run the same Task(s) with each of
them (by giving the task a name).
</P>

<A NAME="k2"/>
<H4>How do I specify weekend night-times ?</H4>

It's tempting to say:

<BLOCKQUOTE><CODE>
	Time: 23 - 09<BR>
	Day: Friday or Saturday
</CODE></BLOCKQUOTE>

<P>
But that won't work, because on Sunday at e.g. 3am the Day context (and hence the
whole profile) won't be active.
</P>
<P>
For this kind of situation, you need to specify a profile for which morning you want
to be active and another for which evenings. In the example, you want Friday and
Saturday night plus Saturday or Sunday morning:
</P>
<BLOCKQUOTE><CODE>
	Time: 23 - 24<BR>
	Day: Friday or Saturday
</CODE></BLOCKQUOTE>
<BLOCKQUOTE><CODE>
	Time: 00 - 09<BR>
	Day: Saturday or Sunday
</CODE></BLOCKQUOTE>

<!-------------------------------------------------------------------->

<A NAME="l"/>
<H4>How do I stop the screen dimming when I have the display Stay On set to e.g. 'With AC' ?</H4>

The screen dims around 10 seconds before the current Screen Off Timeout value is
reached. You can set Screen Timeout (for the relevant context e.g. 'while docked')
to <B>Never</B> (set all sliders to maximum) if you don't like that behaviour.

<!-------------------------------------------------------------------->

<A NAME="m"/>
<H4>How can I stop Wifi Near toggling wifi on-off when the phone is in Airplane Mode ?</H4>

Add a state <B>Airplane Mode</B> to your profile and click the <B>Invert</B> button, which
means <I>if Airplane Mode is off</I>.

<!-------------------------------------------------------------------->

<A NAME="n"/>
<H4>Can I divert incoming calls ?</H4>

It's not possible to divert incoming calls via Android, but most Mobile Carriers accept special dialled
sequences to do it before the call reaches your phone.
<P>
You can then use Tasker's <I>Phone / Call</I> action (with <I>Auto Dial</I> checked) to setup
and cancel incoming call diversions.
</P>

<P>
The <A HREF="http://en.wikipedia.org/wiki/Call_forwarding">Wikipedia page on Call Forwarding</A> is a good starting point.
</P>

<!-------------------------------------------------------------------->
<A NAME="p"/>
<H4>How can I detect if Wifi is connected (not just enabled) ?</H4>

The 'standard' way is to use State <I>Wifi Connected</I> to set and clear your own variable with
an enter and exit task respectively.

<P>
An alternative trick is to match the word <CODE>connected</CODE> or <CODE>connection</CODE> in the %WIFII variable (the actual word and lower/upper case changes with Android version).
</P>

<!-------------------------------------------------------------------->
<A NAME="q"/>
<H4>How can I import/export individual profiles, tasks or scenes ?</H4>

<P>
Import:
</P>
Go to the main screen, long click on the tab for the type of thing you want to import.
</UL>

<P>
Export: 
<UL>
<LI>go to the main screen 
<LI>long-click on the thing you want to export
</UL>

<!-------------------------------------------------------------------->
<A NAME="s"/>
<H4>How do I turn off the flashing notification LED ?</H4>

Use the Audio / Notification Pulse action.

<P>
If you're wondering what a flashing light is doing in the Audio section: ask Google,
that's where they put it in Android Settings.
</P>

<!-------------------------------------------------------------------->
<A NAME="t"/>
<H4>>How do I put my phone in Silent or Vibrate mode ?</H4>

Use action <I>Audio / Silent Mode</I>.

<P>
Do not try to do it with <I>Volume Ringer</I> or <I>Vibrate on Ringer</I>.
</P>

<!-------------------------------------------------------------------->
<A NAME="u"/>
<H4>Can I automate sending of an SMS / Call through Google Voice ?</H4>

Not directly through Tasker. However, 
<A HREF="http://sites.google.com/site/steelgirderdevelopmentsite/home">Steelgirder Developments</A> have
(non-free) plugins which you can easily use with Tasker to accomplish this.

<P>
Steelgirder and the author of Tasker are agreed on working together wherever further
integration of these plugins and Tasker is needed e.g. support for Tasker variables.
</P>

<!-------------------------------------------------------------------->
<A NAME="v"/>
<H4>Can I change/remove the notification sounds for particular apps ?</H4>

Yes, but it's a little complicated, please see the 
<A HREF="http://groups.google.com/group/tasker/browse_thread/thread/4a6b6ea8b4e4cc86">relevant forum post</A>.

<!---------------------------------------------------------------------->
<A NAME="v2"/>
<H4>Can I silence all notifications except from particular applications ?</H4>

With Tasker versions from 1.0.10, you can try turning off all notifications 
(e.g. via Silent Mode or setting the Notification Volume to 0) and then
using Tasker to do alerts for particular app notifications using the
<CODE>Notification</CODE> event in the UI category.

<!-------------------------------------------------------------------->
<A NAME="w"/>
<H4>Can I change the input method ?</H4>

On a rooted phone, yes, using the free Secure Settings plugin.

<P>
Consider also starring this <A HREF="http://code.google.com/p/android/issues/detail?id=11677">feature request</A> with Google.
</P>

<!-------------------------------------------------------------------->
<A NAME="y"/>
<H4>How do I test whether I can reach the Internet (ping) ?</H4>

<PRE>
<CODE>
  HTTP Get URL (a known webpage), Continue Task On Error
  If [ %HTTPR = 200 ]
     ...
  Endif
</CODE>
</PRE>

<!-------------------------------------------------------------------->
<A NAME="y2"/>
<H4>How can I use whitespace (newline, tab etc) in action parameters ?</H4>

Tasker trims the start and end of all parameters to prevent whitespace causing problems.
The only exception is the <CODE>Variable Set</CODE> action. 
<P>
Therefore, if you want to use whitespace you should first assign it to a variable and then
use the variable where you want the whitespace to appear:

<BLOCKQUOTE><CODE>
Variable Set, %white, THISISANEWLINE<br>
Flash, Here's a newline: %white
</CODE></BLOCKQUOTE>

<!-------------------------------------------------------------------->
<A NAME="y3"/>
<H4>How can I run a task from a terminal login ?</H4>

<PRE>
am broadcast -a net.dinglisch.android.tasker.ACTION_TASK -e task_name YOUR_TASK_NAME
</PRE>

<P>
That's only possible on a rooted phone because otherwise there will be a permission problem.
</P>

<!-------------------------------------------------------------------->
<A NAME="y4"/>
<H4>How can I silence the camera shutter sound ?</H4>

This varies per device.

<P>Try creating a new profile with an <b>App</b> context
and select the Camera app. When asked to create a task, 
add the following actions:
</P>

<OL>
	<LI><I>Task / Wait</I>, <B>2 seconds</B>
	<LI><I>Audio / Sound Effects</I>, <B>off</B>
	<LI><I>Audio / Media Volume</I>, <B>0</B>
	<LI><I>Audio / System Volume</I>, <B>0</B>
	<LI><I>Audio / Notification Volume</I>, <B>0</B>
	<LI><I>Audio / Silent Mode</I>, <B>on</B>
</OL>

<P>
Then go to the Camera app, wait a couple of seconds  and try taking a picture.
</P>

<P>
If you still hear the shutter
sound, go back to the Tasker UI, click on the task that you created and hit
the <B>Play</B> button bottom-left to run the task manually. Then go
back to the Camera app. If you still hear the shutter sound, then it's
not going to be possible for Tasker to disable it on your device.
</P>

<P>
Some manufacturers deliberately prevent disabling of the shutter sound,
perhaps for legal reasons.
</P>

<P>Addendum</P>
<P>
A user has reported that setting DTMF volume to 0 removes the <b>focus</b> sound
in the camera app.
</P>

<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<H2>
        FAQ: Usage Problems
        <IMG ALIGN="right" SRC="androidlogo.png"/>
        <IMG ALIGN="right" SRC="icon_tasker.png"/>
</H2>

<UL>

<LI><A HREF="#0">Why won't Android let me uninstall Tasker ?</A>
<LI><A HREF="#a">Why doesn't the Kill App action work in Android 2.2 like it used to ?</A>
<LI><A HREF="#c">Why isn't GPS coming on for my profile with Time And GPS Location contexts ?</A>
<LI><A HREF="#d">Why can't I select Tasker for an application context ?</A>
<LI><A HREF="#e">Why does it take my Wifi Near state so long to exit ?</A>
<LI><A HREF="#f">Why isn't Tasker detecting when my Location Context changes ?</A>
<LI><A HREF="#g">Why does Tasker mess up the app launching when I have an Application Context for it ?</A>
<LI><A HREF="#h">Why does my profile not do anything ?</A>
<LI><A HREF="#w">Why aren't my settings restored ?</A>
<LI><A HREF="#i">Why does nothing happen when I click a Tasker widget ?</H4>
<LI><A HREF="#j">Why does Tasker crash when I try to create a Location Context ?</A>
<LI><A HREF="#k">Why can't I see any Tasker widgets in the home screen widget selector ?</A>
<LI><A HREF="#l">Why doesn't my repeating Time Context work ?</A>
<LI><A HREF="#m">Why aren't my exit tasks run / settings restored before the device shuts down ?</A>
<LI><A HREF="#n">Why does my location exit task fire multiple times ?</A>
<LI><A HREF="#o">Why does my Cell Near state keep going inactive ?</A>
<LI><A HREF="#p">Why doesn't Notify LED work ?</A>
<LI><A HREF="#q">Why do Tasker widgets disappear after a reboot on my Wildfire ?</A>
<LI><A HREF="#r">Why isn't my docking station detected ?</A>
<LI><A HREF="#s">Why aren't I getting any cell data for the Cell Near state ?</A>
<LI><A HREF="#t">Why isn't there a green light for the On/Off radio button on the main screen ?</A>
<LI><A HREF="#u">Why does the action Display Brightness cause my keyboard or application to close ?</A>
<LI><A HREF="#v">Why is the date in Tasker's notification list completely wrong ?</A>
<LI><A HREF="#w">Why won't Tasker install on my custom ROM ?</A>
<LI><A HREF="#x">Why doesn't my <CODE>Perform Task</CODE> action work when I Test it ?</A>
<LI><A HREF="#app">Why doesn't my App Context work ?</A>
<LI><A HREF="#keyguard">Why doesn't the Keyguard action work properly ?</A>
<LI><A HREF="#root">Why doesn't Tasker think my device is rooted ?</A>
</UL>

<HR/>

<!----------------------------------------------------------------------------->

<A NAME="0"/>
<H4>Why won't Android let me uninstall Tasker ?</H4>

It's probably because you're using an action which needs Tasker's device administrator function (e.g. <CODE>Display / System Lock</CODE>).
<P>
You can disable it by going to <CODE>Android Settings / Location &amp; Security / Device Administration</CODE>.
</P>


<!----------------------------------------------------------------------------->

<A NAME="a"/>
<H4>Why doesn't the Kill App action work in Android 2.2 like it used to ?</H4>

Google decided that the feature was being abused and causing more problems
than it solved and it was therefore watered down.
<P>
From Tasker version 1.0.21 it's more effective again if you have a rooted device.
</P>

<!----------------------------------------------------------------------------->

<A NAME="c"/>
<H4>Why isn't GPS coming on for my profile with Time And GPS Location contexts ?</H4>

In order to save power, Tasker only activates context detection as it is needed.
Therefore it will not attempt to fix your GPS location unless the Time context is
active.
<P>
See the <A HREF="#userguide/en/power.html">Power Usage</A> section of the userguide
for more details.
</P>

<!----------------------------------------------------------------------------->

<A NAME="d"/>
<H4>Why can't I select Tasker for an application context ?</H4>

This is considered too dangerous. A mistake could easily result in being unable
to enter Tasker and therefore being unable to rectify the mistake.

<!----------------------------------------------------------------------------->

<A NAME="e"/>
<H4>Why does it take my Wifi Near state so long to exit ?</H4>

<P>
Wifi Near requires <b>two</B> check periods to pass without seeing the Access Point before the
profile exits. This is intended to avoid the context activating and deactivating if the
AP is briefly not visible.
</P>
<P>
Note also that there are different check periods for when the device is on or off, and by default
the off-period is much longer than the on-period. See Menu / Preferences / Monitor/ Display On/Off Timings.
</P>


<!----------------------------------------------------------------------------->

<A NAME="f"/>
<H4>Why isn't Tasker detecting when my Location Context changes ?</H4>

<P>
Your radius is probably too small.
<P>
<P>
As an example, if you are not using GPS the accuracy of your fixes is probably
around += 2km, so your radius should be also minimally 2km.
</P>
<P>
If you *are* using GPS, the accuracy may still be only +-400m in built-up areas.
</P>
<P>Here's a good way to create a location context:
</P>
<UL>
        <LI>go to the geographical location you want a context for
        <LI>make a new location context
        <LI>deselect GPS if you don't want to use it
        <LI>press Grab Fix, and wait till it's done
</UL>

<P>
This will set your radius appropriate to the accuracy of the location providers at that spot.
</P>

<P>
If there's still nothing happening:
</P>

<UL>
	<LI>check GPS is on in Android Settings, if you're using GPS.
	<LI>check your device has a view of the sky, if you're using GPS
	<LI>network connectivity is often needed to get GPS started, and always needed for a Net location context.
	<LI>realize that location is only checked every 10 minutes by default when the Display is off (to save power).
	You can check more often by changing <CODE>Menu / Prefs / Monitor / Display Off Timings / All Checks</CODE>
	<LI>try the <A HREF="#h">general 'nothing happens'</A> tips
	<LI>look at <A HREF="#userguide/en/loctears.html">other possibilities for detecting your location</A>
</UL>

<!----------------------------------------------------------------------------->

<A NAME="g"/>
<H4>Why does Tasker mess up the app launching when I have an Application Context for
it ?</H4>
<P>
Some applications are sensitive like this. Probably all you have to do is put as the
first action in the <B>Enter</B> task the action <I>Wait</I> and give as a
parameter e.g. 300ms. If that doesn't work keep increasing the value until it does.
</P>
<P>
That gives the application time to finish initializing before messing around
with the screen brightness etc.
</P>

<!----------------------------------------------------------------------------->
<A NAME="w"/>
<H4>Why aren't my settings restored ?</H4>

Some possibilities:

<UL>
<LI>if your profile sets setting x to <I>on</I>, then
if x is already <I>on</I> when the profile goes active, it will be left at <I>1</I> when the
profile exits. Test for this by putting an Alert / Notify action in the enter
task to see what the original value was.
<LI>some other apps installed on the system can cause Tasker to be killed and
therefore the original settings being forgotten e.g. this has been reported to be
a problem with Titanium Backup.
<LI>similarly, if the system is rebooted suddenly, some devices aren't fast enough
to save all the settings before the system turns off.
</UL>

<!----------------------------------------------------------------------------->

<A NAME="h"/>
<H4>Why does my profile not do anything ?</H4>

Firstly, if are you using any of these other apps which have been reported as interfering
try disabling or temporarily uninstalling them:

<UL>
	<LI>'Task Killers'
	<LI>Quick System Info
	<LI>Autostarts
</UL>

<P>After that:</P>

<UL>
<LI>is the profile enabled ? It should have a green tick next to it.
<LI>have you clicked the <I>On</I> button in the <A HREF="#userguide/en/activity_summary.html">Profile List screen</A> before leaving Tasker ?
It should be showing a <B>green light</B>.
<LI>is the profile shown as active in the status bar pulldown ? If so, it's probably your task that's not working.
<LI>make sure the Monitor service running in the foreground (see <CODE>Menu / Prefs / Monitor</CODE>)
<LI>how's your available memory, see <CODE>Android Settings / Application / Running Services / Available Memory</CODE>. Are you maybe getting
Tasker's low-memory notifications ?
</UL>

<P>
If your profile is activating but the task doesn't seem to do anything:
</P>

<UL>
<LI>perhaps you are running a pirated version of Tasker ?
<LI>try enabling <B>Menu / Prefs / More / Popup Warning/Errors</B> to see if any errors are occuring (they may not be shown till you go back to the Tasker UI)
<LI>look in <B>Menu / More / Run Log</B> to see if the task is being carried out.
<LI>try a simple task like <I>Alert / Vibrate</I> or <I>Alert / Flash</I>
<LI>perhaps another profile is interfering: do <B>Menu / Data / Backup</B>, then delete all other profiles except the one that's not working
</UL>

<!----------------------------------------------------------------------------->

<A NAME="i"/>
<H4>Why does nothing happen when I click a Tasker widget ?</H4>

Usually this is due to Tasker not being enabled, see the <I>On/Off</I> button in the first UI screen.

<!----------------------------------------------------------------------------->
<A NAME="j"/>

<H4>Why does Tasker crash when I try to create a Location Context ?</H4>

The likely cause is that you are running a non-standard Android ROM which doesn't
contain the correct (or maybe any) Google Maps library.

<!----------------------------------------------------------------------------->
<A NAME="k"/>

<H4>Why can't I see any Tasker widgets in the home screen widget selector ?</H4>

This is almost always because you have Tasker installed on the SD card, which is just not
possible due to several reasons related to how Tasker works.

<!----------------------------------------------------------------------------->
<A NAME="l"/>

<H4>Why doesn't my repeating Time Context work ?</H4>

<P>
It's important to understand that a repeating time context is a <B>series of instant events</B>.
</P>

<P>Trying to combine a repeating time context with another context that does
active monitoring usually won't work e.g.

<BLOCKQUOTE><CODE>
	Time: Repeating Every 5 Minutes
<BR>
	Task: Enable Wifi (no toggle)
</CODE></BLOCKQUOTE>
<BLOCKQUOTE><CODE>
	State: Wifi Near
<BR>
	Task: XXX
</CODE></BLOCKQUOTE>

<P>
Wifi Near is checked on a static schedule. You currently can't change the schedule dynamically,
so the above two profiles will only do XXX when the 5 minute repeat happens to coincide with
when Tasker is doing it's Wifi Near check.
</P>

<!----------------------------------------------------------------------------->
<A NAME="m"/>

<H4>Why aren't my exit tasks run / settings restored before the device shuts down ?</H4>

Android gives an app very little time to perform cleanup during shutdown, this is especially
a problem on slow devices.

<P>
Therefore (as of 1.0.9), Tasker only attempts to run <I>Variable Set, Clear, Add</I> and <I>Subtract</I> actions
when the device shuts down, since they take relatively little time.
</P>
<P>
In the future, Tasker will have some concept of default values which will then be restored when
it starts after the device has booted again.
</P>
<P>
On Android 1.5 devices, Tasker cannot do anything at shutdown because the system does not send a notification.
</P>

<!----------------------------------------------------------------------------->
<A NAME="n"/>
<H4>Why does my location exit task fire multiple times ?</H4>

Probably the location Android reports is <I>bouncing</I> between a point inside
your location radius and one outside. This is relatively unusual because Tasker
has some built-in mechanisms to try and prevent it.

<P>
A quick fix is to add a <I>Cooldown</I> to your profile. Click on a context,
select Profile then Properties and slide the Cooldown Time to 30 minutes.
</P>
<P>
The profile is then prevented from going active more than once every 30 minutes.
</P>

<!----------------------------------------------------------------------------->
<A NAME="o"/>
<H4>Why does my Cell Near state keep going inactive ?</H4>

Even when your phone is motionless, it will probably still often switch between
different cell towers. Going to a different room in your house may involve
a whole different set of cell towers.

<P>
When you notice your Cell Near state going inactive at your location (and assuming
you still have a signal), launch Tasker, click on the Cell Near context and edit
it. Click <B>Scan</B> and you should immediately see a new Cell added to the list.
Click <B>Done</B> and then <B>Apply</B> and your context should go active again.
</P>

<P>
Sometimes the new cell will only be visible for a few seconds and will not appear
when you press scan. In that case, press the <B>Recent</B> button and
select it manually from the list.
</P>

<A NAME="p"/>
<H4>Why doesn't Notify LED work ?</H4>

From the action help (hint hint):

<UL>
	<LI>not all devices support all colours. Many devices will only support red and green. In general, colours near the top of the list are more likely to be supported.
	<LI>some devices will only flash the LED when the device is off at the time the notification is received.
</UL>

<!----------------------------------------------------------------------------->
<A NAME="q"/>
<H4>Why do Tasker widgets disappear after a reboot on my Wildfire ?</H4>

This is a bug on some Wildfire firmware version.

<P>It's not possible for the Tasker developer to
work around, but is reported as fixed in version 1.25.405.1 of the firmware.
</P>


<!----------------------------------------------------------------------------->
<A NAME="r"/>
<H4>Why isn't my docking station detected ?</H4>

Some docking stations just aren't recognized as such (Android doesn't indicate that
a docking station has been connected).

<P>
Depending on other things you connect your device to, you might be able to use one of
the following as a workaround:
</P>

<UL>
	<LI>State: USB connected
	<LI>State: Power
	<LI>State: BT Connected (if it's a BT dock)
</UL>


<!----------------------------------------------------------------------------->
<A NAME="s"/>
<H4>Why aren't I getting any cell data for the Cell Near state ?</H4>

A user reports being able to fix this issue as follows:

<PRE>
I was able to fix this issue by going into the EPST menues using
##DATA# on the keypad and changing the EVDO Preferred mode from HDR to
Automatic.
</PRE>

<P>
It's possible that you will only be able to receive, not make, phone
calls as another symptom of this problem.
</P>


<!----------------------------------------------------------------------------->
<A NAME="t"/>
<H4>Why isn't there a green light for the On/Off radio button on the main screen ?</H4>

A user discovered that this happens when the DPI value of the Android build is set to
particulart values (e.g. 200,240 is OK, 220 the light disappears).

<!----------------------------------------------------------------------------->
<A NAME="u"/>
<H4>Why does the action Display Brightness cause my keyboard or application to close ?</H4>

Normally Android does not effect changes to brightness immediately, so Tasker has to
use a trick to make it happen. That trick can sometimes have the side effect that 
e.g. some dialogs like the soft keyboard may close.

<P>
To avoid that, you can deselect the Immediate Effect checkbox in the Display Brightness action.
</P>

<!----------------------------------------------------------------------------->
<A NAME="v"/>
<H4>Why is the date in Tasker's notification list completely wrong ?</H4>

<P>
This occurs if you select a transparent <I>Notification Icon</I> at <CODE>Menu / Prefs / Monitor</CODE>,
but don't specify a <I>Custom Notification Layout</I>.
</P>
<P>
Changing to a non-transparent icon or a custom layout will fix the problem.
</P>

<!----------------------------------------------------------------------------->
<A NAME="w"/>
<H4>Why won't Tasker install on my custom ROM ?</H4>

The most likely reason is that you don't have Google Maps installed on the device. With
several custom ROMs that comes as a separate package.

<!----------------------------------------------------------------------------->
<A NAME="x"/>
<H4>Why doesn't my <CODE>Perform Task</CODE> action work when I Test it ?</H4>
 
<P>
When task (a) runs a <CODE>Perform Task</CODE> action to start task (b), the order in which the two tasks are executed depends on their relative priorities.
</P>
<P>
A feature of the Test button is that the tested task (a) runs at extremely high priority
to ensure that the task runs even if other tasks are running in the background.
</P>
<P>
So testing <CODE>Perform Task</CODE> with the Test button will only work as expected if in actual usage task (a) will always have higher priority than task (b) or the <CODE>Perform Task</CODE> action has <B>Stop</B> specified.
</P>

<!----------------------------------------------------------------------------->
<A NAME="app"/>
<H4>Why doesn't my App Context work ?</H4>

<P>If you are using Android 5.0+, make sure Tasker's Accessibility Service is enabled in Android Settings (Accessibility section).</P>

<P>If you are using Nova Launcher, set <CODE>Settings / App &amp; Widget Drawer / Advanced / Automatically Close</CODE> to <B>off</B>.</P>

<P>Some apps (very few) aren't detected by Tasker, usually due to their internal structure.</P> 
<P>Some custom Android ROMs also have special configurations which prevent Tasker's app detection working.</P>
<P>For the latter problem, there are a few things you can try:
</P>
<UL>
<LI>look for special settings in your ROM that relate to 'keeping the launcher in memory'. They should be <B>disabled</B>.

<LI>change the build properties file. Look in <CODE>/system/build.prop</CODE> (or possibly <CODE>/system/local.prop</CODE> or <CODE>/data/local.prop</CODE>) for a line like:
<BLOCKQUOTE>
ro.HOME_APP_ADJ=-17
</BLOCKQUOTE>

<P>Change it in a terminal program to look like this:</P>

<BLOCKQUOTE>
ro.HOME_APP_ADJ=1
</BLOCKQUOTE>

<P>If you didn't find an existing line, just add the new line as above.</P>

<P>Note: you will first need to make <CODE>/system</CODE> writeable. You can
do that e.g. with Tasker's <CODE>Remount</CODE> action. Remember to make it
not-writeable again after making the change.
</P>
<LI>try detecting apps with a state using the <B>%WIN</B> (<I>window title</I>) variable; create a new state <BLOCKQUOTE><CODE>Variable Value, %WIN, Matches, TITLE</CODE></BLOCKQUOTE>where TITLE is the title of the window of the app you are interested in. For this solution to work, you also need to enable Tasker's <I>Accessibility Service</I> in Android Settings.
<P>
You can check what %WIN shows for the app you are interested in with this profile:
<BLOCKQUOTE>
	Event: Variable Set, %WIN<BR>
	Alert / Flash, Win is now %WIN
</BLOCKQUOTE>

</UL>

<!----------------------------------------------------------------------------->
<A NAME="keyguard"/>
<H4>Why doesn't the Keyguard action work properly ?</H4>

<P>
Android does not officially support toggling of the Keyguard by an app. The Keyguard
action was introduced in an early version of Tasker when a reliable workaround was
possible. 
</P>

<P>
In more recent Android versions, the workaround is no longer so reliable due to
internal changes made within Android. If Keyguard works at all, there may be
disturbing side-effects.
</P>
<P>
The Keyguard action will likely be most reliablewhen the display is on and and the
Keyguard is already unlocked.
</P>
<P>
Some people have more luck with the same functionality provided by the 
<A HREF="https://play.google.com/store/apps/details?id=com.intangibleobject.securesettings.plugin">Secure Settings plugin</A>. After install, you can find the
Secure Settings plugin in the <B>Plugin</B> action category. Note that a rooted
device is <B>not</B> needed to use this part of Secure Settings.
</P>

<!----------------------------------------------------------------------------->
<A NAME="root"/>
<H4>Why doesn't Tasker think my device is rooted ?</H4>

Tasker requires two things before root functionality is enabled:

<OL>
<LI>the <CODE>su</CODE> program must be in your path
<LI><B>one</B> of the following must be found:
<UL>
<LI>a superuser package
<LI>the word <I>modversion</I> somewhere in the file <CODE>/system/build.prop</CODE>
</UL>
</OL>

<P>If root is not being detected on your device but you are sure that root can be used by Tasker, you can therefore probably fix that by adding a line like:
</P>
<BLOCKQUOTE><CODE># modversion this line enables Tasker root support</CODE></BLOCKQUOTE>

<P>
to the top of the file <CODE>/system/build.prop</CODE>.
</P>










<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>


<H2>
        FAQ: Why... ?
        <IMG ALIGN="right" SRC="androidlogo.png"/>
        <IMG ALIGN="right" SRC="icon_tasker.png"/>
</H2>

<UL>
	<LI><A HREF="#f">Why am I an idiot if I use a pirated copy of Tasker ?</A>
	<LI><A HREF="#a">Why is GPS often scanning when I unlock my device ?</A>
	<LI><A HREF="#b">Why does Tasker need so many permissions ?</A>
	<LI><A HREF="#c">Why does Tasker need the INTERNET permission ?</A>
	<LI><A HREF="#d">Why isn't Tasker shown in the Application Context list ?</A>
	<LI><A HREF="#e">Why does Tasker have it's own music player <B>and</B> controls for the system music player ?</A>
	<LI><A HREF="#g">Why does a Cell Near context not become inactive when I turn on Airplane Mode ?</A>
	<LI><A HREF="#h">Why can't I use a downloaded icon for my shortcut task / Notify action ?</A>
	<LI><A HREF="#i">Why does my profile have 2 enter tasks ? Why can't I add an exit task ?</A>
</UL>

<HR/>

<!------------------------------------------------------------------------------->
<A NAME="f"/>
<H4>Why am I an idiot if I use a pirated copy of Tasker ?</H4>

The hacker can do virtually anything with your phone. Record your
calls and upload them to a website, SMS your location and all your
contacts, make calls automatically, wipe your SD card, secretely
record from your microphone any time etc etc

<!------------------------------------------------------------------------------->
<A NAME="a"/>
<H4>Why is GPS often scanning when I unlock my device ?</H4>

When the device wakes up, Tasker switches from a low-frequency GPS check schedule to a
higher-frequency one. Android's GPS software always does an immediate scan when
switching the check frequency.

<P>
It's not because Tasker is constantly scanning while the device is off
</P>

<P>
You can change the frequency in Menu / Prefs / Monitor.
</P>

<!------------------------------------------------------------------------------->

<A NAME="b"/>
<H4>Why does Tasker need so many permissions ?</H4>

Because it can do so much!

<P>
Unfortunately, Android requires that an app specify it's permissions even if they are
never used, which means that permissions for all of the things which the user could
<B>potentially</B> ask Tasker to do need to be specified.
</P>
<P>
If you are still concerned, consider that Tasker has over 25,000 downloads at the time of writing and any abuse taking place would quickly be discovered.
</P>

<!------------------------------------------------------------------------------->

<A NAME="c"/>
<H4>Why does Tasker need the INTERNET permission ?</H4>

The INTERNET permission is used solely for:

<UL>
	<LI>google maps downloading map data, only for setting up a Location context
	<LI>to carry out HTTP Post/Get actions and other actions that require an Internet connection by their nature
	<LI>to verify the order number, and only until it has been successfully verified
	<LI>to check whether a new Tasker version is available, if configured in Preferences
</UL>

<P>
Tasker never directly uses Internet access for <B>anything</B> else.
</P>

<!------------------------------------------------------------------------------->

<A NAME="d"/>
<H4>Why isn't Tasker shown in the Application Context list ?</H4>

Because it's easy to get into trouble firing tasks in Tasker. For example, if 
a profile is setup with a Tasker Application Context and a task with Load App Calculator,
it will not be possible to enter Tasker anymore.

<!------------------------------------------------------------------------------->

<A NAME="e"/>
<H4>Why does Tasker have it's own music player <B>and</B> controls for the system music player ?</H4>

<UL>
	<LI>the system music player is not guaranteed to be present or the same on all systems.
	<LI>finer control can be exercised over the Tasker player e.g. starting the track
	from a preset seek point
	<LI>Tasker's player is more discrete, there is no notification bar icon.
	<LI>by having two players available you can do things like alternating audio from different
	music sources or even playing simiultaneously.
</UL>

<!------------------------------------------------------------------------------->

<A NAME="g"/>
<H4>Why does a Cell Near context not become inactive when I turn on Airplane Mode ?</H4>

Cell Near is <I>sticky</I>. That means that once active it stays active until a non-matching
Cell ID is seen. In Airplane Mode no Cell IDs are seen and so the context stays active.

<P>
Many people use Airplane Mode at night e.g. to save battery. If you also have a Cell Near
profile that detects when you are home, it would become inactive at night if Cell Near wasn't
sticky.
</P>
A couple of points:
<UL>
	<LI>the Cell radio isn't being turned on by Tasker in Airplane Mode.
	<LI>if you want a profile to become inactive for Airplane Mode, just add an Inverted
	state Airplane Mode to it.
</UL>
<P>


<!------------------------------------------------------------------------------->
<A NAME="h"/>
<H4>Why can't I use a downloaded icon for my shortcut task / <CODE>Notify</CODE> action ?</H4>

Some things just weren't meant to be (i.e. Android doesn't allow it).
<P>
To solve the shortcut problem, you can always use a widget though.
</P>

<P>
For notifications:
<UL>
<LI>if you would like this to be possible one day, please star this
<A HREF="http://code.google.com/p/android/issues/detail?id=12302">Android feature request</A>
<LI>it would be technically possible to create 'icon pack' APKs and that might happen one day
</UL>

<!------------------------------------------------------------------------------->
<A NAME="i"/>
<H4>Why does my profile have 2 enter tasks ? Why can't I add an exit task ?</H4>

That's because it's an <A HREF="#instant">instant</A> profile.

<P>
As a convenience, the Exit task with such profiles is replaced by an extra Enter task in case
you have a lot to do with that profile.
</P>

<P>
Note that the tasks you specify execute in the order they are specified, their actions
do not alternate.
</P>

<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>


<H2>
        FAQ: App Creation
        <IMG ALIGN="right" SRC="androidlogo.png"/>
        <IMG ALIGN="right" SRC="icon_tasker.png"/>
</H2>

<UL>
        <LI><A HREF="#c">Does app creation support profiles and scenes ?</A>
        <LI><A HREF="#a">Why is the app always shown as running ?</A>
        <LI><A HREF="#b">How do I do initialization on the first launch ?</A>
        <LI><A HREF="#h">How can my task tell if it is running in Tasker or a child app ?</A>
        <LI><A HREF="#d">Why isn't my app detecting background events ?</A>
	 <LI><A HREF="#e">How can I send the developer a short-term App Factory log ?</A>
	 <LI><A HREF="#e2">How can I send the developer a long-term App Factory log ?</A>
	 <LI><A HREF="#f">Can I include Google Play's licencing service in my app ?</A>
	 <LI><A HREF="#g">Can I get the java source code from my created app ?</A>
</UL>

<!----------------------------------------------------------------------------->

<A NAME="c"/>
<H4>Does app creation support profiles and scenes ?</H4>

<P>
Sure. You can export projects as apps and projects can contain
profiles, tasks and scenes.
</P>
<P>
For help accessing projects, see <CODE>Menu / Info / Help This Screen</CODE>
in the main screen.
</P>

<!----------------------------------------------------------------------------->

<A NAME="a"/>
<H4>Why is the app always shown as running ?</H4>

<P>
Tasker tries to detect when it's monitor service is no longer needed but that is
not always possible. You can put a <CODE>Disable</CODE> action from the <CODE>Tasker</CODE>
category at the end of your launch task to ensure that it happens.
</P>

<P>
The monitor will be started again automatically each time the app is lauched from the home
screen.
</P>


<!----------------------------------------------------------------------------->
<A NAME="b"/>
<H4>How do I do initialization on the first launch ?</H4>

Setup your launch task something like this:

<PRE><CODE>
If %LaunchCount = 0
   ...initialization actions...
Else
   ...normal actions...
Elsif
Variable Add, %LaunchCount, 1
</CODE></PRE>

<!----------------------------------------------------------------------------->
<A NAME="h"/>
<H4>How can my task tell if it is running in Tasker or a child app ?</H4>

Use the <B>Test App</B> action and select the mode <B>This Package</B>.
<P>
The resulting variable will contain the package identifier you specified in the
App Configuration screen if the task is running in a child app, otherwise
it will contain one of <I>net.dinglisch.android.tasker</I> or <I>net.dinglisch.android.taskerm</I>.
</P>

<!----------------------------------------------------------------------------->
<A NAME="d"/>
<H4>Why isn't my app detecting background events ?</H4>

One possible cause is: when an app has just been installed on Android it is in a 'frozen' state until
there is some user interaction with it (usually clicking the home screen icon
at least once).

<!-------------------------------------------------------------------->
<A NAME="e"/>
<H4>How can I send the developer a short-term App Factory log ?</H4>

<UL>
        <LI>download aLogcat, free from Android Market
        <LI>disable Tasker in the main screen bottom-left
        <LI>in the App Config screen, check <I>Advanced Properties</I> and then <I>Debug</I>
        <LI>create and install the new app *twice*
	<LI>launch the new app from the home screen
	<LI>reproduce whatever conditions cause the problem
        <LI>go to aLogCat, click <B>Menu / Pause</B> then <B>Menu / Send</B>
        <LI>the destination email is listed in <B>Menu / Info / User Support</B> in Tasker
        <LI>include at the top a brief description of the problem that the email concerns
</UL>

<P>
Try to make the log as soon as possible after the problem occurs.
</P>

<!-------------------------------------------------------------------->
<A NAME="e2"/>
<H4>How can I send the developer a long-term App Factory log ?</H4>

<UL>
        <LI>disable Tasker by long-clicking the icon top-left in the main screen
        <LI>in the App Config screen, check <I>Advanced Properties</I> and then <I>Debug</I>
        <LI>create and install the new app *twice*
	<LI>enable the <B>Storage</B> permission for the app in Android Settings if necessary
	<LI>launch the new app from the home screen
	<LI>reproduce whatever conditions cause the problem
	<LI>send the developer the log files in the directory NAMEOFAPP in the root directory of the SD card
        <LI>the destination email is listed in <B>Menu / Info / User Support</B> in Tasker
        <LI>include at the top a brief description of the problem that the email concerns
</UL>

<P>
Try to make the log as soon as possible after the problem occurs.
</P>

<!-------------------------------------------------------------------->
<A NAME="f"/>
 <H4>Can I include Google Play's licencing service in my app ?</H4>

No, this is not possible.
<P>
Tasker's code does not include the licencing service because of continual problems
it caused. In any case, the licensing service is ineffectual for preventing
unauthorized code distribution.
</P>
<P>
If you really want to include licensing in your app, you could e.g. require the
user to enter their order code and check via the <I>HTTP Get</I> action on your
server if that is a valid number.
</P>
<P>
Setting up such a server to download Google order details and accept verification
requests is a lot of effort and requires some technical knowledge, however.
</P>


<!-------------------------------------------------------------------->
<A NAME="g"/>
<H4>Can I get the java source code from my created app ?</H4>

<P>
Short answer: no.
</P>

<P>
Long answer: when a new app is created, Tasker doesn't create new java code to
implement the things in your task or project configuration. Instead, the existing
Tasker code is used with the new app and executed similarly to how it's executed
in Tasker, but in the shell of a new APK.
</P>

<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>


<H2>
        FAQ: Other
        <IMG ALIGN="right" SRC="androidlogo.png"/>
        <IMG ALIGN="right" SRC="icon_tasker.png"/>
</H2>

<UL>
        <LI><A HREF="#a">Do you plan to include feature X ?</A>
        <LI><A HREF="#b">Should I worry about using Tasker's Accessibility service ?</A>
        <LI><A HREF="#diff">What's the difference between a Widget and a Shortcut ?</A>
	<LI><A HREF="#instant">What's an <I>Instant Profile</I> ?</A>
</UL>

<!----------------------------------------------------------------------------->

<A NAME="a"/>
<H4>Do you plan to include feature X ?</H4>

The developer has a large list of potential features and works through it according
to a mystical method based on star configurations. It's difficult to say what
will be done in advance, sorry.

<!----------------------------------------------------------------------------->
<A NAME="b"/>
<H4>Should I worry about using Tasker's Accessibility service ?</H4>

Not at all.

<P>
Although the Android warning says Tasker might read passwords, in fact:
</P>

<UL>
	<LI>Android doesn't allow apps to see the contents of fields labelled <I>Password</I>
	<LI>Tasker doesn't even ask Android for data about text fields, only buttons, windows
	and notifications
</UL>

<!----------------------------------------------------------------------------->
<A NAME="instant"/>
<H4>What's an <I>Instant Profile</I> ?</H4>

<P>
Most profiles have a duration. Their enter task fires, they are active for a while, then they go inactive and settings
may be restored or an exit task fired. However, profiles with
</P>

<UL>
    <LI>an Event context, <B>or</B>
    <LI>a Time context where the From parameter is the same as the To parameter, <B>or</B>
    <LI>a Time context with a repeat value specified
</UL>

<P>
are only active for an instant and hence it does not make sense to talk about an exit task and restoration of settings.
</P>

<P>
There's no point setting brightness from 200 to 30, and then a millisecond later back to 200, 
therefore settings made by an instant profile stay at whatever value is specified.
</P>

<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>


<!--#include file=tableend.html -->
